(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("mobx"),require("mobx-react")):"function"==typeof define&&define.amd?define(["react","mobx","mobx-react"],t):"object"==typeof exports?exports.mobxDevtools=t(require("react"),require("mobx"),require("mobx-react")):e.mobxDevtools=t(e.React,e.mobx,e.mobxReact)}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogEnabled=t.setGraphEnabled=t.setUpdatesEnabled=t.configureDevtool=t.UpdatesControl=t.LogControl=t.GraphControl=t["default"]=void 0;var r=n(1);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r)["default"]}});var i=n(10);Object.defineProperty(t,"GraphControl",{enumerable:!0,get:function(){return o(i)["default"]}});var a=n(11);Object.defineProperty(t,"LogControl",{enumerable:!0,get:function(){return o(a)["default"]}});var u=n(12);Object.defineProperty(t,"UpdatesControl",{enumerable:!0,get:function(){return o(u)["default"]}});var l=n(28),s=o(l),c=n(3);s["default"].polyfill();var d=t.configureDevtool=function(e){var t=e.logEnabled,n=e.updatesEnabled,o=e.graphEnabled,r=e.logFilter,i={};void 0!==t&&(i.logEnabled=Boolean(t)),void 0!==n&&(i.updatesEnabled=Boolean(n)),void 0!==o&&(i.graphEnabled=Boolean(o)),"function"==typeof r&&(i.logFilter=r),(0,c.setGlobalState)(i)};t.setUpdatesEnabled=function(e){return d({updatesEnabled:e})},t.setGraphEnabled=function(e){return d({graphEnabled:e})},t.setLogEnabled=function(e){return d({logEnabled:e})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(3),d=n(9),p=o(d),f=n(22),g=o(f),h=n(24),b=o(h),y=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState((0,c.getGlobalState)())},o.handleToggleGraph=function(){o.setState({hoverBoxes:[],graphEnabled:!o.state.graphEnabled})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.setState((0,c.getGlobalState)())}},{key:"componentDidMount",value:function(){c.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=this.props,t=e.noPanel,n=e.highlightTimeout,o=this.state,r=o.renderingBoxes,i=o.hoverBoxes;return s["default"].createElement("div",null,t!==!0&&s["default"].createElement(p["default"],{position:this.props.position,highlightTimeout:n}),s["default"].createElement(g["default"],{boxes:r.concat(i)}),s["default"].createElement(b["default"],null))}}]),t}(l.Component);y.propTypes={highlightTimeout:l.PropTypes.number,position:l.PropTypes.object,noPanel:l.PropTypes.bool},y.defaultProps={noPanel:!1},t["default"]=y},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t._handleClick=t._handleMouseMove=t.restoreLogFromLocalstorage=t.restoreUpdatesFromLocalstorage=t.getGlobalState=t.setGlobalState=t.eventEmitter=void 0;var r=n(4),i=o(r),a=n(5),u=o(a),l=n(6),s=o(l),c=n(7),d=o(c),p=n(8),f=o(p),g="mobx-react-devtool__updatesEnabled",h="mobx-react-devtool__logEnabled",b={updatesEnabled:!1,graphEnabled:!1,logEnabled:!1,hoverBoxes:[],renderingBoxes:[],logFilter:function(){return!0}},y=t.eventEmitter=new s["default"];y.setMaxListeners(1/0);var v=void 0,m=t.setGlobalState=function(e){b.logEnabled!==e.logEnabled&&(e.logEnabled===!0?(v&&v(),v=i["default"].spy(function(e){return(0,f["default"])(e,b.logFilter)})):e.logEnabled===!1&&v&&v()),"undefined"!=typeof window&&window.localStorage&&(e.updatesEnabled===!0?window.localStorage.setItem(g,"YES"):e.updatesEnabled===!1&&window.localStorage.removeItem(g),e.logEnabled===!0?window.localStorage.setItem(h,"YES"):e.logEnabled===!1&&window.localStorage.removeItem(h)),e.graphEnabled===!1&&(e.hoverBoxes=[]),b=Object.assign({},b,e),y.emit("update")},I=(t.getGlobalState=function(){return b},t.restoreUpdatesFromLocalstorage=function(){if("undefined"!=typeof window&&window.localStorage){var e="YES"===window.localStorage.getItem(g);m({updatesEnabled:e})}},t.restoreLogFromLocalstorage=function(){if("undefined"!=typeof window&&window.localStorage){var e="YES"===window.localStorage.getItem(h);m({logEnabled:e})}},function(e){for(var t=e,n=void 0;t;){if(n=u["default"].componentByNodeRegistery.get(t))return{component:n,node:t};t=t.parentNode}return{component:void 0,node:void 0}});t._handleMouseMove=function(e){if(b.graphEnabled){var t=e.target,n=I(t).node;if(n){var o=n.getBoundingClientRect();m({hoverBoxes:[{id:"the hovered node",type:"hover",x:o.left,y:o.top,width:o.width,height:o.height,lifeTime:1/0}]})}}},t._handleClick=function(e){if(b.graphEnabled){var t=e.target,n=I(t).component;if(n){e.stopPropagation(),e.preventDefault();var o=i["default"].extras.getDependencyTree(n.render.$mobx);(0,d["default"])(o),m({dependencyTree:o,hoverBoxes:[],graphEnabled:!1})}}}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,u,l,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,l=0;r>l;l++)s[l].apply(this,u);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,u;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function o(e){if(e.dependencies){for(var t=e.dependencies.length-1;t>=0;t--)for(var n=e.dependencies[t].name,r=t-1;r>=0;r--)if(e.dependencies[r].name===n){e.dependencies[r].dependencies=[].concat(e.dependencies[r].dependencies||[],e.dependencies[t].dependencies||[]),e.dependencies.splice(t,1);break}e.dependencies.forEach(o)}};t["default"]=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){m===!1&&"undefined"!=typeof navigator&&-1===navigator.userAgent.indexOf("Chrome")&&(console.warn("The output of the MobX logger is optimized for Chrome"),m=!0);var n=e.spyReportStart===!0,o=e.spyReportEnd===!0,r=void 0;if(0===I?(r=t(e),n&&!r&&(w=!0)):o&&w&&1===I?(r=!1,w=!1):r=w!==!0,r&&o)a(e.time);else if(r){var h=n?i:u;switch(e.type){case"action":h("%caction '%s' %s","color:dodgerblue",e.name,d("(",g(e.target))),u(e.arguments),s();break;case"transaction":h("%ctransaction '%s' %s","color:gray",e.name,d("(",g(e.target)));break;case"scheduled-reaction":h("%cscheduled async reaction '%s'","color:#10a210",p(e.object));break;case"reaction":h("%creaction '%s'","color:#10a210",p(e.object)),s();break;case"compute":i("%ccomputed '%s' %s","color:#10a210",p(e.object),d("(",g(e.target))),a();break;case"error":h("%cerror: %s","color:tomato",e.message),s(),c();break;case"update":v["default"].isObservableArray(e.object)?h("updated '%s[%s]': %s (was: %s)",p(e.object),e.index,f(e.newValue),f(e.oldValue)):v["default"].isObservableObject(e.object)?h("updated '%s.%s': %s (was: %s)",p(e.object),e.name,f(e.newValue),f(e.oldValue)):h("updated '%s': %s (was: %s)",p(e.object),e.name,f(e.newValue),f(e.oldValue)),l({newValue:e.newValue,oldValue:e.oldValue}),s();break;case"splice":h("spliced '%s': index %d, added %d, removed %d",p(e.object),e.index,e.addedCount,e.removedCount),l({added:e.added,removed:e.removed}),s();break;case"add":h("set '%s.%s': %s",p(e.object),e.name,f(e.newValue)),l({newValue:e.newValue}),s();break;case"delete":h("removed '%s.%s' (was %s)",p(e.object),e.name,f(e.oldValue)),l({oldValue:e.oldValue}),s();break;case"create":h("set '%s': %s",p(e.object),f(e.newValue)),l({newValue:e.newValue}),s();break;default:h(e.type),l(e)}}n&&I++,o&&I--}function i(){console[x?"groupCollapsed":"log"].apply(console,arguments),j++}function a(e){j--,"number"==typeof e&&u("%ctotal time: %sms","color:gray",e),x&&console.groupEnd()}function u(){console.log.apply(console,arguments)}function l(){console.dir.apply(console,arguments)}function s(){console.trace("stack")}function c(){for(var e=0,t=j;t>e;e++)a()}function d(e,t){return t?(e||"")+t+(C[e]||""):""}function p(e){return v["default"].extras.getDebugName(e)}function f(e){return h(e)?"string"==typeof e&&e.length>100?e.substr(0,97)+"...":e:d("(",g(e))}function g(e){if(null===e||void 0===e)return"";if(e&&"object"===("undefined"==typeof e?"undefined":b(e))){if(e&&e.$mobx)return e.$mobx.name;if(e.constructor)return e.constructor.name||"object"}return""+("undefined"==typeof e?"undefined":b(e))}function h(e){return null===e||void 0===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e}Object.defineProperty(t,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var y=n(4),v=o(y),m=!1,I=0,w=!1,x="function"==typeof console.groupCollapsed,j=0,C={'"':'"',"'":"'","(":")","[":"]","<":"]","#":""}},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(3),p=n(10),f=r(p),g=n(11),h=r(g),b=n(12),y=r(b),v=n(14),m=r(v),I=n(15),w=o(I),x=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){d.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){d.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.highlightTimeout,o={};return t?(o.top=t.top,o.right=t.right,o.bottom=t.bottom,o.left=t.left):(o.top="0px",o.right="20px"),c["default"].createElement("div",null,c["default"].createElement("div",{style:Object.assign({},w.panel,o)},c["default"].createElement(y["default"],{highlightTimeout:n},c["default"].createElement(m["default"],{id:"buttonUpdates"})),c["default"].createElement(f["default"],null,c["default"].createElement(m["default"],{id:"buttonGraph"})),c["default"].createElement(h["default"],null,c["default"].createElement(m["default"],{id:"buttonLog"}))))}}]),t}(s.Component);x.propTypes={highlightTimeout:s.PropTypes.number},t["default"]=x},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(5),d=o(c),p=n(3),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleToggleGraph=function(){var e=(0,p.getGlobalState)(),t=e.graphEnabled;(0,p.setGlobalState)({hoverBoxes:[],graphEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.setState({})}},{key:"componentDidMount",value:function(){d["default"].trackComponents(),p.eventEmitter.on("update",this.handleUpdate),"undefined"!=typeof window&&"undefined"!=typeof document&&(document.body.addEventListener("mousemove",p._handleMouseMove,!0),document.body.addEventListener("click",p._handleClick,!0))}},{key:"componentWillUnmount",value:function(){p.eventEmitter.removeListener("update",this.handleUpdate),"undefined"!=typeof document&&(document.body.removeEventListener("mousemove",p._handleMouseMove,!0),document.body.removeEventListener("click",p._handleMouseMove,!0))}},{key:"render",value:function(){var e=(0,p.getGlobalState)(),t=e.graphEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleGraph,active:t})}}]),t}(l.Component);t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(3),d=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){o.setState({})},o.handleToggleLog=function(){var e=(0,c.getGlobalState)(),t=e.logEnabled;(0,c.setGlobalState)({logEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){c.eventEmitter.on("update",this.handleUpdate),(0,c.restoreLogFromLocalstorage)()}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=(0,c.getGlobalState)(),t=e.logEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleLog,active:t})}}]),t}(l.Component);t["default"]=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(13),d=o(c),p=n(3),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleToggleUpdates=function(){var e=(0,p.getGlobalState)(),t=e.updatesEnabled;(0,p.setGlobalState)({updatesEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){p.eventEmitter.on("update",this.handleUpdate);var e=this.props.highlightTimeout;this.renderingMonitor=new d["default"]({highlightTimeout:e}),(0,p.restoreUpdatesFromLocalstorage)()}},{key:"componentWillUnmount",value:function(){p.eventEmitter.removeListener("update",this.handleUpdate),this.renderingMonitor.dispose()}},{key:"render",value:function(){var e=(0,p.getGlobalState)(),t=e.updatesEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleUpdates,active:t})}}]),t}(l.Component);f.propTypes={highlightTimeout:l.PropTypes.number},f.defaultProps={highlightTimeout:1500},t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(5),u=o(a),l=n(3),s=function(e){switch(!0){case 25>e:return"cheap";case 100>e:return"acceptable";default:return"expensive"}},c=function(){function e(t){var n=this,o=t.highlightTimeout;r(this,e),this._boxesRegistry="undefined"!=typeof WeakMap?new WeakMap:new Map,this._renderReporterDisposer=u["default"].renderReporter.on(function(e){if((0,l.getGlobalState)().updatesEnabled===!0)switch(e.event){case"render":if(!e.node||isNaN(e.renderTime))return;var t=e.node.getBoundingClientRect(),r=n.getBoxForNode(e.node);r.type="rendering",r.y=t.top,r.x=t.left,r.width=t.width,r.height=t.height,r.renderInfo={count:r.renderInfo&&++r.renderInfo.count||1,renderTime:e.renderTime,totalTime:e.totalTime,cost:s(e.renderTime)},r.lifeTime=o;var i=(0,l.getGlobalState)().renderingBoxes;return-1===i.indexOf(r)&&(i=i.concat([r])),(0,l.setGlobalState)({renderingBoxes:i}),r._timeout&&clearTimeout(r._timeout),void(r._timeout=setTimeout(function(){return n.removeBox(e.node,!0)},o));case"destroy":return n.removeBox(e.node),void n._boxesRegistry["delete"](e.node);default:return}})}return i(e,[{key:"getBoxForNode",value:function(e){if(this._boxesRegistry.has(e))return this._boxesRegistry.get(e);var t={id:Math.random().toString(32).substr(2)};return this._boxesRegistry.set(e,t),t}},{key:"dispose",value:function(){this._renderReporterDisposer()}},{key:"removeBox",value:function(e){if(this._boxesRegistry.has(e)!==!1){var t=(0,l.getGlobalState)().renderingBoxes,n=t.indexOf(this._boxesRegistry.get(e));-1!==n&&(t=t.slice(0,n).concat(t.slice(n+1)),(0,l.setGlobalState)({renderingBoxes:t}))}}}]),e}();t["default"]=c},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(15),p=o(d),f=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={hovered:!1},o.handleMouseOver=function(){return o.setState({hovered:!0})},o.handleMouseOut=function(){return o.setState({hovered:!1})},r=n,a(o,r)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.id,o=e.onToggle,r=this.state.hovered,i=function(){switch(n){case"buttonUpdates":return t?p.buttonUpdatesActive:p.buttonUpdates;case"buttonGraph":return t?p.buttonGraphActive:p.buttonGraph;case"buttonLog":return t?p.buttonLogActive:p.buttonLog}}(),a=function(){switch(n){case"buttonUpdates":return"Visualize component re-renders";case"buttonGraph":return"Select a component and show its dependency tree";case"buttonLog":return"Log all MobX state changes and reactions to the browser console (use F12 to show / hide the console). Use Chrome / Chromium for an optimal experience"}}(),u=Object.assign({},p.button,i,t&&p.button.active,r&&p.button.hover);return c["default"].createElement("button",{type:"button",onClick:o,title:a,style:u,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut})}}]),t}(s.Component);f.props={onToggle:s.PropTypes.bool.isRequired,active:s.PropTypes.bool.isRequired,name:s.PropTypes.oneOf(["buttonUpdates","buttonGraph","buttonLog"]).isRequired},t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.panel={position:"fixed",height:"26px",backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.8)",borderRadius:"0 0 2px 2px",borderStyle:"solid",borderWidth:"0 1px 1px",borderColor:"rgba(0, 0, 0, 0.1)",zIndex:"65000",fontFamily:"Helvetica, sans-serif",display:"flex",padding:"0 5px"},t.button={opacity:.45,background:"transparent none center / 16px 16px no-repeat",width:"26px",margin:"0 10px",cursor:"pointer",border:"none",hover:{opacity:.7},active:{opacity:1,":hover":{opacity:1}}},t.buttonLog={backgroundImage:"url("+n(16)+")"},t.buttonLogActive={backgroundImage:"url("+n(17)+")"},t.buttonUpdates={backgroundImage:"url("+n(18)+")"},t.buttonUpdatesActive={backgroundImage:"url("+n(19)+")"},t.buttonGraph={backgroundImage:"url("+n(20)+")"},t.buttonGraphActive={backgroundImage:"url("+n(21)+")"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxwYXRoIGQ9Ik0xMi41IDMuNWgtOGMtMS4xIDAtMiAuOS0yIDJ2NWMwIDEuMS45IDIgMiAyaDF2Mmw1LTJoMmMxLjEgMCAyLS45IDItMnYtNWMwLTEuMS0uOS0yLTItMnoiLz4KICAgICAgICA8cGF0aCBkPSJNNSA2LjVoNyIvPgogICAgICAgIDxwYXRoIGQ9Ik01IDkuNWg3Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij4KICAgIDxnIHN0cm9rZT0iIzE3ODBmYSIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxLjI1Ij4KICAgICAgICA8cGF0aCBkPSJNMTIuNSAzLjVoLThjLTEuMSAwLTIgLjktMiAydjVjMCAxLjEuOSAyIDIgMmgxdjJsNS0yaDJjMS4xIDAgMi0uOSAyLTJ2LTVjMC0xLjEtLjktMi0yLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUgNi41aDciLz4KICAgICAgICA8cGF0aCBkPSJNNSA5LjVoNyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxjaXJjbGUgY3g9IjguNSIgY3k9IjguNSIgcj0iNiIvPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTBWNCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJub25lIiBmaWxsPSIjMDAwIj4KICAgICAgICA8Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUiIHI9IjEiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDFoMnYxLjVoLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTE0IDEuNmwtLjcuNy4zLjMtLjcuOC43LjcuOC0uNy4zLjMuNy0uN3oiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMTc4MGZhIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEuMjUiPgogICAgICAgIDxjaXJjbGUgY3g9IjguNSIgY3k9IjguNSIgcj0iNiIvPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTBWNCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJub25lIiBmaWxsPSIjMTc4MGZhIj4KICAgICAgICA8Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUiIHI9IjEiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDFoMnYxLjVoLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTE0IDEuNmwtLjcuNy4zLjMtLjcuOC43LjcuOC0uNy4zLjMuNy0uN3oiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxwYXRoIGQ9Ik0yLjUgMi41aDl2MmgtOXoiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDcuNWg3djJoLTd6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcuNSAxMi41aDd2MmgtN3oiLz4KICAgICAgICA8cGF0aCBkPSJNNC41IDQuNXY5aDMiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDguNWgtMyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMTc4MGZhIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEuMjUiPgogICAgICAgIDxwYXRoIGQ9Ik0yLjUgMi41aDl2MmgtOXoiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDcuNWg3djJoLTd6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcuNSAxMi41aDd2MmgtN3oiLz4KICAgICAgICA8cGF0aCBkPSJNNC41IDQuNXY5aDMiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDguNWgtMyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(23),p=o(d),f=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillAppear",
value:function(e){this.props.willAppear(e)}},{key:"componentWillLeave",value:function(){this.props.willLeave()}},{key:"render",value:function(){return this.props.children}}]),t}(s.Component);f.propTypes={willAppear:s.PropTypes["function"],willLeave:s.PropTypes["function"]},f.defaultProps={willAppear:function(){},willLeave:function(){}};var g=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"renderBox",value:function(e){switch(e.type){case"rendering":var t=p.rendering[e.renderInfo.cost]||{};return c["default"].createElement("div",{key:e.id,ref:function(t){return setTimeout(function(){t&&(t.style.opacity=0)},e.lifeTime-500)},style:Object.assign({},p.box,p.rendering,t,{left:e.x,top:e.y,width:e.width,height:e.height})},c["default"].createElement("span",{style:Object.assign({},p.text,t.text)},e.renderInfo.count,"x | ",e.renderInfo.renderTime," / ",e.renderInfo.totalTime," ms"));case"hover":return c["default"].createElement("div",{key:e.id,style:Object.assign({},p.box,p.hover,{left:e.x,top:e.y,width:e.width,height:e.height})});default:throw new Error}}},{key:"render",value:function(){var e=this,t=this.props.boxes;return c["default"].createElement("div",null,t.map(function(t){return e.renderBox(t)}))}}]),t}(s.Component);g.propTypes={boxes:s.PropTypes.arrayOf(s.PropTypes.shape({type:s.PropTypes.oneOf(["rendering","hover"]).isRequired,x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired,width:s.PropTypes.number.isRequired,height:s.PropTypes.number.isRequired,renderInfo:s.PropTypes.shape({count:s.PropTypes.number.isRequired,renderTime:s.PropTypes.number.isRequired,totalTime:s.PropTypes.number.isRequired,cost:s.PropTypes.oneOf(["cheap","acceptable","expensive"]).isRequired}),lifeTime:s.PropTypes.number.isRequired})).isRequired},t["default"]=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.box={display:"block",position:"fixed",zIndex:"64998",minWidth:"60px",outline:"3px solid",pointerEvents:"none",transition:"opacity 500ms ease-in"},t.text={fontFamily:"verdana, sans-serif",padding:"0 4px 2px",color:"rgba(0, 0, 0, 0.6)",fontSize:"10px",lineHeight:"12px",pointerEvents:"none","float":"right",borderBottomRightRadius:"2px",maxWidth:"100%",maxHeight:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t.rendering={cheap:{outlineColor:"rgba(182, 218, 146, 0.75)",text:{backgroundColor:"rgba(182, 218, 146, 0.75)"}},acceptable:{outlineColor:"rgba(228, 195, 66, 0.85)",text:{backgroundColor:"rgba(228, 195, 66, 0.85)"}},expensive:{outlineColor:"rgba(228, 171, 171, 0.95)",text:{backgroundColor:"rgba(228, 171, 171, 0.95)"}}},t.hover={outlineColor:"rgba(128, 128, 255, 0.5)"}},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(25),p=r(d),f=n(3),g=n(27),h=o(g),b=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleClose=function(){return(0,f.setGlobalState)({dependencyTree:void 0})},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){f.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){f.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"renderTreeItem",value:function(e,t,n){var o=e.name,r=e.dependencies,i=this;return c["default"].createElement("div",{style:h.item,key:o},c["default"].createElement("span",{style:Object.assign({},h.box,n&&h.box.root)},o),r&&c["default"].createElement("div",{style:h.tree},r.map(function(e,t){return i.renderTreeItem(e,t==r.length-1)})),!n&&c["default"].createElement("span",{style:h.itemHorisontalDash}),!n&&c["default"].createElement("span",{style:Object.assign({},h.itemVericalStick,t&&h.itemVericalStick["short"])}))}},{key:"render",value:function(){var e=(0,f.getGlobalState)(),t=e.dependencyTree;return c["default"].createElement(p["default"],{onOverlayClick:this.handleClose},t&&c["default"].createElement("div",{style:h.graph},c["default"].createElement("span",{style:h.close,onClick:this.handleClose},"×"),c["default"].createElement("div",{style:h.tree},this.renderTreeItem(t,!0,!0))))}}]),t}(s.Component);t["default"]=b},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(26),p=o(d),f=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.stopPropogation=function(e){return e.stopPropagation()},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidUpdate",value:function(e){var t=document.body.parentNode;if(e.children&&!this.props.children)this.rightOffset=0,t.style.borderRight=null,t.style.overflow=null;else if(!e.children&&this.props.children){var n=t.offsetWidth;t.style.overflow="hidden";var o=t.offsetWidth,r=Math.max(0,o-n);t.style.borderRight=r+"px solid transparent"}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onOverlayClick;return t?c["default"].createElement("div",{style:p.overlay,onClick:n},c["default"].createElement("div",{key:"content",style:p.modal,onClick:this.stopPropogation},t)):null}}]),t}(s.Component);f.propTypes={children:s.PropTypes.node,onOverlayClick:s.PropTypes.func.isRequired},t["default"]=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlay={position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:66e3,overflow:"auto",WebkitOverflowScrolling:"touch",outline:0,backgroundColor:"rgba(40, 40, 50, 0.5)",transformOrigin:"50% 25%"},t.modal={position:"relative",width:"auto",margin:"5% 10%",zIndex:1060}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.graph={background:"white",padding:"40px"},t.close={color:"rgba(0, 0, 0, 0.2)",fontSize:"36px",position:"absolute",top:"5px",right:"5px",width:"40px",height:"40px",lineHeight:"34px",textAlign:"center",cursor:"pointer",":hover":{color:"rgba(0, 0, 0, 0.5)"}},t.tree={position:"relative",paddingLeft:"25px"},t.item={position:"relative"},t.box={padding:"4px 10px",background:"rgba(0, 0, 0, 0.05)",display:"inline-block",marginBottom:"8px",color:"#000",root:{fontSize:"15px",fontWeight:"bold",padding:"6px 13px"}},t.itemHorisontalDash={position:"absolute",left:"-12px",borderTop:"1px solid rgba(0, 0, 0, 0.2)",top:"14px",width:"12px",height:"0"},t.itemVericalStick={position:"absolute",left:"-12px",borderLeft:"1px solid rgba(0, 0, 0, 0.2)",height:"100%",width:0,top:"-8px","short":{height:"23px"}}},function(e,t){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),a=0,u=i.length;u>a;a++){var l=i[a],s=Object.getOwnPropertyDescriptor(r,l);void 0!==s&&s.enumerable&&(n[l]=r[l])}}return n}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}e.exports={assign:n,polyfill:o}}])});
},{"mobx":"mobx","mobx-react":"mobx-react","react":"react"}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var ReactDOM = require("react-dom");
var root_1 = require("./root");
var app_store_1 = require("./store/app-store");
var mobx_react_1 = require("mobx-react");
var mobx_react_devtools_1 = require("mobx-react-devtools");
var appStore = new app_store_1.AppStore();
ReactDOM.render(React.createElement("div", null,
    React.createElement(mobx_react_1.Provider, { appStore: appStore },
        React.createElement(root_1.Root, { store: appStore })),
    React.createElement(mobx_react_devtools_1.default, null)), document.getElementById('root'));
},{"./root":7,"./store/app-store":8,"mobx-react":"mobx-react","mobx-react-devtools":1,"react":"react","react-dom":"react-dom"}],3:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var mobx_react_1 = require("mobx-react");
var Home = (function (_super) {
    __extends(Home, _super);
    function Home() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Home.prototype.render = function () {
        var jumpoButton = this.props.appStore.user.authenticated ?
            React.createElement(react_router_dom_1.Link, { to: "/app/map", className: "btn btn-lg btn-sja-dark-green" }, "Go to Map \u00BB") :
            React.createElement(react_router_dom_1.Link, { to: "/app/login", className: "btn btn-lg btn-sja-dark-green" }, "Log in \u00BB");
        return (React.createElement("div", { className: "container" },
            React.createElement(reactstrap_1.Jumbotron, null,
                React.createElement("h1", { className: "display-3" }, "SJA Tracker"),
                React.createElement("p", { className: "lead" }, "Welcome to the St Ambulance SWR Central District Tracker"),
                jumpoButton),
            React.createElement(reactstrap_1.CardDeck, { className: "front-page" },
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "New Users"),
                        React.createElement(reactstrap_1.CardText, null, "If you have never used this site before, you will need to be issued with a username and password."),
                        React.createElement(react_router_dom_1.Link, { to: "/Contact", className: "btn btn-secondary btn-block" }, "Request Account \u00BB"))),
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Get the Trackers"),
                        React.createElement(reactstrap_1.CardText, null, "There are a set of apps to enable your phone to be tracked from this website."),
                        React.createElement(react_router_dom_1.Link, { to: "", className: "btn btn-secondary btn-block disabled", disabled: true }, "Coming Soon"))),
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Privacy Policy"),
                        React.createElement(reactstrap_1.CardText, null, "To get a better idea of how this website is used and how it can be made better, we collect some information about what you do with this site."),
                        React.createElement(react_router_dom_1.Link, { to: "/Policies", className: "btn btn-secondary btn-block" }, "Find out More \u00BB"))))));
    };
    return Home;
}(React.Component));
Home = __decorate([
    mobx_react_1.inject("appStore"), mobx_react_1.observer
], Home);
exports.Home = Home;
},{"mobx-react":"mobx-react","react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],4:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var LoginBox = (function (_super) {
    __extends(LoginBox, _super);
    function LoginBox(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            username: "",
            password: ""
        };
        return _this;
    }
    LoginBox.prototype.updateUsername = function (event) {
        this.setState({ username: event.target.value });
    };
    LoginBox.prototype.updatePassword = function (event) {
        this.setState({ password: event.target.value });
    };
    LoginBox.prototype.submitForm = function (event) {
        event.preventDefault();
        this.props.onLogin(this.state.username, this.state.password);
    };
    LoginBox.prototype.render = function () {
        var _this = this;
        return (React.createElement("div", { className: "container" },
            React.createElement("div", { className: "d-flex justify-content-center" },
                React.createElement(reactstrap_1.Card, { className: "login-card" },
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Log In"),
                        React.createElement(reactstrap_1.Form, null,
                            React.createElement(reactstrap_1.FormGroup, null,
                                React.createElement(reactstrap_1.InputGroup, null,
                                    React.createElement(reactstrap_1.InputGroupAddon, null,
                                        React.createElement("span", { className: "fa fa-fw fa-at" })),
                                    React.createElement(reactstrap_1.Input, { type: "email", name: "Email", id: "email", placeholder: "Email", value: this.state.username, onChange: function (e) { return _this.updateUsername(e); } }))),
                            React.createElement(reactstrap_1.FormGroup, null,
                                React.createElement(reactstrap_1.InputGroup, null,
                                    React.createElement(reactstrap_1.InputGroupAddon, null,
                                        React.createElement("span", { className: "fa fa-fw fa-lock" })),
                                    React.createElement(reactstrap_1.Input, { type: "password", name: "Password", id: "password", placeholder: "Password", value: this.state.password, onChange: function (e) { return _this.updatePassword(e); } }))),
                            React.createElement(reactstrap_1.Button, { type: "submit", className: "btn-block", onClick: function (e) { return _this.submitForm(e); } }, "Log in"),
                            React.createElement(react_router_dom_1.Link, { to: "/app/reset-password" }, "Forgotten your password?")))))));
    };
    return LoginBox;
}(React.Component));
exports.LoginBox = LoginBox;
},{"react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],5:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var login_box_1 = require("./login-box");
var mobx_react_1 = require("mobx-react");
var Login = (function (_super) {
    __extends(Login, _super);
    function Login() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Login.prototype.render = function () {
        var _this = this;
        return (React.createElement(login_box_1.LoginBox, { onLogin: function (u, s) { return _this.login(u, s); } }));
    };
    Login.prototype.login = function (username, password) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, result, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        headers = new Headers();
                        headers.append("Content-Type", "application/json");
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, fetch("/token", {
                                method: 'POST',
                                credentials: 'same-origin',
                                body: JSON.stringify({
                                    username: username, password: password
                                }),
                                headers: headers
                            })];
                    case 2:
                        result = _a.sent();
                        if (result.ok) {
                            this.props.appStore.user.checkAuthentication();
                            this.props.history.push("/");
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        this.props.appStore.showError("Could not contact server.  Are you online?");
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return Login;
}(React.Component));
Login = __decorate([
    mobx_react_1.inject("appStore"), mobx_react_1.observer
], Login);
exports.Login = Login;
},{"./login-box":4,"mobx-react":"mobx-react","react":"react"}],6:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var MainNav = (function (_super) {
    __extends(MainNav, _super);
    function MainNav(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            isOpen: false
        };
        return _this;
    }
    MainNav.prototype.toggle = function () {
        this.setState(function (prev, props) { return ({
            isOpen: !prev.isOpen
        }); });
    };
    MainNav.prototype.render = function () {
        var _this = this;
        var loginElement;
        if (this.props.authenticated) {
            loginElement = React.createElement(reactstrap_1.NavItem, { key: "hello" },
                React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/profile" },
                    "Hello ",
                    this.props.name));
        }
        else {
            loginElement = React.createElement(reactstrap_1.NavItem, null,
                React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/app/login" }, "Log in"));
        }
        return (React.createElement(reactstrap_1.Navbar, { color: "sja-dark-green", inverse: true, toggleable: true },
            React.createElement(reactstrap_1.NavbarToggler, { right: true, onClick: function () { return _this.toggle(); } }),
            React.createElement(reactstrap_1.NavbarBrand, { href: "/" }, "SJA Tracker"),
            React.createElement(reactstrap_1.Collapse, { isOpen: this.state.isOpen, navbar: true },
                React.createElement(reactstrap_1.Nav, { navbar: true },
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/" }, "Home")),
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/Map" }, "Map")),
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/Contact" }, "Contact"))),
                React.createElement(reactstrap_1.Nav, { navbar: true, className: "ml-auto" }, loginElement))));
    };
    return MainNav;
}(React.Component));
exports.MainNav = MainNav;
},{"react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],7:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var navbar_1 = require("./navbar");
var home_1 = require("./home/home");
var login_1 = require("./login/login");
var react_router_dom_1 = require("react-router-dom");
var Cookies = require("js-cookie");
var mobx_react_1 = require("mobx-react");
var reactstrap_1 = require("reactstrap");
var Root = (function (_super) {
    __extends(Root, _super);
    function Root(props) {
        var _this = _super.call(this, props) || this;
        _this.props.store.user.checkAuthentication(true);
        return _this;
    }
    Root.prototype.logOut = function () {
        return __awaiter(this, void 0, void 0, function () {
            var headers, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        headers = new Headers();
                        headers.append("RequestVerificationToken", Cookies.get('XSRF-TOKEN'));
                        return [4 /*yield*/, fetch('/account/logout', {
                                credentials: 'same-origin',
                                method: 'POST',
                                headers: headers
                            })];
                    case 1:
                        result = _a.sent();
                        location.reload(true);
                        return [2 /*return*/];
                }
            });
        });
    };
    Root.prototype.render = function () {
        var _this = this;
        var showError = this.props.store.error.length > 0;
        return (React.createElement(react_router_dom_1.BrowserRouter, null,
            React.createElement("div", null,
                React.createElement(navbar_1.MainNav, { name: this.props.store.user.name, authenticated: this.props.store.user.authenticated, onLogout: function () { return _this.logOut(); } }),
                React.createElement(reactstrap_1.Container, null,
                    React.createElement(reactstrap_1.Alert, { isOpen: showError, color: "danger", toggle: function () { return _this.props.store.clearError(); } }, this.props.store.error)),
                React.createElement(react_router_dom_1.Route, { exact: true, path: '/', component: home_1.Home }),
                React.createElement(react_router_dom_1.Route, { exact: true, path: '/app/login', component: login_1.Login }))));
    };
    return Root;
}(React.Component));
Root = __decorate([
    mobx_react_1.observer
], Root);
exports.Root = Root;
},{"./home/home":3,"./login/login":5,"./navbar":6,"js-cookie":"js-cookie","mobx-react":"mobx-react","react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],8:[function(require,module,exports){
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var user_store_1 = require("./user-store");
var mobx_1 = require("mobx");
var AppStore = (function () {
    function AppStore() {
        var _this = this;
        this.user = new user_store_1.UserStore();
        this.error = "";
        this.showError = function (msg) {
            _this.error = msg;
        };
        this.clearError = function () {
            _this.error = "";
        };
    }
    return AppStore;
}());
__decorate([
    mobx_1.observable
], AppStore.prototype, "user", void 0);
__decorate([
    mobx_1.observable
], AppStore.prototype, "error", void 0);
__decorate([
    mobx_1.action
], AppStore.prototype, "showError", void 0);
__decorate([
    mobx_1.action
], AppStore.prototype, "clearError", void 0);
exports.AppStore = AppStore;
},{"./user-store":9,"mobx":"mobx"}],9:[function(require,module,exports){
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var mobx_1 = require("mobx");
var UserStore = (function () {
    function UserStore() {
        var _this = this;
        this.checkAuthentication = function (tryRefresh) {
            if (tryRefresh === void 0) { tryRefresh = false; }
            return __awaiter(_this, void 0, void 0, function () {
                var result, whoAmI;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, fetch('/api/account/whoami', {
                                credentials: 'same-origin'
                            })];
                        case 1:
                            result = _a.sent();
                            return [4 /*yield*/, result.json()];
                        case 2:
                            whoAmI = _a.sent();
                            this.authenticated = whoAmI.authenticated;
                            this.name = whoAmI.realName;
                            if (!this.authenticated && tryRefresh)
                                this.refreshAuthentication();
                            return [2 /*return*/];
                    }
                });
            });
        };
        this.refreshAuthentication = function () { return __awaiter(_this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, fetch("/refreshToken", {
                            credentials: "same-origin",
                            method: "POST"
                        })];
                    case 1:
                        result = _a.sent();
                        return [4 /*yield*/, this.checkAuthentication()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); };
    }
    return UserStore;
}());
__decorate([
    mobx_1.observable
], UserStore.prototype, "authenticated", void 0);
__decorate([
    mobx_1.observable
], UserStore.prototype, "name", void 0);
__decorate([
    mobx_1.action
], UserStore.prototype, "checkAuthentication", void 0);
__decorate([
    mobx_1.action
], UserStore.prototype, "refreshAuthentication", void 0);
exports.UserStore = UserStore;
},{"mobx":"mobx"}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbW9ieC1yZWFjdC1kZXZ0b29scy9pbmRleC5qcyIsInNyYy9qcy9hcHAudHN4Iiwic3JjL2pzL2hvbWUvaG9tZS50c3giLCJzcmMvanMvbG9naW4vbG9naW4tYm94LnRzeCIsInNyYy9qcy9sb2dpbi9sb2dpbi50c3giLCJzcmMvanMvbmF2YmFyLnRzeCIsInNyYy9qcy9yb290LnRzeCIsInNyYy9qcy9zdG9yZS9hcHAtc3RvcmUudHMiLCJzcmMvanMvc3RvcmUvdXNlci1zdG9yZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7Ozs7QUNEQyw2QkFBK0I7QUFDaEMsb0NBQXNDO0FBQ3RDLCtCQUE4QjtBQUM5QiwrQ0FBNkM7QUFDN0MseUNBQXNDO0FBQ3RDLDJEQUEyQztBQUUzQyxJQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFRLEVBQUUsQ0FBQztBQUVoQyxRQUFRLENBQUMsTUFBTSxDQUNYO0lBQ0ksb0JBQUMscUJBQVEsSUFBQyxRQUFRLEVBQUUsUUFBUTtRQUN4QixvQkFBQyxXQUFJLElBQUMsS0FBSyxFQUFFLFFBQVEsR0FBSSxDQUNsQjtJQUNYLG9CQUFDLDZCQUFRLE9BQUcsQ0FDVixFQUNOLFFBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQnBDLDZCQUErQjtBQUVoQyx5Q0FBK0Y7QUFDL0YscURBQTZEO0FBRTdELHlDQUE4QztBQU85QyxJQUFhLElBQUk7SUFBUyx3QkFBc0M7SUFBaEU7O0lBK0NBLENBQUM7SUE5Q0cscUJBQU0sR0FBTjtRQUNJLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhO1lBQ3BELG9CQUFDLHVCQUFJLElBQUMsRUFBRSxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMsK0JBQStCLHVCQUFtQjtZQUNoRixvQkFBQyx1QkFBSSxJQUFDLEVBQUUsRUFBQyxZQUFZLEVBQUMsU0FBUyxFQUFDLCtCQUErQixvQkFBZ0IsQ0FBQztRQUdwRixNQUFNLENBQUMsQ0FDSCw2QkFBSyxTQUFTLEVBQUMsV0FBVztZQUN0QixvQkFBQyxzQkFBUztnQkFDTiw0QkFBSSxTQUFTLEVBQUMsV0FBVyxrQkFBaUI7Z0JBQzFDLDJCQUFHLFNBQVMsRUFBQyxNQUFNLCtEQUE2RDtnQkFDL0UsV0FBVyxDQUNKO1lBRVosb0JBQUMscUJBQVEsSUFBQyxTQUFTLEVBQUMsWUFBWTtnQkFDNUIsb0JBQUMsaUJBQUk7b0JBQ0Qsb0JBQUMsc0JBQVM7d0JBQ04sb0JBQUMsc0JBQVMsb0JBQXNCO3dCQUNoQyxvQkFBQyxxQkFBUSw0R0FFTTt3QkFDZixvQkFBQyx1QkFBSSxJQUFDLEVBQUUsRUFBQyxVQUFVLEVBQUMsU0FBUyxFQUFDLDZCQUE2Qiw2QkFBeUIsQ0FDNUUsQ0FDVDtnQkFDUCxvQkFBQyxpQkFBSTtvQkFDRCxvQkFBQyxzQkFBUzt3QkFDTixvQkFBQyxzQkFBUywyQkFBNkI7d0JBQ3ZDLG9CQUFDLHFCQUFRLHdGQUVNO3dCQUNmLG9CQUFDLHVCQUFJLElBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxTQUFTLEVBQUMsc0NBQXNDLEVBQUMsUUFBUSx3QkFBbUIsQ0FDaEYsQ0FDVDtnQkFDUCxvQkFBQyxpQkFBSTtvQkFDRCxvQkFBQyxzQkFBUzt3QkFDTixvQkFBQyxzQkFBUyx5QkFBMkI7d0JBQ3JDLG9CQUFDLHFCQUFRLHdKQUVNO3dCQUNmLG9CQUFDLHVCQUFJLElBQUMsRUFBRSxFQUFDLFdBQVcsRUFBQyxTQUFTLEVBQUMsNkJBQTZCLDJCQUF1QixDQUMzRSxDQUNULENBQ0EsQ0FDVCxDQUNULENBQUM7SUFDTixDQUFDO0lBQ0wsV0FBQztBQUFELENBL0NBLEFBK0NDLENBL0N5QixLQUFLLENBQUMsU0FBUyxHQStDeEM7QUEvQ1ksSUFBSTtJQURoQixtQkFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLHFCQUFRO0dBQ2hCLElBQUksQ0ErQ2hCO0FBL0NZLG9CQUFJOzs7Ozs7Ozs7Ozs7OztBQ1pqQiw2QkFBK0I7QUFDL0IseUNBQTZIO0FBQzdILHFEQUF3QztBQVd4QztJQUE4Qiw0QkFBK0M7SUFDekUsa0JBQVksS0FBcUI7UUFBakMsWUFDSSxrQkFBTSxLQUFLLENBQUMsU0FLZjtRQUpHLEtBQUksQ0FBQyxLQUFLLEdBQUc7WUFDVCxRQUFRLEVBQUUsRUFBRTtZQUNaLFFBQVEsRUFBRSxFQUFFO1NBQ2YsQ0FBQzs7SUFDTixDQUFDO0lBRU8saUNBQWMsR0FBdEIsVUFBdUIsS0FBMEM7UUFDN0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVPLGlDQUFjLEdBQXRCLFVBQXVCLEtBQTBDO1FBQzdELElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTyw2QkFBVSxHQUFsQixVQUFtQixLQUE0QztRQUMzRCxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFFdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBRU0seUJBQU0sR0FBYjtRQUFBLGlCQTRCQztRQTNCRyxNQUFNLENBQUMsQ0FDSCw2QkFBSyxTQUFTLEVBQUMsV0FBVztZQUN0Qiw2QkFBSyxTQUFTLEVBQUMsK0JBQStCO2dCQUMxQyxvQkFBQyxpQkFBSSxJQUFDLFNBQVMsRUFBQyxZQUFZO29CQUN4QixvQkFBQyxzQkFBUzt3QkFDTixvQkFBQyxzQkFBUyxpQkFBbUI7d0JBQzdCLG9CQUFDLGlCQUFJOzRCQUNELG9CQUFDLHNCQUFTO2dDQUNOLG9CQUFDLHVCQUFVO29DQUNQLG9CQUFDLDRCQUFlO3dDQUFDLDhCQUFNLFNBQVMsRUFBQyxnQkFBZ0IsR0FBUSxDQUFrQjtvQ0FDM0Usb0JBQUMsa0JBQUssSUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsRUFBRSxFQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsVUFBQyxDQUFDLElBQUssT0FBQSxLQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUF0QixDQUFzQixHQUFJLENBQzlILENBQ0w7NEJBQ1osb0JBQUMsc0JBQVM7Z0NBQ04sb0JBQUMsdUJBQVU7b0NBQ1Asb0JBQUMsNEJBQWU7d0NBQUMsOEJBQU0sU0FBUyxFQUFDLGtCQUFrQixHQUFRLENBQWtCO29DQUM3RSxvQkFBQyxrQkFBSyxJQUFDLElBQUksRUFBQyxVQUFVLEVBQUMsSUFBSSxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsVUFBVSxFQUFDLFdBQVcsRUFBQyxVQUFVLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFDLENBQUMsSUFBSyxPQUFBLEtBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQXRCLENBQXNCLEdBQUksQ0FDMUksQ0FDTDs0QkFDWixvQkFBQyxtQkFBTSxJQUFDLElBQUksRUFBQyxRQUFRLEVBQUMsU0FBUyxFQUFDLFdBQVcsRUFBQyxPQUFPLEVBQUUsVUFBQyxDQUFDLElBQUssT0FBQSxLQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFsQixDQUFrQixhQUFpQjs0QkFDL0Ysb0JBQUMsdUJBQUksSUFBQyxFQUFFLEVBQUMscUJBQXFCLCtCQUFnQyxDQUMzRCxDQUNDLENBQ1QsQ0FDTCxDQUNKLENBQ1QsQ0FBQztJQUNOLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FwREEsQUFvREMsQ0FwRDZCLEtBQUssQ0FBQyxTQUFTLEdBb0Q1QztBQXBEWSw0QkFBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2JyQiw2QkFBK0I7QUFDL0IseUNBQXVDO0FBR3ZDLHlDQUE4QztBQU85QyxJQUFhLEtBQUs7SUFBUyx5QkFBdUM7SUFBbEU7O0lBZ0NBLENBQUM7SUEvQlUsc0JBQU0sR0FBYjtRQUFBLGlCQUlDO1FBSEcsTUFBTSxDQUFDLENBQ0gsb0JBQUMsb0JBQVEsSUFBQyxPQUFPLEVBQUUsVUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFLLE9BQUEsS0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQWhCLENBQWdCLEdBQUksQ0FDcEQsQ0FBQztJQUNOLENBQUM7SUFFYSxxQkFBSyxHQUFuQixVQUFvQixRQUFnQixFQUFFLFFBQWdCOztnQkFDOUMsT0FBTzs7OztrQ0FBRyxJQUFJLE9BQU8sRUFBRTt3QkFDM0IsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsa0JBQWtCLENBQUMsQ0FBQzs7Ozt3QkFHaEMscUJBQU0sS0FBSyxDQUFDLFFBQVEsRUFBRTtnQ0FDakMsTUFBTSxFQUFFLE1BQU07Z0NBQ2QsV0FBVyxFQUFFLGFBQWE7Z0NBQzFCLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDO29DQUNqQixRQUFRLFVBQUEsRUFBRSxRQUFRLFVBQUE7aUNBQ3JCLENBQUM7Z0NBQ0YsT0FBTyxTQUFBOzZCQUNWLENBQUMsRUFBQTs7aUNBUGEsU0FPYjt3QkFFRixFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs0QkFDWixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQzs0QkFFL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO3dCQUNqQyxDQUFDOzs7O3dCQUdELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDOzs7Ozs7S0FHbkY7SUFDTCxZQUFDO0FBQUQsQ0FoQ0EsQUFnQ0MsQ0FoQzBCLEtBQUssQ0FBQyxTQUFTLEdBZ0N6QztBQWhDWSxLQUFLO0lBRGpCLG1CQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUscUJBQVE7R0FDaEIsS0FBSyxDQWdDakI7QUFoQ1ksc0JBQUs7Ozs7Ozs7Ozs7Ozs7O0FDWGpCLDZCQUErQjtBQUNoQyx5Q0FBaUc7QUFDakcscURBQXdDO0FBWXhDO0lBQTZCLDJCQUE2QztJQUN0RSxpQkFBWSxLQUFvQjtRQUFoQyxZQUNJLGtCQUFNLEtBQUssQ0FBQyxTQUtmO1FBSEcsS0FBSSxDQUFDLEtBQUssR0FBRztZQUNULE1BQU0sRUFBRSxLQUFLO1NBQ2hCLENBQUM7O0lBQ04sQ0FBQztJQUVELHdCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQUMsSUFBSSxFQUFFLEtBQUssSUFBSyxPQUFBLENBQUM7WUFDNUIsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU07U0FDdkIsQ0FBQyxFQUY2QixDQUU3QixDQUFDLENBQUM7SUFDUixDQUFDO0lBRUQsd0JBQU0sR0FBTjtRQUFBLGlCQXFDQztRQXBDRyxJQUFJLFlBQVksQ0FBQztRQUVqQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7WUFDM0IsWUFBWSxHQUFHLG9CQUFDLG9CQUFPLElBQUMsR0FBRyxFQUFDLE9BQU87Z0JBQy9CLG9CQUFDLHVCQUFJLElBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsVUFBVTs7b0JBQzdCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUNuQixDQUNELENBQUM7UUFDZixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUM7WUFDRixZQUFZLEdBQUcsb0JBQUMsb0JBQU87Z0JBQ25CLG9CQUFDLHVCQUFJLElBQUMsU0FBUyxFQUFDLFVBQVUsRUFBQyxFQUFFLEVBQUMsWUFBWSxhQUFjLENBQ2xELENBQUM7UUFDZixDQUFDO1FBRUQsTUFBTSxDQUFDLENBQ0gsb0JBQUMsbUJBQU0sSUFBQyxLQUFLLEVBQUMsZ0JBQWdCLEVBQUMsT0FBTyxRQUFDLFVBQVU7WUFDN0Msb0JBQUMsMEJBQWEsSUFBQyxLQUFLLFFBQUMsT0FBTyxFQUFFLGNBQU0sT0FBQSxLQUFJLENBQUMsTUFBTSxFQUFFLEVBQWIsQ0FBYSxHQUFJO1lBQ3JELG9CQUFDLHdCQUFXLElBQUMsSUFBSSxFQUFDLEdBQUcsa0JBQTBCO1lBQy9DLG9CQUFDLHFCQUFRLElBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE1BQU07Z0JBQ3ZDLG9CQUFDLGdCQUFHLElBQUMsTUFBTTtvQkFDUCxvQkFBQyxvQkFBTzt3QkFDSixvQkFBQyx1QkFBSSxJQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLEdBQUcsV0FBWSxDQUN2QztvQkFDVixvQkFBQyxvQkFBTzt3QkFDSixvQkFBQyx1QkFBSSxJQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLE1BQU0sVUFBVyxDQUN6QztvQkFDVixvQkFBQyxvQkFBTzt3QkFDSixvQkFBQyx1QkFBSSxJQUFDLFNBQVMsRUFBQyxVQUFVLEVBQUMsRUFBRSxFQUFDLFVBQVUsY0FBZSxDQUNqRCxDQUNSO2dCQUNOLG9CQUFDLGdCQUFHLElBQUMsTUFBTSxRQUFDLFNBQVMsRUFBQyxTQUFTLElBQzFCLFlBQVksQ0FDWCxDQUNDLENBQ04sQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFDTCxjQUFDO0FBQUQsQ0FyREEsQUFxREMsQ0FyRDRCLEtBQUssQ0FBQyxTQUFTLEdBcUQzQztBQXJEWSwwQkFBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2RuQiw2QkFBK0I7QUFDaEMsbUNBQW1DO0FBQ25DLG9DQUFtQztBQUNuQyx1Q0FBc0M7QUFDdEMscURBQWtFO0FBQ2xFLG1DQUFxQztBQUVyQyx5Q0FBc0M7QUFDdEMseUNBQThDO0FBUzlDLElBQWEsSUFBSTtJQUFTLHdCQUFzQztJQUM1RCxjQUFZLEtBQWlCO1FBQTdCLFlBQ0ksa0JBQU0sS0FBSyxDQUFDLFNBR2Y7UUFERyxLQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLENBQUM7O0lBQ3BELENBQUM7SUFFSyxxQkFBTSxHQUFaOztnQkFDUSxPQUFPOzs7O2tDQUFHLElBQUksT0FBTyxFQUFFO3dCQUUzQixPQUFPLENBQUMsTUFBTSxDQUFDLDBCQUEwQixFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQzt3QkFFekQscUJBQU0sS0FBSyxDQUFDLGlCQUFpQixFQUFFO2dDQUN4QyxXQUFXLEVBQUUsYUFBYTtnQ0FDMUIsTUFBTSxFQUFFLE1BQU07Z0NBQ2QsT0FBTyxTQUFBOzZCQUNWLENBQUMsRUFBQTs7aUNBSlcsU0FJWDt3QkFFRixRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7OztLQUN6QjtJQUVELHFCQUFNLEdBQU47UUFBQSxpQkFnQkM7UUFmRyxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUVsRCxNQUFNLENBQUMsQ0FDSCxvQkFBQyxnQ0FBTTtZQUNIO2dCQUNJLG9CQUFDLGdCQUFPLElBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsUUFBUSxFQUFFLGNBQU0sT0FBQSxLQUFJLENBQUMsTUFBTSxFQUFFLEVBQWIsQ0FBYSxHQUFJO2dCQUNoSSxvQkFBQyxzQkFBUztvQkFDTixvQkFBQyxrQkFBSyxJQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUUsY0FBTSxPQUFBLEtBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxFQUE3QixDQUE2QixJQUMvRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQ25CLENBQ0E7Z0JBQ1osb0JBQUMsd0JBQUssSUFBQyxLQUFLLFFBQUMsSUFBSSxFQUFDLEdBQUcsRUFBQyxTQUFTLEVBQUUsV0FBSSxHQUFJO2dCQUN6QyxvQkFBQyx3QkFBSyxJQUFDLEtBQUssUUFBQyxJQUFJLEVBQUMsWUFBWSxFQUFDLFNBQVMsRUFBRSxhQUFLLEdBQUksQ0FDakQsQ0FDRCxDQUFDLENBQUM7SUFDbkIsQ0FBQztJQUNMLFdBQUM7QUFBRCxDQXRDQSxBQXNDQyxDQXRDeUIsS0FBSyxDQUFDLFNBQVMsR0FzQ3hDO0FBdENZLElBQUk7SUFEaEIscUJBQVE7R0FDSSxJQUFJLENBc0NoQjtBQXRDWSxvQkFBSTs7Ozs7Ozs7OztBQ2pCakIsMkNBQXlDO0FBQ3pDLDZCQUEwQztBQUUxQztJQUFBO1FBQUEsaUJBYUM7UUFYRyxTQUFJLEdBQWMsSUFBSSxzQkFBUyxFQUFFLENBQUM7UUFFbEMsVUFBSyxHQUFXLEVBQUUsQ0FBQztRQUVYLGNBQVMsR0FBRyxVQUFDLEdBQVc7WUFDNUIsS0FBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7UUFDckIsQ0FBQyxDQUFBO1FBRU8sZUFBVSxHQUFHO1lBQ2pCLEtBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLENBQUMsQ0FBQTtJQUNMLENBQUM7SUFBRCxlQUFDO0FBQUQsQ0FiQSxBQWFDLElBQUE7QUFYRztJQURDLGlCQUFVO3NDQUN1QjtBQUVsQztJQURDLGlCQUFVO3VDQUNRO0FBRVg7SUFBUCxhQUFNOzJDQUVOO0FBRU87SUFBUCxhQUFNOzRDQUVOO0FBWlEsNEJBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hyQiw2QkFBMEM7QUFTMUM7SUFBQTtRQUFBLGlCQTBCQztRQXRCVyx3QkFBbUIsR0FBRyxVQUFPLFVBQTBCO1lBQTFCLDJCQUFBLEVBQUEsa0JBQTBCOzs7OztnQ0FDOUMscUJBQU0sS0FBSyxDQUFDLHFCQUFxQixFQUFFO2dDQUM1QyxXQUFXLEVBQUUsYUFBYTs2QkFDN0IsQ0FBQyxFQUFBOztxQ0FGVyxTQUVYOzRCQUVXLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBQTs7cUNBQW5CLFNBQW9DOzRCQUVqRCxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7NEJBQzFDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQzs0QkFFNUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxJQUFJLFVBQVUsQ0FBQztnQ0FDbEMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7Ozs7O1NBQ3BDLENBQUE7UUFFTywwQkFBcUIsR0FBRzs7Ozs0QkFDZixxQkFBTSxLQUFLLENBQUMsZUFBZSxFQUFFOzRCQUN0QyxXQUFXLEVBQUUsYUFBYTs0QkFDMUIsTUFBTSxFQUFFLE1BQU07eUJBQ2pCLENBQUMsRUFBQTs7aUNBSFcsU0FHWDt3QkFFRixxQkFBTSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsRUFBQTs7d0JBQWhDLFNBQWdDLENBQUM7Ozs7YUFDcEMsQ0FBQTtJQUNMLENBQUM7SUFBRCxnQkFBQztBQUFELENBMUJBLEFBMEJDLElBQUE7QUF6QmU7SUFBWCxpQkFBVTtnREFBd0I7QUFDdkI7SUFBWCxpQkFBVTt1Q0FBYztBQUVqQjtJQUFQLGFBQU07c0RBWU47QUFFTztJQUFQLGFBQU07d0RBT047QUF6QlEsOEJBQVMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcIm1vYnhcIikscmVxdWlyZShcIm1vYngtcmVhY3RcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wicmVhY3RcIixcIm1vYnhcIixcIm1vYngtcmVhY3RcIl0sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5tb2J4RGV2dG9vbHM9dChyZXF1aXJlKFwicmVhY3RcIikscmVxdWlyZShcIm1vYnhcIikscmVxdWlyZShcIm1vYngtcmVhY3RcIikpOmUubW9ieERldnRvb2xzPXQoZS5SZWFjdCxlLm1vYngsZS5tb2J4UmVhY3QpfSh0aGlzLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChvKXtpZihuW29dKXJldHVybiBuW29dLmV4cG9ydHM7dmFyIHI9bltvXT17ZXhwb3J0czp7fSxpZDpvLGxvYWRlZDohMX07cmV0dXJuIGVbb10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsdCksci5sb2FkZWQ9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnNldExvZ0VuYWJsZWQ9dC5zZXRHcmFwaEVuYWJsZWQ9dC5zZXRVcGRhdGVzRW5hYmxlZD10LmNvbmZpZ3VyZURldnRvb2w9dC5VcGRhdGVzQ29udHJvbD10LkxvZ0NvbnRyb2w9dC5HcmFwaENvbnRyb2w9dFtcImRlZmF1bHRcIl09dm9pZCAwO3ZhciByPW4oMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8ocilbXCJkZWZhdWx0XCJdfX0pO3ZhciBpPW4oMTApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiR3JhcGhDb250cm9sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8oaSlbXCJkZWZhdWx0XCJdfX0pO3ZhciBhPW4oMTEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiTG9nQ29udHJvbFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBvKGEpW1wiZGVmYXVsdFwiXX19KTt2YXIgdT1uKDEyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlVwZGF0ZXNDb250cm9sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8odSlbXCJkZWZhdWx0XCJdfX0pO3ZhciBsPW4oMjgpLHM9byhsKSxjPW4oMyk7c1tcImRlZmF1bHRcIl0ucG9seWZpbGwoKTt2YXIgZD10LmNvbmZpZ3VyZURldnRvb2w9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sb2dFbmFibGVkLG49ZS51cGRhdGVzRW5hYmxlZCxvPWUuZ3JhcGhFbmFibGVkLHI9ZS5sb2dGaWx0ZXIsaT17fTt2b2lkIDAhPT10JiYoaS5sb2dFbmFibGVkPUJvb2xlYW4odCkpLHZvaWQgMCE9PW4mJihpLnVwZGF0ZXNFbmFibGVkPUJvb2xlYW4obikpLHZvaWQgMCE9PW8mJihpLmdyYXBoRW5hYmxlZD1Cb29sZWFuKG8pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYoaS5sb2dGaWx0ZXI9ciksKDAsYy5zZXRHbG9iYWxTdGF0ZSkoaSl9O3Quc2V0VXBkYXRlc0VuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoe3VwZGF0ZXNFbmFibGVkOmV9KX0sdC5zZXRHcmFwaEVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoe2dyYXBoRW5hYmxlZDplfSl9LHQuc2V0TG9nRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZCh7bG9nRW5hYmxlZDplfSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxsPW4oMikscz1vKGwpLGM9bigzKSxkPW4oOSkscD1vKGQpLGY9bigyMiksZz1vKGYpLGg9bigyNCksYj1vKGgpLHk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxhO3IodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89aSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKCgwLGMuZ2V0R2xvYmFsU3RhdGUpKCkpfSxvLmhhbmRsZVRvZ2dsZUdyYXBoPWZ1bmN0aW9uKCl7by5zZXRTdGF0ZSh7aG92ZXJCb3hlczpbXSxncmFwaEVuYWJsZWQ6IW8uc3RhdGUuZ3JhcGhFbmFibGVkfSl9LGE9bixpKG8sYSl9cmV0dXJuIGEodCxlKSx1KHQsW3trZXk6XCJjb21wb25lbnRXaWxsTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoKDAsYy5nZXRHbG9iYWxTdGF0ZSkoKSl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2MuZXZlbnRFbWl0dGVyLm9uKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLm5vUGFuZWwsbj1lLmhpZ2hsaWdodFRpbWVvdXQsbz10aGlzLnN0YXRlLHI9by5yZW5kZXJpbmdCb3hlcyxpPW8uaG92ZXJCb3hlcztyZXR1cm4gc1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsdCE9PSEwJiZzW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHBbXCJkZWZhdWx0XCJdLHtwb3NpdGlvbjp0aGlzLnByb3BzLnBvc2l0aW9uLGhpZ2hsaWdodFRpbWVvdXQ6bn0pLHNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoZ1tcImRlZmF1bHRcIl0se2JveGVzOnIuY29uY2F0KGkpfSksc1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChiW1wiZGVmYXVsdFwiXSxudWxsKSl9fV0pLHR9KGwuQ29tcG9uZW50KTt5LnByb3BUeXBlcz17aGlnaGxpZ2h0VGltZW91dDpsLlByb3BUeXBlcy5udW1iZXIscG9zaXRpb246bC5Qcm9wVHlwZXMub2JqZWN0LG5vUGFuZWw6bC5Qcm9wVHlwZXMuYm9vbH0seS5kZWZhdWx0UHJvcHM9e25vUGFuZWw6ITF9LHRbXCJkZWZhdWx0XCJdPXl9LGZ1bmN0aW9uKHQsbil7dC5leHBvcnRzPWV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5faGFuZGxlQ2xpY2s9dC5faGFuZGxlTW91c2VNb3ZlPXQucmVzdG9yZUxvZ0Zyb21Mb2NhbHN0b3JhZ2U9dC5yZXN0b3JlVXBkYXRlc0Zyb21Mb2NhbHN0b3JhZ2U9dC5nZXRHbG9iYWxTdGF0ZT10LnNldEdsb2JhbFN0YXRlPXQuZXZlbnRFbWl0dGVyPXZvaWQgMDt2YXIgcj1uKDQpLGk9byhyKSxhPW4oNSksdT1vKGEpLGw9big2KSxzPW8obCksYz1uKDcpLGQ9byhjKSxwPW4oOCksZj1vKHApLGc9XCJtb2J4LXJlYWN0LWRldnRvb2xfX3VwZGF0ZXNFbmFibGVkXCIsaD1cIm1vYngtcmVhY3QtZGV2dG9vbF9fbG9nRW5hYmxlZFwiLGI9e3VwZGF0ZXNFbmFibGVkOiExLGdyYXBoRW5hYmxlZDohMSxsb2dFbmFibGVkOiExLGhvdmVyQm94ZXM6W10scmVuZGVyaW5nQm94ZXM6W10sbG9nRmlsdGVyOmZ1bmN0aW9uKCl7cmV0dXJuITB9fSx5PXQuZXZlbnRFbWl0dGVyPW5ldyBzW1wiZGVmYXVsdFwiXTt5LnNldE1heExpc3RlbmVycygxLzApO3ZhciB2PXZvaWQgMCxtPXQuc2V0R2xvYmFsU3RhdGU9ZnVuY3Rpb24oZSl7Yi5sb2dFbmFibGVkIT09ZS5sb2dFbmFibGVkJiYoZS5sb2dFbmFibGVkPT09ITA/KHYmJnYoKSx2PWlbXCJkZWZhdWx0XCJdLnNweShmdW5jdGlvbihlKXtyZXR1cm4oMCxmW1wiZGVmYXVsdFwiXSkoZSxiLmxvZ0ZpbHRlcil9KSk6ZS5sb2dFbmFibGVkPT09ITEmJnYmJnYoKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2FsU3RvcmFnZSYmKGUudXBkYXRlc0VuYWJsZWQ9PT0hMD93aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZyxcIllFU1wiKTplLnVwZGF0ZXNFbmFibGVkPT09ITEmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnKSxlLmxvZ0VuYWJsZWQ9PT0hMD93aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oaCxcIllFU1wiKTplLmxvZ0VuYWJsZWQ9PT0hMSYmd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGgpKSxlLmdyYXBoRW5hYmxlZD09PSExJiYoZS5ob3ZlckJveGVzPVtdKSxiPU9iamVjdC5hc3NpZ24oe30sYixlKSx5LmVtaXQoXCJ1cGRhdGVcIil9LEk9KHQuZ2V0R2xvYmFsU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYn0sdC5yZXN0b3JlVXBkYXRlc0Zyb21Mb2NhbHN0b3JhZ2U9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYWxTdG9yYWdlKXt2YXIgZT1cIllFU1wiPT09d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGcpO20oe3VwZGF0ZXNFbmFibGVkOmV9KX19LHQucmVzdG9yZUxvZ0Zyb21Mb2NhbHN0b3JhZ2U9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYWxTdG9yYWdlKXt2YXIgZT1cIllFU1wiPT09d2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGgpO20oe2xvZ0VuYWJsZWQ6ZX0pfX0sZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsbj12b2lkIDA7dDspe2lmKG49dVtcImRlZmF1bHRcIl0uY29tcG9uZW50QnlOb2RlUmVnaXN0ZXJ5LmdldCh0KSlyZXR1cm57Y29tcG9uZW50Om4sbm9kZTp0fTt0PXQucGFyZW50Tm9kZX1yZXR1cm57Y29tcG9uZW50OnZvaWQgMCxub2RlOnZvaWQgMH19KTt0Ll9oYW5kbGVNb3VzZU1vdmU9ZnVuY3Rpb24oZSl7aWYoYi5ncmFwaEVuYWJsZWQpe3ZhciB0PWUudGFyZ2V0LG49SSh0KS5ub2RlO2lmKG4pe3ZhciBvPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bSh7aG92ZXJCb3hlczpbe2lkOlwidGhlIGhvdmVyZWQgbm9kZVwiLHR5cGU6XCJob3ZlclwiLHg6by5sZWZ0LHk6by50b3Asd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsbGlmZVRpbWU6MS8wfV19KX19fSx0Ll9oYW5kbGVDbGljaz1mdW5jdGlvbihlKXtpZihiLmdyYXBoRW5hYmxlZCl7dmFyIHQ9ZS50YXJnZXQsbj1JKHQpLmNvbXBvbmVudDtpZihuKXtlLnN0b3BQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKTt2YXIgbz1pW1wiZGVmYXVsdFwiXS5leHRyYXMuZ2V0RGVwZW5kZW5jeVRyZWUobi5yZW5kZXIuJG1vYngpOygwLGRbXCJkZWZhdWx0XCJdKShvKSxtKHtkZXBlbmRlbmN5VHJlZTpvLGhvdmVyQm94ZXM6W10sZ3JhcGhFbmFibGVkOiExfSl9fX19LGZ1bmN0aW9uKGUsbil7ZS5leHBvcnRzPXR9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMuX2V2ZW50cz10aGlzLl9ldmVudHN8fHt9LHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH1mdW5jdGlvbiBvKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9ZnVuY3Rpb24gcihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZX1mdW5jdGlvbiBpKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZX1mdW5jdGlvbiBhKGUpe3JldHVybiB2b2lkIDA9PT1lfWUuZXhwb3J0cz1uLG4uRXZlbnRFbWl0dGVyPW4sbi5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsbi5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDAsbi5kZWZhdWx0TWF4TGlzdGVuZXJzPTEwLG4ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZighcihlKXx8MD5lfHxpc05hTihlKSl0aHJvdyBUeXBlRXJyb3IoXCJuIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LG4ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLHUsbCxzO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksXCJlcnJvclwiPT09ZSYmKCF0aGlzLl9ldmVudHMuZXJyb3J8fGkodGhpcy5fZXZlbnRzLmVycm9yKSYmIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKXtpZih0PWFyZ3VtZW50c1sxXSx0IGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgdDt0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyl9aWYobj10aGlzLl9ldmVudHNbZV0sYShuKSlyZXR1cm4hMTtpZihvKG4pKXN3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDE6bi5jYWxsKHRoaXMpO2JyZWFrO2Nhc2UgMjpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0pO2JyZWFrO2Nhc2UgMzpuLmNhbGwodGhpcyxhcmd1bWVudHNbMV0sYXJndW1lbnRzWzJdKTticmVhaztkZWZhdWx0OnU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG4uYXBwbHkodGhpcyx1KX1lbHNlIGlmKGkobikpZm9yKHU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHM9bi5zbGljZSgpLHI9cy5sZW5ndGgsbD0wO3I+bDtsKyspc1tsXS5hcHBseSh0aGlzLHUpO3JldHVybiEwfSxuLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciByO2lmKCFvKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtyZXR1cm4gdGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSx0aGlzLl9ldmVudHMubmV3TGlzdGVuZXImJnRoaXMuZW1pdChcIm5ld0xpc3RlbmVyXCIsZSxvKHQubGlzdGVuZXIpP3QubGlzdGVuZXI6dCksdGhpcy5fZXZlbnRzW2VdP2kodGhpcy5fZXZlbnRzW2VdKT90aGlzLl9ldmVudHNbZV0ucHVzaCh0KTp0aGlzLl9ldmVudHNbZV09W3RoaXMuX2V2ZW50c1tlXSx0XTp0aGlzLl9ldmVudHNbZV09dCxpKHRoaXMuX2V2ZW50c1tlXSkmJiF0aGlzLl9ldmVudHNbZV0ud2FybmVkJiYocj1hKHRoaXMuX21heExpc3RlbmVycyk/bi5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxyJiZyPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+ciYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcihcIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuXCIsdGhpcy5fZXZlbnRzW2VdLmxlbmd0aCksXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKSksdGhpc30sbi5wcm90b3R5cGUub249bi5wcm90b3R5cGUuYWRkTGlzdGVuZXIsbi5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbikscnx8KHI9ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFvKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgcj0hMTtyZXR1cm4gbi5saXN0ZW5lcj10LHRoaXMub24oZSxuKSx0aGlzfSxuLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsYSx1O2lmKCFvKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKG49dGhpcy5fZXZlbnRzW2VdLGE9bi5sZW5ndGgscj0tMSxuPT09dHx8byhuLmxpc3RlbmVyKSYmbi5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KTtlbHNlIGlmKGkobikpe2Zvcih1PWE7dS0tID4wOylpZihuW3VdPT09dHx8blt1XS5saXN0ZW5lciYmblt1XS5saXN0ZW5lcj09PXQpe3I9dTticmVha31pZigwPnIpcmV0dXJuIHRoaXM7MT09PW4ubGVuZ3RoPyhuLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0pOm4uc3BsaWNlKHIsMSksdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsdCl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZXZlbnRzPXt9OnRoaXMuX2V2ZW50c1tlXSYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodCBpbiB0aGlzLl9ldmVudHMpXCJyZW1vdmVMaXN0ZW5lclwiIT09dCYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnModCk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPXt9LHRoaXN9aWYobj10aGlzLl9ldmVudHNbZV0sbyhuKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbik7ZWxzZSBpZihuKWZvcig7bi5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuW24ubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzfSxuLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV0/byh0aGlzLl9ldmVudHNbZV0pP1t0aGlzLl9ldmVudHNbZV1dOnRoaXMuX2V2ZW50c1tlXS5zbGljZSgpOltdfSxuLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2V2ZW50cyl7dmFyIHQ9dGhpcy5fZXZlbnRzW2VdO2lmKG8odCkpcmV0dXJuIDE7aWYodClyZXR1cm4gdC5sZW5ndGh9cmV0dXJuIDB9LG4ubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmxpc3RlbmVyQ291bnQodCl9fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uIG8oZSl7aWYoZS5kZXBlbmRlbmNpZXMpe2Zvcih2YXIgdD1lLmRlcGVuZGVuY2llcy5sZW5ndGgtMTt0Pj0wO3QtLSlmb3IodmFyIG49ZS5kZXBlbmRlbmNpZXNbdF0ubmFtZSxyPXQtMTtyPj0wO3ItLSlpZihlLmRlcGVuZGVuY2llc1tyXS5uYW1lPT09bil7ZS5kZXBlbmRlbmNpZXNbcl0uZGVwZW5kZW5jaWVzPVtdLmNvbmNhdChlLmRlcGVuZGVuY2llc1tyXS5kZXBlbmRlbmNpZXN8fFtdLGUuZGVwZW5kZW5jaWVzW3RdLmRlcGVuZGVuY2llc3x8W10pLGUuZGVwZW5kZW5jaWVzLnNwbGljZSh0LDEpO2JyZWFrfWUuZGVwZW5kZW5jaWVzLmZvckVhY2gobyl9fTt0W1wiZGVmYXVsdFwiXT1ufSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIHIoZSx0KXttPT09ITEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpJiYoY29uc29sZS53YXJuKFwiVGhlIG91dHB1dCBvZiB0aGUgTW9iWCBsb2dnZXIgaXMgb3B0aW1pemVkIGZvciBDaHJvbWVcIiksbT0hMCk7dmFyIG49ZS5zcHlSZXBvcnRTdGFydD09PSEwLG89ZS5zcHlSZXBvcnRFbmQ9PT0hMCxyPXZvaWQgMDtpZigwPT09ST8ocj10KGUpLG4mJiFyJiYodz0hMCkpOm8mJncmJjE9PT1JPyhyPSExLHc9ITEpOnI9dyE9PSEwLHImJm8pYShlLnRpbWUpO2Vsc2UgaWYocil7dmFyIGg9bj9pOnU7c3dpdGNoKGUudHlwZSl7Y2FzZVwiYWN0aW9uXCI6aChcIiVjYWN0aW9uICclcycgJXNcIixcImNvbG9yOmRvZGdlcmJsdWVcIixlLm5hbWUsZChcIihcIixnKGUudGFyZ2V0KSkpLHUoZS5hcmd1bWVudHMpLHMoKTticmVhaztjYXNlXCJ0cmFuc2FjdGlvblwiOmgoXCIlY3RyYW5zYWN0aW9uICclcycgJXNcIixcImNvbG9yOmdyYXlcIixlLm5hbWUsZChcIihcIixnKGUudGFyZ2V0KSkpO2JyZWFrO2Nhc2VcInNjaGVkdWxlZC1yZWFjdGlvblwiOmgoXCIlY3NjaGVkdWxlZCBhc3luYyByZWFjdGlvbiAnJXMnXCIsXCJjb2xvcjojMTBhMjEwXCIscChlLm9iamVjdCkpO2JyZWFrO2Nhc2VcInJlYWN0aW9uXCI6aChcIiVjcmVhY3Rpb24gJyVzJ1wiLFwiY29sb3I6IzEwYTIxMFwiLHAoZS5vYmplY3QpKSxzKCk7YnJlYWs7Y2FzZVwiY29tcHV0ZVwiOmkoXCIlY2NvbXB1dGVkICclcycgJXNcIixcImNvbG9yOiMxMGEyMTBcIixwKGUub2JqZWN0KSxkKFwiKFwiLGcoZS50YXJnZXQpKSksYSgpO2JyZWFrO2Nhc2VcImVycm9yXCI6aChcIiVjZXJyb3I6ICVzXCIsXCJjb2xvcjp0b21hdG9cIixlLm1lc3NhZ2UpLHMoKSxjKCk7YnJlYWs7Y2FzZVwidXBkYXRlXCI6dltcImRlZmF1bHRcIl0uaXNPYnNlcnZhYmxlQXJyYXkoZS5vYmplY3QpP2goXCJ1cGRhdGVkICclc1slc10nOiAlcyAod2FzOiAlcylcIixwKGUub2JqZWN0KSxlLmluZGV4LGYoZS5uZXdWYWx1ZSksZihlLm9sZFZhbHVlKSk6dltcImRlZmF1bHRcIl0uaXNPYnNlcnZhYmxlT2JqZWN0KGUub2JqZWN0KT9oKFwidXBkYXRlZCAnJXMuJXMnOiAlcyAod2FzOiAlcylcIixwKGUub2JqZWN0KSxlLm5hbWUsZihlLm5ld1ZhbHVlKSxmKGUub2xkVmFsdWUpKTpoKFwidXBkYXRlZCAnJXMnOiAlcyAod2FzOiAlcylcIixwKGUub2JqZWN0KSxlLm5hbWUsZihlLm5ld1ZhbHVlKSxmKGUub2xkVmFsdWUpKSxsKHtuZXdWYWx1ZTplLm5ld1ZhbHVlLG9sZFZhbHVlOmUub2xkVmFsdWV9KSxzKCk7YnJlYWs7Y2FzZVwic3BsaWNlXCI6aChcInNwbGljZWQgJyVzJzogaW5kZXggJWQsIGFkZGVkICVkLCByZW1vdmVkICVkXCIscChlLm9iamVjdCksZS5pbmRleCxlLmFkZGVkQ291bnQsZS5yZW1vdmVkQ291bnQpLGwoe2FkZGVkOmUuYWRkZWQscmVtb3ZlZDplLnJlbW92ZWR9KSxzKCk7YnJlYWs7Y2FzZVwiYWRkXCI6aChcInNldCAnJXMuJXMnOiAlc1wiLHAoZS5vYmplY3QpLGUubmFtZSxmKGUubmV3VmFsdWUpKSxsKHtuZXdWYWx1ZTplLm5ld1ZhbHVlfSkscygpO2JyZWFrO2Nhc2VcImRlbGV0ZVwiOmgoXCJyZW1vdmVkICclcy4lcycgKHdhcyAlcylcIixwKGUub2JqZWN0KSxlLm5hbWUsZihlLm9sZFZhbHVlKSksbCh7b2xkVmFsdWU6ZS5vbGRWYWx1ZX0pLHMoKTticmVhaztjYXNlXCJjcmVhdGVcIjpoKFwic2V0ICclcyc6ICVzXCIscChlLm9iamVjdCksZihlLm5ld1ZhbHVlKSksbCh7bmV3VmFsdWU6ZS5uZXdWYWx1ZX0pLHMoKTticmVhaztkZWZhdWx0OmgoZS50eXBlKSxsKGUpfX1uJiZJKyssbyYmSS0tfWZ1bmN0aW9uIGkoKXtjb25zb2xlW3g/XCJncm91cENvbGxhcHNlZFwiOlwibG9nXCJdLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKSxqKyt9ZnVuY3Rpb24gYShlKXtqLS0sXCJudW1iZXJcIj09dHlwZW9mIGUmJnUoXCIlY3RvdGFsIHRpbWU6ICVzbXNcIixcImNvbG9yOmdyYXlcIixlKSx4JiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdSgpe2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBsKCl7Y29uc29sZS5kaXIuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfWZ1bmN0aW9uIHMoKXtjb25zb2xlLnRyYWNlKFwic3RhY2tcIil9ZnVuY3Rpb24gYygpe2Zvcih2YXIgZT0wLHQ9ajt0PmU7ZSsrKWEoKX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIHQ/KGV8fFwiXCIpK3QrKENbZV18fFwiXCIpOlwiXCJ9ZnVuY3Rpb24gcChlKXtyZXR1cm4gdltcImRlZmF1bHRcIl0uZXh0cmFzLmdldERlYnVnTmFtZShlKX1mdW5jdGlvbiBmKGUpe3JldHVybiBoKGUpP1wic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4xMDA/ZS5zdWJzdHIoMCw5NykrXCIuLi5cIjplOmQoXCIoXCIsZyhlKSl9ZnVuY3Rpb24gZyhlKXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZSlyZXR1cm5cIlwiO2lmKGUmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpiKGUpKSl7aWYoZSYmZS4kbW9ieClyZXR1cm4gZS4kbW9ieC5uYW1lO2lmKGUuY29uc3RydWN0b3IpcmV0dXJuIGUuY29uc3RydWN0b3IubmFtZXx8XCJvYmplY3RcIn1yZXR1cm5cIlwiKyhcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmIoZSkpfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIG51bGw9PT1lfHx2b2lkIDA9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgYj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sP1wic3ltYm9sXCI6dHlwZW9mIGV9O3RbXCJkZWZhdWx0XCJdPXI7dmFyIHk9big0KSx2PW8oeSksbT0hMSxJPTAsdz0hMSx4PVwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQsaj0wLEM9eydcIic6J1wiJyxcIidcIjpcIidcIixcIihcIjpcIilcIixcIltcIjpcIl1cIixcIjxcIjpcIl1cIixcIiNcIjpcIlwifX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0W1wiZGVmYXVsdFwiXT1lLHR9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxzPW4oMiksYz1yKHMpLGQ9bigzKSxwPW4oMTApLGY9cihwKSxnPW4oMTEpLGg9cihnKSxiPW4oMTIpLHk9cihiKSx2PW4oMTQpLG09cih2KSxJPW4oMTUpLHc9byhJKSx4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuLG8scjtpKHRoaXMsdCk7Zm9yKHZhciB1PWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheSh1KSxzPTA7dT5zO3MrKylsW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gbj1vPWEodGhpcywoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGwpKSksby5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gby5zZXRTdGF0ZSh7fSl9LHI9bixhKG8scil9cmV0dXJuIHUodCxlKSxsKHQsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZC5ldmVudEVtaXR0ZXIub24oXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2QuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUucG9zaXRpb24sbj1lLmhpZ2hsaWdodFRpbWVvdXQsbz17fTtyZXR1cm4gdD8oby50b3A9dC50b3Asby5yaWdodD10LnJpZ2h0LG8uYm90dG9tPXQuYm90dG9tLG8ubGVmdD10LmxlZnQpOihvLnRvcD1cIjBweFwiLG8ucmlnaHQ9XCIyMHB4XCIpLGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6T2JqZWN0LmFzc2lnbih7fSx3LnBhbmVsLG8pfSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KHlbXCJkZWZhdWx0XCJdLHtoaWdobGlnaHRUaW1lb3V0Om59LGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQobVtcImRlZmF1bHRcIl0se2lkOlwiYnV0dG9uVXBkYXRlc1wifSkpLGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoZltcImRlZmF1bHRcIl0sbnVsbCxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KG1bXCJkZWZhdWx0XCJdLHtpZDpcImJ1dHRvbkdyYXBoXCJ9KSksY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChoW1wiZGVmYXVsdFwiXSxudWxsLGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQobVtcImRlZmF1bHRcIl0se2lkOlwiYnV0dG9uTG9nXCJ9KSkpKX19XSksdH0ocy5Db21wb25lbnQpO3gucHJvcFR5cGVzPXtoaWdobGlnaHRUaW1lb3V0OnMuUHJvcFR5cGVzLm51bWJlcn0sdFtcImRlZmF1bHRcIl09eH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksbD1uKDIpLHM9byhsKSxjPW4oNSksZD1vKGMpLHA9bigzKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuLG8sYTtyKHRoaXMsdCk7Zm9yKHZhciB1PWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheSh1KSxzPTA7dT5zO3MrKylsW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gbj1vPWkodGhpcywoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGwpKSksby5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gby5zZXRTdGF0ZSh7fSl9LG8uaGFuZGxlVG9nZ2xlR3JhcGg9ZnVuY3Rpb24oKXt2YXIgZT0oMCxwLmdldEdsb2JhbFN0YXRlKSgpLHQ9ZS5ncmFwaEVuYWJsZWQ7KDAscC5zZXRHbG9iYWxTdGF0ZSkoe2hvdmVyQm94ZXM6W10sZ3JhcGhFbmFibGVkOiF0fSl9LGE9bixpKG8sYSl9cmV0dXJuIGEodCxlKSx1KHQsW3trZXk6XCJjb21wb25lbnRXaWxsTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoe30pfX0se2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtkW1wiZGVmYXVsdFwiXS50cmFja0NvbXBvbmVudHMoKSxwLmV2ZW50RW1pdHRlci5vbihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixwLl9oYW5kbGVNb3VzZU1vdmUsITApLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscC5faGFuZGxlQ2xpY2ssITApKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cC5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiYoZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIscC5faGFuZGxlTW91c2VNb3ZlLCEwKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHAuX2hhbmRsZU1vdXNlTW92ZSwhMCkpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAscC5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUuZ3JhcGhFbmFibGVkLG49dGhpcy5wcm9wcy5jaGlsZHJlbjtyZXR1cm4gc1tcImRlZmF1bHRcIl0uY2xvbmVFbGVtZW50KG4se29uVG9nZ2xlOnRoaXMuaGFuZGxlVG9nZ2xlR3JhcGgsYWN0aXZlOnR9KX19XSksdH0obC5Db21wb25lbnQpO3RbXCJkZWZhdWx0XCJdPWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLGw9bigyKSxzPW8obCksYz1uKDMpLGQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxhO3IodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89aSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe28uc2V0U3RhdGUoe30pfSxvLmhhbmRsZVRvZ2dsZUxvZz1mdW5jdGlvbigpe3ZhciBlPSgwLGMuZ2V0R2xvYmFsU3RhdGUpKCksdD1lLmxvZ0VuYWJsZWQ7KDAsYy5zZXRHbG9iYWxTdGF0ZSkoe2xvZ0VuYWJsZWQ6IXR9KX0sYT1uLGkobyxhKX1yZXR1cm4gYSh0LGUpLHUodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjLmV2ZW50RW1pdHRlci5vbihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKSwoMCxjLnJlc3RvcmVMb2dGcm9tTG9jYWxzdG9yYWdlKSgpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPSgwLGMuZ2V0R2xvYmFsU3RhdGUpKCksdD1lLmxvZ0VuYWJsZWQsbj10aGlzLnByb3BzLmNoaWxkcmVuO3JldHVybiBzW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQobix7b25Ub2dnbGU6dGhpcy5oYW5kbGVUb2dnbGVMb2csYWN0aXZlOnR9KX19XSksdH0obC5Db21wb25lbnQpO3RbXCJkZWZhdWx0XCJdPWR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLGw9bigyKSxzPW8obCksYz1uKDEzKSxkPW8oYykscD1uKDMpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxhO3IodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89aSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKHt9KX0sby5oYW5kbGVUb2dnbGVVcGRhdGVzPWZ1bmN0aW9uKCl7dmFyIGU9KDAscC5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUudXBkYXRlc0VuYWJsZWQ7KDAscC5zZXRHbG9iYWxTdGF0ZSkoe3VwZGF0ZXNFbmFibGVkOiF0fSl9LGE9bixpKG8sYSl9cmV0dXJuIGEodCxlKSx1KHQsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cC5ldmVudEVtaXR0ZXIub24oXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSk7dmFyIGU9dGhpcy5wcm9wcy5oaWdobGlnaHRUaW1lb3V0O3RoaXMucmVuZGVyaW5nTW9uaXRvcj1uZXcgZFtcImRlZmF1bHRcIl0oe2hpZ2hsaWdodFRpbWVvdXQ6ZX0pLCgwLHAucmVzdG9yZVVwZGF0ZXNGcm9tTG9jYWxzdG9yYWdlKSgpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtwLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKSx0aGlzLnJlbmRlcmluZ01vbml0b3IuZGlzcG9zZSgpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAscC5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUudXBkYXRlc0VuYWJsZWQsbj10aGlzLnByb3BzLmNoaWxkcmVuO3JldHVybiBzW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQobix7b25Ub2dnbGU6dGhpcy5oYW5kbGVUb2dnbGVVcGRhdGVzLGFjdGl2ZTp0fSl9fV0pLHR9KGwuQ29tcG9uZW50KTtmLnByb3BUeXBlcz17aGlnaGxpZ2h0VGltZW91dDpsLlByb3BUeXBlcy5udW1iZXJ9LGYuZGVmYXVsdFByb3BzPXtoaWdobGlnaHRUaW1lb3V0OjE1MDB9LHRbXCJkZWZhdWx0XCJdPWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxhPW4oNSksdT1vKGEpLGw9bigzKSxzPWZ1bmN0aW9uKGUpe3N3aXRjaCghMCl7Y2FzZSAyNT5lOnJldHVyblwiY2hlYXBcIjtjYXNlIDEwMD5lOnJldHVyblwiYWNjZXB0YWJsZVwiO2RlZmF1bHQ6cmV0dXJuXCJleHBlbnNpdmVcIn19LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXMsbz10LmhpZ2hsaWdodFRpbWVvdXQ7cih0aGlzLGUpLHRoaXMuX2JveGVzUmVnaXN0cnk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYWtNYXA/bmV3IFdlYWtNYXA6bmV3IE1hcCx0aGlzLl9yZW5kZXJSZXBvcnRlckRpc3Bvc2VyPXVbXCJkZWZhdWx0XCJdLnJlbmRlclJlcG9ydGVyLm9uKGZ1bmN0aW9uKGUpe2lmKCgwLGwuZ2V0R2xvYmFsU3RhdGUpKCkudXBkYXRlc0VuYWJsZWQ9PT0hMClzd2l0Y2goZS5ldmVudCl7Y2FzZVwicmVuZGVyXCI6aWYoIWUubm9kZXx8aXNOYU4oZS5yZW5kZXJUaW1lKSlyZXR1cm47dmFyIHQ9ZS5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9bi5nZXRCb3hGb3JOb2RlKGUubm9kZSk7ci50eXBlPVwicmVuZGVyaW5nXCIsci55PXQudG9wLHIueD10LmxlZnQsci53aWR0aD10LndpZHRoLHIuaGVpZ2h0PXQuaGVpZ2h0LHIucmVuZGVySW5mbz17Y291bnQ6ci5yZW5kZXJJbmZvJiYrK3IucmVuZGVySW5mby5jb3VudHx8MSxyZW5kZXJUaW1lOmUucmVuZGVyVGltZSx0b3RhbFRpbWU6ZS50b3RhbFRpbWUsY29zdDpzKGUucmVuZGVyVGltZSl9LHIubGlmZVRpbWU9bzt2YXIgaT0oMCxsLmdldEdsb2JhbFN0YXRlKSgpLnJlbmRlcmluZ0JveGVzO3JldHVybi0xPT09aS5pbmRleE9mKHIpJiYoaT1pLmNvbmNhdChbcl0pKSwoMCxsLnNldEdsb2JhbFN0YXRlKSh7cmVuZGVyaW5nQm94ZXM6aX0pLHIuX3RpbWVvdXQmJmNsZWFyVGltZW91dChyLl90aW1lb3V0KSx2b2lkKHIuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBuLnJlbW92ZUJveChlLm5vZGUsITApfSxvKSk7Y2FzZVwiZGVzdHJveVwiOnJldHVybiBuLnJlbW92ZUJveChlLm5vZGUpLHZvaWQgbi5fYm94ZXNSZWdpc3RyeVtcImRlbGV0ZVwiXShlLm5vZGUpO2RlZmF1bHQ6cmV0dXJufX0pfXJldHVybiBpKGUsW3trZXk6XCJnZXRCb3hGb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fYm94ZXNSZWdpc3RyeS5oYXMoZSkpcmV0dXJuIHRoaXMuX2JveGVzUmVnaXN0cnkuZ2V0KGUpO3ZhciB0PXtpZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDMyKS5zdWJzdHIoMil9O3JldHVybiB0aGlzLl9ib3hlc1JlZ2lzdHJ5LnNldChlLHQpLHR9fSx7a2V5OlwiZGlzcG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcmVuZGVyUmVwb3J0ZXJEaXNwb3NlcigpfX0se2tleTpcInJlbW92ZUJveFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuX2JveGVzUmVnaXN0cnkuaGFzKGUpIT09ITEpe3ZhciB0PSgwLGwuZ2V0R2xvYmFsU3RhdGUpKCkucmVuZGVyaW5nQm94ZXMsbj10LmluZGV4T2YodGhpcy5fYm94ZXNSZWdpc3RyeS5nZXQoZSkpOy0xIT09biYmKHQ9dC5zbGljZSgwLG4pLmNvbmNhdCh0LnNsaWNlKG4rMSkpLCgwLGwuc2V0R2xvYmFsU3RhdGUpKHtyZW5kZXJpbmdCb3hlczp0fSkpfX19XSksZX0oKTt0W1wiZGVmYXVsdFwiXT1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9bigyKSxjPXIocyksZD1uKDE1KSxwPW8oZCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLHI7aSh0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1hKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uc3RhdGU9e2hvdmVyZWQ6ITF9LG8uaGFuZGxlTW91c2VPdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG8uc2V0U3RhdGUoe2hvdmVyZWQ6ITB9KX0sby5oYW5kbGVNb3VzZU91dD1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKHtob3ZlcmVkOiExfSl9LHI9bixhKG8scil9cmV0dXJuIHUodCxlKSxsKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmFjdGl2ZSxuPWUuaWQsbz1lLm9uVG9nZ2xlLHI9dGhpcy5zdGF0ZS5ob3ZlcmVkLGk9ZnVuY3Rpb24oKXtzd2l0Y2gobil7Y2FzZVwiYnV0dG9uVXBkYXRlc1wiOnJldHVybiB0P3AuYnV0dG9uVXBkYXRlc0FjdGl2ZTpwLmJ1dHRvblVwZGF0ZXM7Y2FzZVwiYnV0dG9uR3JhcGhcIjpyZXR1cm4gdD9wLmJ1dHRvbkdyYXBoQWN0aXZlOnAuYnV0dG9uR3JhcGg7Y2FzZVwiYnV0dG9uTG9nXCI6cmV0dXJuIHQ/cC5idXR0b25Mb2dBY3RpdmU6cC5idXR0b25Mb2d9fSgpLGE9ZnVuY3Rpb24oKXtzd2l0Y2gobil7Y2FzZVwiYnV0dG9uVXBkYXRlc1wiOnJldHVyblwiVmlzdWFsaXplIGNvbXBvbmVudCByZS1yZW5kZXJzXCI7Y2FzZVwiYnV0dG9uR3JhcGhcIjpyZXR1cm5cIlNlbGVjdCBhIGNvbXBvbmVudCBhbmQgc2hvdyBpdHMgZGVwZW5kZW5jeSB0cmVlXCI7Y2FzZVwiYnV0dG9uTG9nXCI6cmV0dXJuXCJMb2cgYWxsIE1vYlggc3RhdGUgY2hhbmdlcyBhbmQgcmVhY3Rpb25zIHRvIHRoZSBicm93c2VyIGNvbnNvbGUgKHVzZSBGMTIgdG8gc2hvdyAvIGhpZGUgdGhlIGNvbnNvbGUpLiBVc2UgQ2hyb21lIC8gQ2hyb21pdW0gZm9yIGFuIG9wdGltYWwgZXhwZXJpZW5jZVwifX0oKSx1PU9iamVjdC5hc3NpZ24oe30scC5idXR0b24saSx0JiZwLmJ1dHRvbi5hY3RpdmUsciYmcC5idXR0b24uaG92ZXIpO3JldHVybiBjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIse3R5cGU6XCJidXR0b25cIixvbkNsaWNrOm8sdGl0bGU6YSxzdHlsZTp1LG9uTW91c2VPdmVyOnRoaXMuaGFuZGxlTW91c2VPdmVyLG9uTW91c2VPdXQ6dGhpcy5oYW5kbGVNb3VzZU91dH0pfX1dKSx0fShzLkNvbXBvbmVudCk7Zi5wcm9wcz17b25Ub2dnbGU6cy5Qcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLGFjdGl2ZTpzLlByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsbmFtZTpzLlByb3BUeXBlcy5vbmVPZihbXCJidXR0b25VcGRhdGVzXCIsXCJidXR0b25HcmFwaFwiLFwiYnV0dG9uTG9nXCJdKS5pc1JlcXVpcmVkfSx0W1wiZGVmYXVsdFwiXT1mfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5wYW5lbD17cG9zaXRpb246XCJmaXhlZFwiLGhlaWdodDpcIjI2cHhcIixiYWNrZ3JvdW5kQ29sb3I6XCIjZmZmXCIsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuOClcIixib3JkZXJSYWRpdXM6XCIwIDAgMnB4IDJweFwiLGJvcmRlclN0eWxlOlwic29saWRcIixib3JkZXJXaWR0aDpcIjAgMXB4IDFweFwiLGJvcmRlckNvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjEpXCIsekluZGV4OlwiNjUwMDBcIixmb250RmFtaWx5OlwiSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCIsZGlzcGxheTpcImZsZXhcIixwYWRkaW5nOlwiMCA1cHhcIn0sdC5idXR0b249e29wYWNpdHk6LjQ1LGJhY2tncm91bmQ6XCJ0cmFuc3BhcmVudCBub25lIGNlbnRlciAvIDE2cHggMTZweCBuby1yZXBlYXRcIix3aWR0aDpcIjI2cHhcIixtYXJnaW46XCIwIDEwcHhcIixjdXJzb3I6XCJwb2ludGVyXCIsYm9yZGVyOlwibm9uZVwiLGhvdmVyOntvcGFjaXR5Oi43fSxhY3RpdmU6e29wYWNpdHk6MSxcIjpob3ZlclwiOntvcGFjaXR5OjF9fX0sdC5idXR0b25Mb2c9e2JhY2tncm91bmRJbWFnZTpcInVybChcIituKDE2KStcIilcIn0sdC5idXR0b25Mb2dBY3RpdmU9e2JhY2tncm91bmRJbWFnZTpcInVybChcIituKDE3KStcIilcIn0sdC5idXR0b25VcGRhdGVzPXtiYWNrZ3JvdW5kSW1hZ2U6XCJ1cmwoXCIrbigxOCkrXCIpXCJ9LHQuYnV0dG9uVXBkYXRlc0FjdGl2ZT17YmFja2dyb3VuZEltYWdlOlwidXJsKFwiK24oMTkpK1wiKVwifSx0LmJ1dHRvbkdyYXBoPXtiYWNrZ3JvdW5kSW1hZ2U6XCJ1cmwoXCIrbigyMCkrXCIpXCJ9LHQuYnV0dG9uR3JhcGhBY3RpdmU9e2JhY2tncm91bmRJbWFnZTpcInVybChcIituKDIxKStcIilcIn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCaVlYTmxVSEp2Wm1sc1pUMGlZbUZ6YVdNaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2RtbGxkMEp2ZUQwaU1DQXdJREUySURFMklpQm9aV2xuYUhROUlqRTJJaUIzYVdSMGFEMGlNVFlpUGdvZ0lDQWdQR2NnYzNSeWIydGxQU0lqTURBd0lpQm1hV3hzUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRWlQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB4TWk0MUlETXVOV2d0T0dNdE1TNHhJREF0TWlBdU9TMHlJREoyTldNd0lERXVNUzQ1SURJZ01pQXlhREYyTW13MUxUSm9NbU14TGpFZ01DQXlMUzQ1SURJdE1uWXROV013TFRFdU1TMHVPUzB5TFRJdE1ub2lMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTlNBMkxqVm9OeUl2UGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswMUlEa3VOV2czSWk4K0NpQWdJQ0E4TDJjK0Nqd3ZjM1puUGdvPVwifSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QmlZWE5sVUhKdlptbHNaVDBpWW1GemFXTWlJR2xrUFNKTVlYbGxjbDh4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXhOaUF4TmlJZ2FHVnBaMmgwUFNJeE5pSWdkMmxrZEdnOUlqRTJJajRLSUNBZ0lEeG5JSE4wY205clpUMGlJekUzT0RCbVlTSWdabWxzYkQwaWJtOXVaU0lnYzNSeWIydGxMWGRwWkhSb1BTSXhMakkxSWo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk1USXVOU0F6TGpWb0xUaGpMVEV1TVNBd0xUSWdMamt0TWlBeWRqVmpNQ0F4TGpFdU9TQXlJRElnTW1neGRqSnNOUzB5YURKak1TNHhJREFnTWkwdU9TQXlMVEoyTFRWak1DMHhMakV0TGprdE1pMHlMVEo2SWk4K0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUVWdOaTQxYURjaUx6NEtJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5OU0E1TGpWb055SXZQZ29nSUNBZ1BDOW5QZ284TDNOMlp6NEtcIn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJpWVhObFVISnZabWxzWlQwaVltRnphV01pSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWlCb1pXbG5hSFE5SWpFMklpQjNhV1IwYUQwaU1UWWlQZ29nSUNBZ1BHY2djM1J5YjJ0bFBTSWpNREF3SWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVdGQybGtkR2c5SWpFaVBnb2dJQ0FnSUNBZ0lEeGphWEpqYkdVZ1kzZzlJamd1TlNJZ1kzazlJamd1TlNJZ2NqMGlOaUl2UGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswNExqVWdNVEJXTkNJdlBnb2dJQ0FnUEM5blBnb2dJQ0FnUEdjZ2MzUnliMnRsUFNKdWIyNWxJaUJtYVd4c1BTSWpNREF3SWo0S0lDQWdJQ0FnSUNBOFkybHlZMnhsSUdONFBTSTRMalVpSUdONVBTSTRMalVpSUhJOUlqRWlMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlERm9Nbll4TGpWb0xUSjZJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMElERXVObXd0TGpjdU55NHpMak10TGpjdU9DNDNMamN1T0MwdU55NHpMak11TnkwdU4zb2lMejRLSUNBZ0lEd3ZaejRLUEM5emRtYytDZz09XCJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCaVlYTmxVSEp2Wm1sc1pUMGlZbUZ6YVdNaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2RtbGxkMEp2ZUQwaU1DQXdJREUySURFMklpQm9aV2xuYUhROUlqRTJJaUIzYVdSMGFEMGlNVFlpUGdvZ0lDQWdQR2NnYzNSeWIydGxQU0lqTVRjNE1HWmhJaUJtYVd4c1BTSnViMjVsSWlCemRISnZhMlV0ZDJsa2RHZzlJakV1TWpVaVBnb2dJQ0FnSUNBZ0lEeGphWEpqYkdVZ1kzZzlJamd1TlNJZ1kzazlJamd1TlNJZ2NqMGlOaUl2UGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWswNExqVWdNVEJXTkNJdlBnb2dJQ0FnUEM5blBnb2dJQ0FnUEdjZ2MzUnliMnRsUFNKdWIyNWxJaUJtYVd4c1BTSWpNVGM0TUdaaElqNEtJQ0FnSUNBZ0lDQThZMmx5WTJ4bElHTjRQU0k0TGpVaUlHTjVQU0k0TGpVaUlISTlJakVpTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk55NDFJREZvTW5ZeExqVm9MVEo2SWk4K0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRURTBJREV1Tm13dExqY3VOeTR6TGpNdExqY3VPQzQzTGpjdU9DMHVOeTR6TGpNdU55MHVOM29pTHo0S0lDQWdJRHd2Wno0S1BDOXpkbWMrQ2c9PVwifSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QmlZWE5sVUhKdlptbHNaVDBpWW1GemFXTWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJaUJvWldsbmFIUTlJakUySWlCM2FXUjBhRDBpTVRZaVBnb2dJQ0FnUEdjZ2MzUnliMnRsUFNJak1EQXdJaUJtYVd4c1BTSnViMjVsSWlCemRISnZhMlV0ZDJsa2RHZzlJakVpUGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweUxqVWdNaTQxYURsMk1tZ3RPWG9pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk55NDFJRGN1TldnM2RqSm9MVGQ2SWk4K0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUY3VOU0F4TWk0MWFEZDJNbWd0TjNvaUx6NEtJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5OQzQxSURRdU5YWTVhRE1pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk55NDFJRGd1TldndE15SXZQZ29nSUNBZ1BDOW5QZ284TDNOMlp6NEtcIn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJpWVhObFVISnZabWxzWlQwaVltRnphV01pSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWlCb1pXbG5hSFE5SWpFMklpQjNhV1IwYUQwaU1UWWlQZ29nSUNBZ1BHY2djM1J5YjJ0bFBTSWpNVGM0TUdaaElpQm1hV3hzUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRXVNalVpUGdvZ0lDQWdJQ0FnSUR4d1lYUm9JR1E5SWsweUxqVWdNaTQxYURsMk1tZ3RPWG9pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk55NDFJRGN1TldnM2RqSm9MVGQ2SWk4K0NpQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUY3VOU0F4TWk0MWFEZDJNbWd0TjNvaUx6NEtJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5OQzQxSURRdU5YWTVhRE1pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk55NDFJRGd1TldndE15SXZQZ29nSUNBZ1BDOW5QZ284TDNOMlp6NEtcIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pO3JldHVybiB0W1wiZGVmYXVsdFwiXT1lLHR9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiB1KGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxzPW4oMiksYz1yKHMpLGQ9bigyMykscD1vKGQpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKHRoaXMsdCksYSh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZih0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB1KHQsZSksbCh0LFt7a2V5OlwiY29tcG9uZW50V2lsbEFwcGVhclwiLFxudmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy53aWxsQXBwZWFyKGUpfX0se2tleTpcImNvbXBvbmVudFdpbGxMZWF2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5wcm9wcy53aWxsTGVhdmUoKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BzLmNoaWxkcmVufX1dKSx0fShzLkNvbXBvbmVudCk7Zi5wcm9wVHlwZXM9e3dpbGxBcHBlYXI6cy5Qcm9wVHlwZXNbXCJmdW5jdGlvblwiXSx3aWxsTGVhdmU6cy5Qcm9wVHlwZXNbXCJmdW5jdGlvblwiXX0sZi5kZWZhdWx0UHJvcHM9e3dpbGxBcHBlYXI6ZnVuY3Rpb24oKXt9LHdpbGxMZWF2ZTpmdW5jdGlvbigpe319O3ZhciBnPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gaSh0aGlzLHQpLGEodGhpcyxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gdSh0LGUpLGwodCxbe2tleTpcInJlbmRlckJveFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcInJlbmRlcmluZ1wiOnZhciB0PXAucmVuZGVyaW5nW2UucmVuZGVySW5mby5jb3N0XXx8e307cmV0dXJuIGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OmUuaWQscmVmOmZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCYmKHQuc3R5bGUub3BhY2l0eT0wKX0sZS5saWZlVGltZS01MDApfSxzdHlsZTpPYmplY3QuYXNzaWduKHt9LHAuYm94LHAucmVuZGVyaW5nLHQse2xlZnQ6ZS54LHRvcDplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9KX0sY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6T2JqZWN0LmFzc2lnbih7fSxwLnRleHQsdC50ZXh0KX0sZS5yZW5kZXJJbmZvLmNvdW50LFwieCB8IFwiLGUucmVuZGVySW5mby5yZW5kZXJUaW1lLFwiIC8gXCIsZS5yZW5kZXJJbmZvLnRvdGFsVGltZSxcIiBtc1wiKSk7Y2FzZVwiaG92ZXJcIjpyZXR1cm4gY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6ZS5pZCxzdHlsZTpPYmplY3QuYXNzaWduKHt9LHAuYm94LHAuaG92ZXIse2xlZnQ6ZS54LHRvcDplLnksd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHR9KX0pO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yfX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLmJveGVzO3JldHVybiBjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCx0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5yZW5kZXJCb3godCl9KSl9fV0pLHR9KHMuQ29tcG9uZW50KTtnLnByb3BUeXBlcz17Ym94ZXM6cy5Qcm9wVHlwZXMuYXJyYXlPZihzLlByb3BUeXBlcy5zaGFwZSh7dHlwZTpzLlByb3BUeXBlcy5vbmVPZihbXCJyZW5kZXJpbmdcIixcImhvdmVyXCJdKS5pc1JlcXVpcmVkLHg6cy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQseTpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCx3aWR0aDpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxoZWlnaHQ6cy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQscmVuZGVySW5mbzpzLlByb3BUeXBlcy5zaGFwZSh7Y291bnQ6cy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQscmVuZGVyVGltZTpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCx0b3RhbFRpbWU6cy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsY29zdDpzLlByb3BUeXBlcy5vbmVPZihbXCJjaGVhcFwiLFwiYWNjZXB0YWJsZVwiLFwiZXhwZW5zaXZlXCJdKS5pc1JlcXVpcmVkfSksbGlmZVRpbWU6cy5Qcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWR9KSkuaXNSZXF1aXJlZH0sdFtcImRlZmF1bHRcIl09Z30sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt0LmJveD17ZGlzcGxheTpcImJsb2NrXCIscG9zaXRpb246XCJmaXhlZFwiLHpJbmRleDpcIjY0OTk4XCIsbWluV2lkdGg6XCI2MHB4XCIsb3V0bGluZTpcIjNweCBzb2xpZFwiLHBvaW50ZXJFdmVudHM6XCJub25lXCIsdHJhbnNpdGlvbjpcIm9wYWNpdHkgNTAwbXMgZWFzZS1pblwifSx0LnRleHQ9e2ZvbnRGYW1pbHk6XCJ2ZXJkYW5hLCBzYW5zLXNlcmlmXCIscGFkZGluZzpcIjAgNHB4IDJweFwiLGNvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjYpXCIsZm9udFNpemU6XCIxMHB4XCIsbGluZUhlaWdodDpcIjEycHhcIixwb2ludGVyRXZlbnRzOlwibm9uZVwiLFwiZmxvYXRcIjpcInJpZ2h0XCIsYm9yZGVyQm90dG9tUmlnaHRSYWRpdXM6XCIycHhcIixtYXhXaWR0aDpcIjEwMCVcIixtYXhIZWlnaHQ6XCIxMDAlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIix3aGl0ZVNwYWNlOlwibm93cmFwXCIsdGV4dE92ZXJmbG93OlwiZWxsaXBzaXNcIn0sdC5yZW5kZXJpbmc9e2NoZWFwOntvdXRsaW5lQ29sb3I6XCJyZ2JhKDE4MiwgMjE4LCAxNDYsIDAuNzUpXCIsdGV4dDp7YmFja2dyb3VuZENvbG9yOlwicmdiYSgxODIsIDIxOCwgMTQ2LCAwLjc1KVwifX0sYWNjZXB0YWJsZTp7b3V0bGluZUNvbG9yOlwicmdiYSgyMjgsIDE5NSwgNjYsIDAuODUpXCIsdGV4dDp7YmFja2dyb3VuZENvbG9yOlwicmdiYSgyMjgsIDE5NSwgNjYsIDAuODUpXCJ9fSxleHBlbnNpdmU6e291dGxpbmVDb2xvcjpcInJnYmEoMjI4LCAxNzEsIDE3MSwgMC45NSlcIix0ZXh0OntiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDIyOCwgMTcxLCAxNzEsIDAuOTUpXCJ9fX0sdC5ob3Zlcj17b3V0bGluZUNvbG9yOlwicmdiYSgxMjgsIDEyOCwgMjU1LCAwLjUpXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9bigyKSxjPXIocyksZD1uKDI1KSxwPXIoZCksZj1uKDMpLGc9bigyNyksaD1vKGcpLGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxyO2kodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89YSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKHt9KX0sby5oYW5kbGVDbG9zZT1mdW5jdGlvbigpe3JldHVybigwLGYuc2V0R2xvYmFsU3RhdGUpKHtkZXBlbmRlbmN5VHJlZTp2b2lkIDB9KX0scj1uLGEobyxyKX1yZXR1cm4gdSh0LGUpLGwodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtmLmV2ZW50RW1pdHRlci5vbihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zi5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSl9fSx7a2V5OlwicmVuZGVyVHJlZUl0ZW1cIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIG89ZS5uYW1lLHI9ZS5kZXBlbmRlbmNpZXMsaT10aGlzO3JldHVybiBjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOmguaXRlbSxrZXk6b30sY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6T2JqZWN0LmFzc2lnbih7fSxoLmJveCxuJiZoLmJveC5yb290KX0sbyksciYmY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpoLnRyZWV9LHIubWFwKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkucmVuZGVyVHJlZUl0ZW0oZSx0PT1yLmxlbmd0aC0xKX0pKSwhbiYmY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6aC5pdGVtSG9yaXNvbnRhbERhc2h9KSwhbiYmY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6T2JqZWN0LmFzc2lnbih7fSxoLml0ZW1WZXJpY2FsU3RpY2ssdCYmaC5pdGVtVmVyaWNhbFN0aWNrW1wic2hvcnRcIl0pfSkpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsZi5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUuZGVwZW5kZW5jeVRyZWU7cmV0dXJuIGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQocFtcImRlZmF1bHRcIl0se29uT3ZlcmxheUNsaWNrOnRoaXMuaGFuZGxlQ2xvc2V9LHQmJmNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6aC5ncmFwaH0sY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcInNwYW5cIix7c3R5bGU6aC5jbG9zZSxvbkNsaWNrOnRoaXMuaGFuZGxlQ2xvc2V9LFwiw5dcIiksY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpoLnRyZWV9LHRoaXMucmVuZGVyVHJlZUl0ZW0odCwhMCwhMCkpKSl9fV0pLHR9KHMuQ29tcG9uZW50KTt0W1wiZGVmYXVsdFwiXT1ifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9bigyKSxjPXIocyksZD1uKDI2KSxwPW8oZCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLHI7aSh0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1hKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uc3RvcFByb3BvZ2F0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpfSxyPW4sYShvLHIpfXJldHVybiB1KHQsZSksbCh0LFt7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlO2lmKGUuY2hpbGRyZW4mJiF0aGlzLnByb3BzLmNoaWxkcmVuKXRoaXMucmlnaHRPZmZzZXQ9MCx0LnN0eWxlLmJvcmRlclJpZ2h0PW51bGwsdC5zdHlsZS5vdmVyZmxvdz1udWxsO2Vsc2UgaWYoIWUuY2hpbGRyZW4mJnRoaXMucHJvcHMuY2hpbGRyZW4pe3ZhciBuPXQub2Zmc2V0V2lkdGg7dC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3ZhciBvPXQub2Zmc2V0V2lkdGgscj1NYXRoLm1heCgwLG8tbik7dC5zdHlsZS5ib3JkZXJSaWdodD1yK1wicHggc29saWQgdHJhbnNwYXJlbnRcIn19fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5jaGlsZHJlbixuPWUub25PdmVybGF5Q2xpY2s7cmV0dXJuIHQ/Y1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpwLm92ZXJsYXksb25DbGljazpufSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTpcImNvbnRlbnRcIixzdHlsZTpwLm1vZGFsLG9uQ2xpY2s6dGhpcy5zdG9wUHJvcG9nYXRpb259LHQpKTpudWxsfX1dKSx0fShzLkNvbXBvbmVudCk7Zi5wcm9wVHlwZXM9e2NoaWxkcmVuOnMuUHJvcFR5cGVzLm5vZGUsb25PdmVybGF5Q2xpY2s6cy5Qcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkfSx0W1wiZGVmYXVsdFwiXT1mfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3Qub3ZlcmxheT17cG9zaXRpb246XCJmaXhlZFwiLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAsbGVmdDowLHpJbmRleDo2NmUzLG92ZXJmbG93OlwiYXV0b1wiLFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOlwidG91Y2hcIixvdXRsaW5lOjAsYmFja2dyb3VuZENvbG9yOlwicmdiYSg0MCwgNDAsIDUwLCAwLjUpXCIsdHJhbnNmb3JtT3JpZ2luOlwiNTAlIDI1JVwifSx0Lm1vZGFsPXtwb3NpdGlvbjpcInJlbGF0aXZlXCIsd2lkdGg6XCJhdXRvXCIsbWFyZ2luOlwiNSUgMTAlXCIsekluZGV4OjEwNjB9fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuZ3JhcGg9e2JhY2tncm91bmQ6XCJ3aGl0ZVwiLHBhZGRpbmc6XCI0MHB4XCJ9LHQuY2xvc2U9e2NvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjIpXCIsZm9udFNpemU6XCIzNnB4XCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjVweFwiLHJpZ2h0OlwiNXB4XCIsd2lkdGg6XCI0MHB4XCIsaGVpZ2h0OlwiNDBweFwiLGxpbmVIZWlnaHQ6XCIzNHB4XCIsdGV4dEFsaWduOlwiY2VudGVyXCIsY3Vyc29yOlwicG9pbnRlclwiLFwiOmhvdmVyXCI6e2NvbG9yOlwicmdiYSgwLCAwLCAwLCAwLjUpXCJ9fSx0LnRyZWU9e3Bvc2l0aW9uOlwicmVsYXRpdmVcIixwYWRkaW5nTGVmdDpcIjI1cHhcIn0sdC5pdGVtPXtwb3NpdGlvbjpcInJlbGF0aXZlXCJ9LHQuYm94PXtwYWRkaW5nOlwiNHB4IDEwcHhcIixiYWNrZ3JvdW5kOlwicmdiYSgwLCAwLCAwLCAwLjA1KVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixtYXJnaW5Cb3R0b206XCI4cHhcIixjb2xvcjpcIiMwMDBcIixyb290Ontmb250U2l6ZTpcIjE1cHhcIixmb250V2VpZ2h0OlwiYm9sZFwiLHBhZGRpbmc6XCI2cHggMTNweFwifX0sdC5pdGVtSG9yaXNvbnRhbERhc2g9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OlwiLTEycHhcIixib3JkZXJUb3A6XCIxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpXCIsdG9wOlwiMTRweFwiLHdpZHRoOlwiMTJweFwiLGhlaWdodDpcIjBcIn0sdC5pdGVtVmVyaWNhbFN0aWNrPXtwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDpcIi0xMnB4XCIsYm9yZGVyTGVmdDpcIjFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMilcIixoZWlnaHQ6XCIxMDAlXCIsd2lkdGg6MCx0b3A6XCItOHB4XCIsXCJzaG9ydFwiOntoZWlnaHQ6XCIyM3B4XCJ9fX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7aWYodm9pZCAwPT09ZXx8bnVsbD09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGZpcnN0IGFyZ3VtZW50IHRvIG9iamVjdFwiKTtmb3IodmFyIG49T2JqZWN0KGUpLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXt2YXIgcj1hcmd1bWVudHNbb107aWYodm9pZCAwIT09ciYmbnVsbCE9PXIpZm9yKHZhciBpPU9iamVjdC5rZXlzKE9iamVjdChyKSksYT0wLHU9aS5sZW5ndGg7dT5hO2ErKyl7dmFyIGw9aVthXSxzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixsKTt2b2lkIDAhPT1zJiZzLmVudW1lcmFibGUmJihuW2xdPXJbbF0pfX1yZXR1cm4gbn1mdW5jdGlvbiBvKCl7T2JqZWN0LmFzc2lnbnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCxcImFzc2lnblwiLHtlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpufSl9ZS5leHBvcnRzPXthc3NpZ246bixwb2x5ZmlsbDpvfX1dKX0pOyIsIu+7v2ltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IHsgUm9vdCB9IGZyb20gJy4vcm9vdCc7XHJcbmltcG9ydCB7IEFwcFN0b3JlIH0gZnJvbSBcIi4vc3RvcmUvYXBwLXN0b3JlXCI7XHJcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIm1vYngtcmVhY3RcIjtcclxuaW1wb3J0IERldlRvb2xzIGZyb20gXCJtb2J4LXJlYWN0LWRldnRvb2xzXCI7XHJcblxyXG5jb25zdCBhcHBTdG9yZSA9IG5ldyBBcHBTdG9yZSgpO1xyXG5cclxuUmVhY3RET00ucmVuZGVyKFxyXG4gICAgPGRpdj5cclxuICAgICAgICA8UHJvdmlkZXIgYXBwU3RvcmU9e2FwcFN0b3JlfT5cclxuICAgICAgICAgICAgPFJvb3Qgc3RvcmU9e2FwcFN0b3JlfSAvPlxyXG4gICAgICAgIDwvUHJvdmlkZXI+XHJcbiAgICAgICAgPERldlRvb2xzIC8+XHJcbiAgICA8L2Rpdj4sXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpKTtcclxuIiwi77u/aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgSnVtYm90cm9uLCBCdXR0b24sIENhcmQsIENhcmRCbG9jaywgQ2FyZFRpdGxlLCBDYXJkVGV4dCwgQ2FyZERlY2sgfSBmcm9tICdyZWFjdHN0cmFwJztcclxuaW1wb3J0IHsgTGluaywgUm91dGVDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBBcHBTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9hcHAtc3RvcmVcIjtcclxuaW1wb3J0IHsgaW5qZWN0LCBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XHJcblxyXG5pbnRlcmZhY2UgSUhvbWVQcm9wcyBleHRlbmRzIFJvdXRlQ29tcG9uZW50UHJvcHM8YW55PiB7XHJcbiAgICBhcHBTdG9yZSA6IEFwcFN0b3JlXHJcbn1cclxuXHJcbkBpbmplY3QoXCJhcHBTdG9yZVwiKSBAb2JzZXJ2ZXJcclxuZXhwb3J0IGNsYXNzIEhvbWUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUhvbWVQcm9wcywgdW5kZWZpbmVkPiB7XHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGp1bXBvQnV0dG9uID0gdGhpcy5wcm9wcy5hcHBTdG9yZS51c2VyLmF1dGhlbnRpY2F0ZWQgP1xyXG4gICAgICAgICAgICA8TGluayB0bz1cIi9hcHAvbWFwXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tc2phLWRhcmstZ3JlZW5cIj5HbyB0byBNYXAgwrs8L0xpbms+IDpcclxuICAgICAgICAgICAgPExpbmsgdG89XCIvYXBwL2xvZ2luXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tc2phLWRhcmstZ3JlZW5cIj5Mb2cgaW4gwrs8L0xpbms+O1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxKdW1ib3Ryb24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImRpc3BsYXktM1wiPlNKQSBUcmFja2VyPC9oMT5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJsZWFkXCI+V2VsY29tZSB0byB0aGUgU3QgQW1idWxhbmNlIFNXUiBDZW50cmFsIERpc3RyaWN0IFRyYWNrZXI8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAge2p1bXBvQnV0dG9ufVxyXG4gICAgICAgICAgICAgICAgPC9KdW1ib3Ryb24+XHJcblxyXG4gICAgICAgICAgICAgICAgPENhcmREZWNrIGNsYXNzTmFtZT1cImZyb250LXBhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRCbG9jaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGU+TmV3IFVzZXJzPC9DYXJkVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgeW91IGhhdmUgbmV2ZXIgdXNlZCB0aGlzIHNpdGUgYmVmb3JlLCB5b3Ugd2lsbCBuZWVkIHRvIGJlIGlzc3VlZCB3aXRoIGEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9Db250YWN0XCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLWJsb2NrXCI+UmVxdWVzdCBBY2NvdW50IMK7PC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRCbG9jaz5cclxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPkdldCB0aGUgVHJhY2tlcnM8L0NhcmRUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGVyZSBhcmUgYSBzZXQgb2YgYXBwcyB0byBlbmFibGUgeW91ciBwaG9uZSB0byBiZSB0cmFja2VkIGZyb20gdGhpcyB3ZWJzaXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIlwiIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1ibG9jayBkaXNhYmxlZFwiIGRpc2FibGVkPkNvbWluZyBTb29uPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRCbG9jaz5cclxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPlByaXZhY3kgUG9saWN5PC9DYXJkVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVG8gZ2V0IGEgYmV0dGVyIGlkZWEgb2YgaG93IHRoaXMgd2Vic2l0ZSBpcyB1c2VkIGFuZCBob3cgaXQgY2FuIGJlIG1hZGUgYmV0dGVyLCB3ZSBjb2xsZWN0IHNvbWUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCB5b3UgZG8gd2l0aCB0aGlzIHNpdGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGV4dD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL1BvbGljaWVzXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLWJsb2NrXCI+RmluZCBvdXQgTW9yZSDCuzwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICAgICAgPC9DYXJkRGVjaz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRCbG9jaywgQ2FyZFRpdGxlLCBCdXR0b24sIEZvcm0sIEZvcm1Hcm91cCwgTGFiZWwsIElucHV0LCBJbnB1dEdyb3VwLCBJbnB1dEdyb3VwQWRkb24sIH0gZnJvbSAncmVhY3RzdHJhcCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuXHJcbmludGVyZmFjZSBJTG9naW5Cb3hTdGF0ZSB7XHJcbiAgICB1c2VybmFtZTogc3RyaW5nO1xyXG4gICAgcGFzc3dvcmQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIElMb2dpbkJveFByb3BzIHtcclxuICAgIG9uTG9naW46ICh1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5Cb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUxvZ2luQm94UHJvcHMsIElMb2dpbkJveFN0YXRlPiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSUxvZ2luQm94UHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6IFwiXCIsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBcIlwiXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVVzZXJuYW1lKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1c2VybmFtZTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlUGFzc3dvcmQoZXZlbnQ6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBhc3N3b3JkOiBldmVudC50YXJnZXQudmFsdWUgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdWJtaXRGb3JtKGV2ZW50OiBSZWFjdC5TeW50aGV0aWNFdmVudDxIVE1MRm9ybUVsZW1lbnQ+KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkxvZ2luKHRoaXMuc3RhdGUudXNlcm5hbWUsIHRoaXMuc3RhdGUucGFzc3dvcmQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJsb2dpbi1jYXJkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPkxvZyBJbjwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0R3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRHcm91cEFkZG9uPjxzcGFuIGNsYXNzTmFtZT1cImZhIGZhLWZ3IGZhLWF0XCI+PC9zcGFuPjwvSW5wdXRHcm91cEFkZG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJFbWFpbFwiIGlkPVwiZW1haWxcIiBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgdmFsdWU9e3RoaXMuc3RhdGUudXNlcm5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy51cGRhdGVVc2VybmFtZShlKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0R3JvdXBBZGRvbj48c3BhbiBjbGFzc05hbWU9XCJmYSBmYS1mdyBmYS1sb2NrXCI+PC9zcGFuPjwvSW5wdXRHcm91cEFkZG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJQYXNzd29yZFwiIGlkPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCIgdmFsdWU9e3RoaXMuc3RhdGUucGFzc3dvcmR9IG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy51cGRhdGVQYXNzd29yZChlKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ0bi1ibG9ja1wiIG9uQ2xpY2s9eyhlKSA9PiB0aGlzLnN1Ym1pdEZvcm0oZSl9PkxvZyBpbjwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIHRvPVwiL2FwcC9yZXNldC1wYXNzd29yZFwiPkZvcmdvdHRlbiB5b3VyIHBhc3N3b3JkPzwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMb2dpbkJveCB9IGZyb20gJy4vbG9naW4tYm94JztcclxuaW1wb3J0IHsgUm91dGVDb21wb25lbnRQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgeyBBcHBTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9hcHAtc3RvcmVcIjtcclxuaW1wb3J0IHsgaW5qZWN0LCBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XHJcblxyXG5pbnRlcmZhY2UgSUxvZ2luUHJvcHMgZXh0ZW5kcyBSb3V0ZUNvbXBvbmVudFByb3BzPGFueT4ge1xyXG4gICAgYXBwU3RvcmUgOiBBcHBTdG9yZVxyXG59XHJcblxyXG5AaW5qZWN0KFwiYXBwU3RvcmVcIikgQG9ic2VydmVyXHJcbmV4cG9ydCBjbGFzcyBMb2dpbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJTG9naW5Qcm9wcywgdW5kZWZpbmVkPiB7XHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxMb2dpbkJveCBvbkxvZ2luPXsodSwgcykgPT4gdGhpcy5sb2dpbih1LCBzKX0gLz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgbG9naW4odXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBoZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKFwiL3Rva2VuXCIsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXHJcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUsIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0Lm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmFwcFN0b3JlLnVzZXIuY2hlY2tBdXRoZW50aWNhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGlzdG9yeS5wdXNoKFwiL1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuYXBwU3RvcmUuc2hvd0Vycm9yKFwiQ291bGQgbm90IGNvbnRhY3Qgc2VydmVyLiAgQXJlIHlvdSBvbmxpbmU/XCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwi77u/aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBOYXZiYXIsIE5hdmJhclRvZ2dsZXIsIE5hdmJhckJyYW5kLCBDb2xsYXBzZSwgTmF2LCBOYXZJdGVtLCBOYXZMaW5rIH0gZnJvbSAncmVhY3RzdHJhcCc7XHJcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuXHJcbmludGVyZmFjZSBJTWFpbk5hdlByb3BzIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgICBvbkxvZ291dD86ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJTWFpbk5hdlN0YXRlIHtcclxuICAgIGlzT3BlbjogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5OYXYgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SU1haW5OYXZQcm9wcywgSU1haW5OYXZTdGF0ZT4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElNYWluTmF2UHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGlzT3BlbjogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2LCBwcm9wcykgPT4gKHtcclxuICAgICAgICAgICAgaXNPcGVuOiAhcHJldi5pc09wZW5cclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBsb2dpbkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmF1dGhlbnRpY2F0ZWQpIHtcclxuICAgICAgICAgICAgbG9naW5FbGVtZW50ID0gPE5hdkl0ZW0ga2V5PVwiaGVsbG9cIj5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgdG89XCIvcHJvZmlsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEhlbGxvIHt0aGlzLnByb3BzLm5hbWV9XHJcbiAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgIDwvTmF2SXRlbT47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsb2dpbkVsZW1lbnQgPSA8TmF2SXRlbT5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgdG89XCIvYXBwL2xvZ2luXCI+TG9nIGluPC9MaW5rPlxyXG4gICAgICAgICAgICA8L05hdkl0ZW0+O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPE5hdmJhciBjb2xvcj1cInNqYS1kYXJrLWdyZWVuXCIgaW52ZXJzZSB0b2dnbGVhYmxlPlxyXG4gICAgICAgICAgICAgICAgPE5hdmJhclRvZ2dsZXIgcmlnaHQgb25DbGljaz17KCkgPT4gdGhpcy50b2dnbGUoKX0gLz5cclxuICAgICAgICAgICAgICAgIDxOYXZiYXJCcmFuZCBocmVmPVwiL1wiPlNKQSBUcmFja2VyPC9OYXZiYXJCcmFuZD5cclxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBpc09wZW49e3RoaXMuc3RhdGUuaXNPcGVufSBuYXZiYXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPE5hdiBuYXZiYXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9cIj5Ib21lPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9NYXBcIj5NYXA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE5hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJuYXYtbGlua1wiIHRvPVwiL0NvbnRhY3RcIj5Db250YWN0PC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9OYXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPE5hdiBuYXZiYXIgY2xhc3NOYW1lPVwibWwtYXV0b1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9naW5FbGVtZW50fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cclxuICAgICAgICAgICAgPC9OYXZiYXI+KTtcclxuICAgIH1cclxufVxyXG4iLCLvu79pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IE1haW5OYXYgfSBmcm9tICcuL25hdmJhcic7XHJcbmltcG9ydCB7IEhvbWUgfSBmcm9tICcuL2hvbWUvaG9tZSc7XHJcbmltcG9ydCB7IExvZ2luIH0gZnJvbSAnLi9sb2dpbi9sb2dpbic7XHJcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBSb3V0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5pbXBvcnQgKiBhcyBDb29raWVzIGZyb20gJ2pzLWNvb2tpZSc7XHJcbmltcG9ydCB7IEFwcFN0b3JlIH0gZnJvbSBcIi4vc3RvcmUvYXBwLXN0b3JlXCI7XHJcbmltcG9ydCB7IG9ic2VydmVyIH0gZnJvbSBcIm1vYngtcmVhY3RcIjtcclxuaW1wb3J0IHsgQWxlcnQsIENvbnRhaW5lciB9IGZyb20gXCJyZWFjdHN0cmFwXCI7XHJcblxyXG5pbnRlcmZhY2UgSVJvb3RQcm9wcyB7XHJcbiAgICBzdG9yZTogQXBwU3RvcmU7XHJcbn1cclxuXHJcblxyXG5cclxuQG9ic2VydmVyXHJcbmV4cG9ydCBjbGFzcyBSb290IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElSb290UHJvcHMsIHVuZGVmaW5lZD4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElSb290UHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMuc3RvcmUudXNlci5jaGVja0F1dGhlbnRpY2F0aW9uKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGxvZ091dCgpIHtcclxuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcblxyXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXCIsIENvb2tpZXMuZ2V0KCdYU1JGLVRPS0VOJykpO1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2goJy9hY2NvdW50L2xvZ291dCcsIHtcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IHNob3dFcnJvciA9IHRoaXMucHJvcHMuc3RvcmUuZXJyb3IubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJvdXRlcj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPE1haW5OYXYgbmFtZT17dGhpcy5wcm9wcy5zdG9yZS51c2VyLm5hbWV9IGF1dGhlbnRpY2F0ZWQ9e3RoaXMucHJvcHMuc3RvcmUudXNlci5hdXRoZW50aWNhdGVkfSBvbkxvZ291dD17KCkgPT4gdGhpcy5sb2dPdXQoKX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8Q29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnQgaXNPcGVuPXtzaG93RXJyb3J9IGNvbG9yPVwiZGFuZ2VyXCIgdG9nZ2xlPXsoKSA9PiB0aGlzLnByb3BzLnN0b3JlLmNsZWFyRXJyb3IoKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zdG9yZS5lcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9BbGVydD5cclxuICAgICAgICAgICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD0nLycgY29tcG9uZW50PXtIb21lfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPScvYXBwL2xvZ2luJyBjb21wb25lbnQ9e0xvZ2lufSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUm91dGVyPik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgVXNlclN0b3JlIH0gZnJvbSBcIi4vdXNlci1zdG9yZVwiO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlLCBhY3Rpb24gfSBmcm9tICdtb2J4JztcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHBTdG9yZSB7XHJcbiAgICBAb2JzZXJ2YWJsZSBcclxuICAgIHVzZXI6IFVzZXJTdG9yZSA9IG5ldyBVc2VyU3RvcmUoKTtcclxuICAgIEBvYnNlcnZhYmxlIFxyXG4gICAgZXJyb3I6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgQGFjdGlvbiBzaG93RXJyb3IgPSAobXNnOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLmVycm9yID0gbXNnO1xyXG4gICAgfVxyXG5cclxuICAgIEBhY3Rpb24gY2xlYXJFcnJvciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmVycm9yID0gXCJcIjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IG9ic2VydmFibGUsIGFjdGlvbiB9IGZyb20gJ21vYngnO1xyXG5cclxuaW50ZXJmYWNlIElXaG9BbUlSZXN1bHQge1xyXG4gICAgYXV0aGVudGljYXRlZDogYm9vbGVhbjtcclxuICAgIHJlYWxOYW1lOiBzdHJpbmc7XHJcbiAgICByb2xlOiBzdHJpbmdbXTtcclxuICAgIHVzZXJOYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVc2VyU3RvcmUge1xyXG4gICAgQG9ic2VydmFibGUgYXV0aGVudGljYXRlZDogYm9vbGVhbjtcclxuICAgIEBvYnNlcnZhYmxlIG5hbWU6IHN0cmluZztcclxuXHJcbiAgICBAYWN0aW9uIGNoZWNrQXV0aGVudGljYXRpb24gPSBhc3luYyAodHJ5UmVmcmVzaDpib29sZWFuID0gZmFsc2UpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2goJy9hcGkvYWNjb3VudC93aG9hbWknLCB7XHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCB3aG9BbUkgPSBhd2FpdCByZXN1bHQuanNvbigpIGFzIElXaG9BbUlSZXN1bHQ7XHJcblxyXG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlZCA9IHdob0FtSS5hdXRoZW50aWNhdGVkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHdob0FtSS5yZWFsTmFtZTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmF1dGhlbnRpY2F0ZWQgJiYgdHJ5UmVmcmVzaClcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQXV0aGVudGljYXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBAYWN0aW9uIHJlZnJlc2hBdXRoZW50aWNhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2goXCIvcmVmcmVzaFRva2VuXCIsIHtcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmNoZWNrQXV0aGVudGljYXRpb24oKTtcclxuICAgIH1cclxufSJdfQ==
