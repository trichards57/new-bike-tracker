(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("mobx"),require("mobx-react")):"function"==typeof define&&define.amd?define(["react","mobx","mobx-react"],t):"object"==typeof exports?exports.mobxDevtools=t(require("react"),require("mobx"),require("mobx-react")):e.mobxDevtools=t(e.React,e.mobx,e.mobxReact)}(this,function(e,t,n){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogEnabled=t.setGraphEnabled=t.setUpdatesEnabled=t.configureDevtool=t.UpdatesControl=t.LogControl=t.GraphControl=t["default"]=void 0;var r=n(1);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r)["default"]}});var i=n(10);Object.defineProperty(t,"GraphControl",{enumerable:!0,get:function(){return o(i)["default"]}});var a=n(11);Object.defineProperty(t,"LogControl",{enumerable:!0,get:function(){return o(a)["default"]}});var u=n(12);Object.defineProperty(t,"UpdatesControl",{enumerable:!0,get:function(){return o(u)["default"]}});var l=n(28),s=o(l),c=n(3);s["default"].polyfill();var d=t.configureDevtool=function(e){var t=e.logEnabled,n=e.updatesEnabled,o=e.graphEnabled,r=e.logFilter,i={};void 0!==t&&(i.logEnabled=Boolean(t)),void 0!==n&&(i.updatesEnabled=Boolean(n)),void 0!==o&&(i.graphEnabled=Boolean(o)),"function"==typeof r&&(i.logFilter=r),(0,c.setGlobalState)(i)};t.setUpdatesEnabled=function(e){return d({updatesEnabled:e})},t.setGraphEnabled=function(e){return d({graphEnabled:e})},t.setLogEnabled=function(e){return d({logEnabled:e})}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(3),d=n(9),p=o(d),f=n(22),g=o(f),h=n(24),b=o(h),y=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState((0,c.getGlobalState)())},o.handleToggleGraph=function(){o.setState({hoverBoxes:[],graphEnabled:!o.state.graphEnabled})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.setState((0,c.getGlobalState)())}},{key:"componentDidMount",value:function(){c.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=this.props,t=e.noPanel,n=e.highlightTimeout,o=this.state,r=o.renderingBoxes,i=o.hoverBoxes;return s["default"].createElement("div",null,t!==!0&&s["default"].createElement(p["default"],{position:this.props.position,highlightTimeout:n}),s["default"].createElement(g["default"],{boxes:r.concat(i)}),s["default"].createElement(b["default"],null))}}]),t}(l.Component);y.propTypes={highlightTimeout:l.PropTypes.number,position:l.PropTypes.object,noPanel:l.PropTypes.bool},y.defaultProps={noPanel:!1},t["default"]=y},function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t._handleClick=t._handleMouseMove=t.restoreLogFromLocalstorage=t.restoreUpdatesFromLocalstorage=t.getGlobalState=t.setGlobalState=t.eventEmitter=void 0;var r=n(4),i=o(r),a=n(5),u=o(a),l=n(6),s=o(l),c=n(7),d=o(c),p=n(8),f=o(p),g="mobx-react-devtool__updatesEnabled",h="mobx-react-devtool__logEnabled",b={updatesEnabled:!1,graphEnabled:!1,logEnabled:!1,hoverBoxes:[],renderingBoxes:[],logFilter:function(){return!0}},y=t.eventEmitter=new s["default"];y.setMaxListeners(1/0);var v=void 0,m=t.setGlobalState=function(e){b.logEnabled!==e.logEnabled&&(e.logEnabled===!0?(v&&v(),v=i["default"].spy(function(e){return(0,f["default"])(e,b.logFilter)})):e.logEnabled===!1&&v&&v()),"undefined"!=typeof window&&window.localStorage&&(e.updatesEnabled===!0?window.localStorage.setItem(g,"YES"):e.updatesEnabled===!1&&window.localStorage.removeItem(g),e.logEnabled===!0?window.localStorage.setItem(h,"YES"):e.logEnabled===!1&&window.localStorage.removeItem(h)),e.graphEnabled===!1&&(e.hoverBoxes=[]),b=Object.assign({},b,e),y.emit("update")},I=(t.getGlobalState=function(){return b},t.restoreUpdatesFromLocalstorage=function(){if("undefined"!=typeof window&&window.localStorage){var e="YES"===window.localStorage.getItem(g);m({updatesEnabled:e})}},t.restoreLogFromLocalstorage=function(){if("undefined"!=typeof window&&window.localStorage){var e="YES"===window.localStorage.getItem(h);m({logEnabled:e})}},function(e){for(var t=e,n=void 0;t;){if(n=u["default"].componentByNodeRegistery.get(t))return{component:n,node:t};t=t.parentNode}return{component:void 0,node:void 0}});t._handleMouseMove=function(e){if(b.graphEnabled){var t=e.target,n=I(t).node;if(n){var o=n.getBoundingClientRect();m({hoverBoxes:[{id:"the hovered node",type:"hover",x:o.left,y:o.top,width:o.width,height:o.height,lifeTime:1/0}]})}}},t._handleClick=function(e){if(b.graphEnabled){var t=e.target,n=I(t).component;if(n){e.stopPropagation(),e.preventDefault();var o=i["default"].extras.getDependencyTree(n.render.$mobx);(0,d["default"])(o),m({dependencyTree:o,hoverBoxes:[],graphEnabled:!1})}}}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,u,l,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,l=0;r>l;l++)s[l].apply(this,u);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,u;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function o(e){if(e.dependencies){for(var t=e.dependencies.length-1;t>=0;t--)for(var n=e.dependencies[t].name,r=t-1;r>=0;r--)if(e.dependencies[r].name===n){e.dependencies[r].dependencies=[].concat(e.dependencies[r].dependencies||[],e.dependencies[t].dependencies||[]),e.dependencies.splice(t,1);break}e.dependencies.forEach(o)}};t["default"]=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){m===!1&&"undefined"!=typeof navigator&&-1===navigator.userAgent.indexOf("Chrome")&&(console.warn("The output of the MobX logger is optimized for Chrome"),m=!0);var n=e.spyReportStart===!0,o=e.spyReportEnd===!0,r=void 0;if(0===I?(r=t(e),n&&!r&&(w=!0)):o&&w&&1===I?(r=!1,w=!1):r=w!==!0,r&&o)a(e.time);else if(r){var h=n?i:u;switch(e.type){case"action":h("%caction '%s' %s","color:dodgerblue",e.name,d("(",g(e.target))),u(e.arguments),s();break;case"transaction":h("%ctransaction '%s' %s","color:gray",e.name,d("(",g(e.target)));break;case"scheduled-reaction":h("%cscheduled async reaction '%s'","color:#10a210",p(e.object));break;case"reaction":h("%creaction '%s'","color:#10a210",p(e.object)),s();break;case"compute":i("%ccomputed '%s' %s","color:#10a210",p(e.object),d("(",g(e.target))),a();break;case"error":h("%cerror: %s","color:tomato",e.message),s(),c();break;case"update":v["default"].isObservableArray(e.object)?h("updated '%s[%s]': %s (was: %s)",p(e.object),e.index,f(e.newValue),f(e.oldValue)):v["default"].isObservableObject(e.object)?h("updated '%s.%s': %s (was: %s)",p(e.object),e.name,f(e.newValue),f(e.oldValue)):h("updated '%s': %s (was: %s)",p(e.object),e.name,f(e.newValue),f(e.oldValue)),l({newValue:e.newValue,oldValue:e.oldValue}),s();break;case"splice":h("spliced '%s': index %d, added %d, removed %d",p(e.object),e.index,e.addedCount,e.removedCount),l({added:e.added,removed:e.removed}),s();break;case"add":h("set '%s.%s': %s",p(e.object),e.name,f(e.newValue)),l({newValue:e.newValue}),s();break;case"delete":h("removed '%s.%s' (was %s)",p(e.object),e.name,f(e.oldValue)),l({oldValue:e.oldValue}),s();break;case"create":h("set '%s': %s",p(e.object),f(e.newValue)),l({newValue:e.newValue}),s();break;default:h(e.type),l(e)}}n&&I++,o&&I--}function i(){console[x?"groupCollapsed":"log"].apply(console,arguments),j++}function a(e){j--,"number"==typeof e&&u("%ctotal time: %sms","color:gray",e),x&&console.groupEnd()}function u(){console.log.apply(console,arguments)}function l(){console.dir.apply(console,arguments)}function s(){console.trace("stack")}function c(){for(var e=0,t=j;t>e;e++)a()}function d(e,t){return t?(e||"")+t+(C[e]||""):""}function p(e){return v["default"].extras.getDebugName(e)}function f(e){return h(e)?"string"==typeof e&&e.length>100?e.substr(0,97)+"...":e:d("(",g(e))}function g(e){if(null===e||void 0===e)return"";if(e&&"object"===("undefined"==typeof e?"undefined":b(e))){if(e&&e.$mobx)return e.$mobx.name;if(e.constructor)return e.constructor.name||"object"}return""+("undefined"==typeof e?"undefined":b(e))}function h(e){return null===e||void 0===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e}Object.defineProperty(t,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var y=n(4),v=o(y),m=!1,I=0,w=!1,x="function"==typeof console.groupCollapsed,j=0,C={'"':'"',"'":"'","(":")","[":"]","<":"]","#":""}},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(3),p=n(10),f=r(p),g=n(11),h=r(g),b=n(12),y=r(b),v=n(14),m=r(v),I=n(15),w=o(I),x=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){d.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){d.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.highlightTimeout,o={};return t?(o.top=t.top,o.right=t.right,o.bottom=t.bottom,o.left=t.left):(o.top="0px",o.right="20px"),c["default"].createElement("div",null,c["default"].createElement("div",{style:Object.assign({},w.panel,o)},c["default"].createElement(y["default"],{highlightTimeout:n},c["default"].createElement(m["default"],{id:"buttonUpdates"})),c["default"].createElement(f["default"],null,c["default"].createElement(m["default"],{id:"buttonGraph"})),c["default"].createElement(h["default"],null,c["default"].createElement(m["default"],{id:"buttonLog"}))))}}]),t}(s.Component);x.propTypes={highlightTimeout:s.PropTypes.number},t["default"]=x},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(5),d=o(c),p=n(3),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleToggleGraph=function(){var e=(0,p.getGlobalState)(),t=e.graphEnabled;(0,p.setGlobalState)({hoverBoxes:[],graphEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.setState({})}},{key:"componentDidMount",value:function(){d["default"].trackComponents(),p.eventEmitter.on("update",this.handleUpdate),"undefined"!=typeof window&&"undefined"!=typeof document&&(document.body.addEventListener("mousemove",p._handleMouseMove,!0),document.body.addEventListener("click",p._handleClick,!0))}},{key:"componentWillUnmount",value:function(){p.eventEmitter.removeListener("update",this.handleUpdate),"undefined"!=typeof document&&(document.body.removeEventListener("mousemove",p._handleMouseMove,!0),document.body.removeEventListener("click",p._handleMouseMove,!0))}},{key:"render",value:function(){var e=(0,p.getGlobalState)(),t=e.graphEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleGraph,active:t})}}]),t}(l.Component);t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(3),d=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){o.setState({})},o.handleToggleLog=function(){var e=(0,c.getGlobalState)(),t=e.logEnabled;(0,c.setGlobalState)({logEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){c.eventEmitter.on("update",this.handleUpdate),(0,c.restoreLogFromLocalstorage)()}},{key:"componentWillUnmount",value:function(){c.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"render",value:function(){var e=(0,c.getGlobalState)(),t=e.logEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleLog,active:t})}}]),t}(l.Component);t["default"]=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(2),s=o(l),c=n(13),d=o(c),p=n(3),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=i(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleToggleUpdates=function(){var e=(0,p.getGlobalState)(),t=e.updatesEnabled;(0,p.setGlobalState)({updatesEnabled:!t})},a=n,i(o,a)}return a(t,e),u(t,[{key:"componentDidMount",value:function(){p.eventEmitter.on("update",this.handleUpdate);var e=this.props.highlightTimeout;this.renderingMonitor=new d["default"]({highlightTimeout:e}),(0,p.restoreUpdatesFromLocalstorage)()}},{key:"componentWillUnmount",value:function(){p.eventEmitter.removeListener("update",this.handleUpdate),this.renderingMonitor.dispose()}},{key:"render",value:function(){var e=(0,p.getGlobalState)(),t=e.updatesEnabled,n=this.props.children;return s["default"].cloneElement(n,{onToggle:this.handleToggleUpdates,active:t})}}]),t}(l.Component);f.propTypes={highlightTimeout:l.PropTypes.number},f.defaultProps={highlightTimeout:1500},t["default"]=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(5),u=o(a),l=n(3),s=function(e){switch(!0){case 25>e:return"cheap";case 100>e:return"acceptable";default:return"expensive"}},c=function(){function e(t){var n=this,o=t.highlightTimeout;r(this,e),this._boxesRegistry="undefined"!=typeof WeakMap?new WeakMap:new Map,this._renderReporterDisposer=u["default"].renderReporter.on(function(e){if((0,l.getGlobalState)().updatesEnabled===!0)switch(e.event){case"render":if(!e.node||isNaN(e.renderTime))return;var t=e.node.getBoundingClientRect(),r=n.getBoxForNode(e.node);r.type="rendering",r.y=t.top,r.x=t.left,r.width=t.width,r.height=t.height,r.renderInfo={count:r.renderInfo&&++r.renderInfo.count||1,renderTime:e.renderTime,totalTime:e.totalTime,cost:s(e.renderTime)},r.lifeTime=o;var i=(0,l.getGlobalState)().renderingBoxes;return-1===i.indexOf(r)&&(i=i.concat([r])),(0,l.setGlobalState)({renderingBoxes:i}),r._timeout&&clearTimeout(r._timeout),void(r._timeout=setTimeout(function(){return n.removeBox(e.node,!0)},o));case"destroy":return n.removeBox(e.node),void n._boxesRegistry["delete"](e.node);default:return}})}return i(e,[{key:"getBoxForNode",value:function(e){if(this._boxesRegistry.has(e))return this._boxesRegistry.get(e);var t={id:Math.random().toString(32).substr(2)};return this._boxesRegistry.set(e,t),t}},{key:"dispose",value:function(){this._renderReporterDisposer()}},{key:"removeBox",value:function(e){if(this._boxesRegistry.has(e)!==!1){var t=(0,l.getGlobalState)().renderingBoxes,n=t.indexOf(this._boxesRegistry.get(e));-1!==n&&(t=t.slice(0,n).concat(t.slice(n+1)),(0,l.setGlobalState)({renderingBoxes:t}))}}}]),e}();t["default"]=c},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(15),p=o(d),f=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={hovered:!1},o.handleMouseOver=function(){return o.setState({hovered:!0})},o.handleMouseOut=function(){return o.setState({hovered:!1})},r=n,a(o,r)}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.id,o=e.onToggle,r=this.state.hovered,i=function(){switch(n){case"buttonUpdates":return t?p.buttonUpdatesActive:p.buttonUpdates;case"buttonGraph":return t?p.buttonGraphActive:p.buttonGraph;case"buttonLog":return t?p.buttonLogActive:p.buttonLog}}(),a=function(){switch(n){case"buttonUpdates":return"Visualize component re-renders";case"buttonGraph":return"Select a component and show its dependency tree";case"buttonLog":return"Log all MobX state changes and reactions to the browser console (use F12 to show / hide the console). Use Chrome / Chromium for an optimal experience"}}(),u=Object.assign({},p.button,i,t&&p.button.active,r&&p.button.hover);return c["default"].createElement("button",{type:"button",onClick:o,title:a,style:u,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut})}}]),t}(s.Component);f.props={onToggle:s.PropTypes.bool.isRequired,active:s.PropTypes.bool.isRequired,name:s.PropTypes.oneOf(["buttonUpdates","buttonGraph","buttonLog"]).isRequired},t["default"]=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.panel={position:"fixed",height:"26px",backgroundColor:"#fff",color:"rgba(0, 0, 0, 0.8)",borderRadius:"0 0 2px 2px",borderStyle:"solid",borderWidth:"0 1px 1px",borderColor:"rgba(0, 0, 0, 0.1)",zIndex:"65000",fontFamily:"Helvetica, sans-serif",display:"flex",padding:"0 5px"},t.button={opacity:.45,background:"transparent none center / 16px 16px no-repeat",width:"26px",margin:"0 10px",cursor:"pointer",border:"none",hover:{opacity:.7},active:{opacity:1,":hover":{opacity:1}}},t.buttonLog={backgroundImage:"url("+n(16)+")"},t.buttonLogActive={backgroundImage:"url("+n(17)+")"},t.buttonUpdates={backgroundImage:"url("+n(18)+")"},t.buttonUpdatesActive={backgroundImage:"url("+n(19)+")"},t.buttonGraph={backgroundImage:"url("+n(20)+")"},t.buttonGraphActive={backgroundImage:"url("+n(21)+")"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxwYXRoIGQ9Ik0xMi41IDMuNWgtOGMtMS4xIDAtMiAuOS0yIDJ2NWMwIDEuMS45IDIgMiAyaDF2Mmw1LTJoMmMxLjEgMCAyLS45IDItMnYtNWMwLTEuMS0uOS0yLTItMnoiLz4KICAgICAgICA8cGF0aCBkPSJNNSA2LjVoNyIvPgogICAgICAgIDxwYXRoIGQ9Ik01IDkuNWg3Ii8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgaGVpZ2h0PSIxNiIgd2lkdGg9IjE2Ij4KICAgIDxnIHN0cm9rZT0iIzE3ODBmYSIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxLjI1Ij4KICAgICAgICA8cGF0aCBkPSJNMTIuNSAzLjVoLThjLTEuMSAwLTIgLjktMiAydjVjMCAxLjEuOSAyIDIgMmgxdjJsNS0yaDJjMS4xIDAgMi0uOSAyLTJ2LTVjMC0xLjEtLjktMi0yLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUgNi41aDciLz4KICAgICAgICA8cGF0aCBkPSJNNSA5LjVoNyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxjaXJjbGUgY3g9IjguNSIgY3k9IjguNSIgcj0iNiIvPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTBWNCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJub25lIiBmaWxsPSIjMDAwIj4KICAgICAgICA8Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUiIHI9IjEiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDFoMnYxLjVoLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTE0IDEuNmwtLjcuNy4zLjMtLjcuOC43LjcuOC0uNy4zLjMuNy0uN3oiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMTc4MGZhIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEuMjUiPgogICAgICAgIDxjaXJjbGUgY3g9IjguNSIgY3k9IjguNSIgcj0iNiIvPgogICAgICAgIDxwYXRoIGQ9Ik04LjUgMTBWNCIvPgogICAgPC9nPgogICAgPGcgc3Ryb2tlPSJub25lIiBmaWxsPSIjMTc4MGZhIj4KICAgICAgICA8Y2lyY2xlIGN4PSI4LjUiIGN5PSI4LjUiIHI9IjEiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDFoMnYxLjVoLTJ6Ii8+CiAgICAgICAgPHBhdGggZD0iTTE0IDEuNmwtLjcuNy4zLjMtLjcuOC43LjcuOC0uNy4zLjMuNy0uN3oiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEiPgogICAgICAgIDxwYXRoIGQ9Ik0yLjUgMi41aDl2MmgtOXoiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDcuNWg3djJoLTd6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcuNSAxMi41aDd2MmgtN3oiLz4KICAgICAgICA8cGF0aCBkPSJNNC41IDQuNXY5aDMiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDguNWgtMyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBiYXNlUHJvZmlsZT0iYmFzaWMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBoZWlnaHQ9IjE2IiB3aWR0aD0iMTYiPgogICAgPGcgc3Ryb2tlPSIjMTc4MGZhIiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEuMjUiPgogICAgICAgIDxwYXRoIGQ9Ik0yLjUgMi41aDl2MmgtOXoiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDcuNWg3djJoLTd6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcuNSAxMi41aDd2MmgtN3oiLz4KICAgICAgICA8cGF0aCBkPSJNNC41IDQuNXY5aDMiLz4KICAgICAgICA8cGF0aCBkPSJNNy41IDguNWgtMyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(23),p=o(d),f=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"componentWillAppear",
value:function(e){this.props.willAppear(e)}},{key:"componentWillLeave",value:function(){this.props.willLeave()}},{key:"render",value:function(){return this.props.children}}]),t}(s.Component);f.propTypes={willAppear:s.PropTypes["function"],willLeave:s.PropTypes["function"]},f.defaultProps={willAppear:function(){},willLeave:function(){}};var g=function(e){function t(){return i(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),l(t,[{key:"renderBox",value:function(e){switch(e.type){case"rendering":var t=p.rendering[e.renderInfo.cost]||{};return c["default"].createElement("div",{key:e.id,ref:function(t){return setTimeout(function(){t&&(t.style.opacity=0)},e.lifeTime-500)},style:Object.assign({},p.box,p.rendering,t,{left:e.x,top:e.y,width:e.width,height:e.height})},c["default"].createElement("span",{style:Object.assign({},p.text,t.text)},e.renderInfo.count,"x | ",e.renderInfo.renderTime," / ",e.renderInfo.totalTime," ms"));case"hover":return c["default"].createElement("div",{key:e.id,style:Object.assign({},p.box,p.hover,{left:e.x,top:e.y,width:e.width,height:e.height})});default:throw new Error}}},{key:"render",value:function(){var e=this,t=this.props.boxes;return c["default"].createElement("div",null,t.map(function(t){return e.renderBox(t)}))}}]),t}(s.Component);g.propTypes={boxes:s.PropTypes.arrayOf(s.PropTypes.shape({type:s.PropTypes.oneOf(["rendering","hover"]).isRequired,x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired,width:s.PropTypes.number.isRequired,height:s.PropTypes.number.isRequired,renderInfo:s.PropTypes.shape({count:s.PropTypes.number.isRequired,renderTime:s.PropTypes.number.isRequired,totalTime:s.PropTypes.number.isRequired,cost:s.PropTypes.oneOf(["cheap","acceptable","expensive"]).isRequired}),lifeTime:s.PropTypes.number.isRequired})).isRequired},t["default"]=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.box={display:"block",position:"fixed",zIndex:"64998",minWidth:"60px",outline:"3px solid",pointerEvents:"none",transition:"opacity 500ms ease-in"},t.text={fontFamily:"verdana, sans-serif",padding:"0 4px 2px",color:"rgba(0, 0, 0, 0.6)",fontSize:"10px",lineHeight:"12px",pointerEvents:"none","float":"right",borderBottomRightRadius:"2px",maxWidth:"100%",maxHeight:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},t.rendering={cheap:{outlineColor:"rgba(182, 218, 146, 0.75)",text:{backgroundColor:"rgba(182, 218, 146, 0.75)"}},acceptable:{outlineColor:"rgba(228, 195, 66, 0.85)",text:{backgroundColor:"rgba(228, 195, 66, 0.85)"}},expensive:{outlineColor:"rgba(228, 171, 171, 0.95)",text:{backgroundColor:"rgba(228, 171, 171, 0.95)"}}},t.hover={outlineColor:"rgba(128, 128, 255, 0.5)"}},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(25),p=r(d),f=n(3),g=n(27),h=o(g),b=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleUpdate=function(){return o.setState({})},o.handleClose=function(){return(0,f.setGlobalState)({dependencyTree:void 0})},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidMount",value:function(){f.eventEmitter.on("update",this.handleUpdate)}},{key:"componentWillUnmount",value:function(){f.eventEmitter.removeListener("update",this.handleUpdate)}},{key:"renderTreeItem",value:function(e,t,n){var o=e.name,r=e.dependencies,i=this;return c["default"].createElement("div",{style:h.item,key:o},c["default"].createElement("span",{style:Object.assign({},h.box,n&&h.box.root)},o),r&&c["default"].createElement("div",{style:h.tree},r.map(function(e,t){return i.renderTreeItem(e,t==r.length-1)})),!n&&c["default"].createElement("span",{style:h.itemHorisontalDash}),!n&&c["default"].createElement("span",{style:Object.assign({},h.itemVericalStick,t&&h.itemVericalStick["short"])}))}},{key:"render",value:function(){var e=(0,f.getGlobalState)(),t=e.dependencyTree;return c["default"].createElement(p["default"],{onOverlayClick:this.handleClose},t&&c["default"].createElement("div",{style:h.graph},c["default"].createElement("span",{style:h.close,onClick:this.handleClose},"Ã—"),c["default"].createElement("div",{style:h.tree},this.renderTreeItem(t,!0,!0))))}}]),t}(s.Component);t["default"]=b},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(2),c=r(s),d=n(26),p=o(d),f=function(e){function t(){var e,n,o,r;i(this,t);for(var u=arguments.length,l=Array(u),s=0;u>s;s++)l[s]=arguments[s];return n=o=a(this,(e=Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.stopPropogation=function(e){return e.stopPropagation()},r=n,a(o,r)}return u(t,e),l(t,[{key:"componentDidUpdate",value:function(e){var t=document.body.parentNode;if(e.children&&!this.props.children)this.rightOffset=0,t.style.borderRight=null,t.style.overflow=null;else if(!e.children&&this.props.children){var n=t.offsetWidth;t.style.overflow="hidden";var o=t.offsetWidth,r=Math.max(0,o-n);t.style.borderRight=r+"px solid transparent"}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onOverlayClick;return t?c["default"].createElement("div",{style:p.overlay,onClick:n},c["default"].createElement("div",{key:"content",style:p.modal,onClick:this.stopPropogation},t)):null}}]),t}(s.Component);f.propTypes={children:s.PropTypes.node,onOverlayClick:s.PropTypes.func.isRequired},t["default"]=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlay={position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:66e3,overflow:"auto",WebkitOverflowScrolling:"touch",outline:0,backgroundColor:"rgba(40, 40, 50, 0.5)",transformOrigin:"50% 25%"},t.modal={position:"relative",width:"auto",margin:"5% 10%",zIndex:1060}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.graph={background:"white",padding:"40px"},t.close={color:"rgba(0, 0, 0, 0.2)",fontSize:"36px",position:"absolute",top:"5px",right:"5px",width:"40px",height:"40px",lineHeight:"34px",textAlign:"center",cursor:"pointer",":hover":{color:"rgba(0, 0, 0, 0.5)"}},t.tree={position:"relative",paddingLeft:"25px"},t.item={position:"relative"},t.box={padding:"4px 10px",background:"rgba(0, 0, 0, 0.05)",display:"inline-block",marginBottom:"8px",color:"#000",root:{fontSize:"15px",fontWeight:"bold",padding:"6px 13px"}},t.itemHorisontalDash={position:"absolute",left:"-12px",borderTop:"1px solid rgba(0, 0, 0, 0.2)",top:"14px",width:"12px",height:"0"},t.itemVericalStick={position:"absolute",left:"-12px",borderLeft:"1px solid rgba(0, 0, 0, 0.2)",height:"100%",width:0,top:"-8px","short":{height:"23px"}}},function(e,t){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(void 0!==r&&null!==r)for(var i=Object.keys(Object(r)),a=0,u=i.length;u>a;a++){var l=i[a],s=Object.getOwnPropertyDescriptor(r,l);void 0!==s&&s.enumerable&&(n[l]=r[l])}}return n}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}e.exports={assign:n,polyfill:o}}])});
},{"mobx":"mobx","mobx-react":"mobx-react","react":"react"}],2:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var navbar_1 = require("./navbar");
var mobx_react_1 = require("mobx-react");
var loading_display_1 = require("../shared/loading-display");
var user_table_1 = require("./user-table");
var Admin = (function (_super) {
    __extends(Admin, _super);
    function Admin() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Admin.prototype.componentWillMount = function () {
        if (!this.props.appStore.user.authenticated || !this.props.appStore.user.administrator) {
            this.props.history.push("/app/login");
        }
    };
    Admin.prototype.componentDidMount = function () {
        this.props.appStore.admin.loadUsers();
    };
    Admin.prototype.render = function () {
        var content;
        if (this.props.appStore.admin.loadingUsers) {
            content = React.createElement(loading_display_1.LoadingDisplay, null);
        }
        else {
            content = React.createElement(user_table_1.UserTable, { users: this.props.appStore.admin.users });
        }
        return (React.createElement(reactstrap_1.Container, null,
            React.createElement(navbar_1.AdminNav, null),
            content));
    };
    return Admin;
}(React.Component));
Admin = __decorate([
    mobx_react_1.inject("appStore"), mobx_react_1.observer
], Admin);
exports.Admin = Admin;
},{"../shared/loading-display":11,"./navbar":3,"./user-table":4,"mobx-react":"mobx-react","react":"react","reactstrap":"reactstrap"}],3:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var reactstrap_2 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var AdminNav = (function (_super) {
    __extends(AdminNav, _super);
    function AdminNav(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            isOpen: false
        };
        return _this;
    }
    AdminNav.prototype.toggle = function () {
        this.setState(function (prev, props) { return ({
            isOpen: !prev.isOpen
        }); });
    };
    AdminNav.prototype.render = function () {
        var _this = this;
        return (React.createElement(reactstrap_1.Navbar, { color: "faded", light: true, toggleable: true },
            React.createElement(reactstrap_1.NavbarToggler, { right: true, onClick: function () { return _this.toggle(); } }),
            React.createElement(reactstrap_1.NavbarBrand, { href: "/app/admin" }, "Manager Users"),
            React.createElement(reactstrap_1.Collapse, { isOpen: this.state.isOpen, navbar: true },
                React.createElement(reactstrap_1.Nav, { className: "mr-auto", navbar: true },
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/app/admin/newUser" }, "New User"))),
                React.createElement(reactstrap_2.Form, { inline: true },
                    React.createElement(reactstrap_2.FormGroup, null,
                        React.createElement(reactstrap_2.InputGroup, null,
                            React.createElement(reactstrap_2.InputGroupAddon, null,
                                React.createElement("span", { className: "fa fa-fw fa-search" })),
                            React.createElement(reactstrap_2.Input, { type: "text", placeholder: "Search" })))))));
    };
    return AdminNav;
}(React.Component));
exports.AdminNav = AdminNav;
},{"react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],4:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var UserTable = (function (_super) {
    __extends(UserTable, _super);
    function UserTable() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UserTable.prototype.render = function () {
        var rows = this.props.users.sort(function (a, b) { return a.realName.localeCompare(b.realName); }).map(function (u) { return (React.createElement("tr", { key: u.id },
            React.createElement("td", null, u.realName),
            React.createElement("td", null, u.emailAddress),
            React.createElement("td", null, u.role))); });
        return (React.createElement(reactstrap_1.Table, { responsive: true },
            React.createElement("thead", null,
                React.createElement("th", null, "Name"),
                React.createElement("th", null, "Email"),
                React.createElement("th", null, "Role")),
            React.createElement("tbody", null, rows)));
    };
    return UserTable;
}(React.Component));
exports.UserTable = UserTable;
},{"react":"react","reactstrap":"reactstrap"}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var ReactDOM = require("react-dom");
var root_1 = require("./root");
var app_store_1 = require("./store/app-store");
var mobx_react_1 = require("mobx-react");
var mobx_react_devtools_1 = require("mobx-react-devtools");
var appStore = new app_store_1.AppStore();
ReactDOM.render(React.createElement("div", null,
    React.createElement(mobx_react_1.Provider, { appStore: appStore },
        React.createElement(root_1.Root, { store: appStore })),
    React.createElement(mobx_react_devtools_1.default, null)), document.getElementById('root'));
},{"./root":10,"./store/app-store":13,"mobx-react":"mobx-react","mobx-react-devtools":1,"react":"react","react-dom":"react-dom"}],6:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var mobx_react_1 = require("mobx-react");
var Home = (function (_super) {
    __extends(Home, _super);
    function Home() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Home.prototype.render = function () {
        var jumpoButton = this.props.appStore.user.authenticated ?
            React.createElement(react_router_dom_1.Link, { to: "/app/map", className: "btn btn-lg btn-sja-dark-green" }, "Go to Map \u00BB") :
            React.createElement(react_router_dom_1.Link, { to: "/app/login", className: "btn btn-lg btn-sja-dark-green" }, "Log in \u00BB");
        return (React.createElement(reactstrap_1.Container, null,
            React.createElement(reactstrap_1.Jumbotron, null,
                React.createElement("h1", { className: "display-3" }, "SJA Tracker"),
                React.createElement("p", { className: "lead" }, "Welcome to the St Ambulance SWR Central District Tracker"),
                jumpoButton),
            React.createElement(reactstrap_1.CardDeck, { className: "front-page" },
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "New Users"),
                        React.createElement(reactstrap_1.CardText, null, "If you have never used this site before, you will need to be issued with a username and password."),
                        React.createElement(react_router_dom_1.Link, { to: "/Contact", className: "btn btn-secondary btn-block" }, "Request Account \u00BB"))),
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Get the Trackers"),
                        React.createElement(reactstrap_1.CardText, null, "There are a set of apps to enable your phone to be tracked from this website."),
                        React.createElement(react_router_dom_1.Link, { to: "", className: "btn btn-secondary btn-block disabled", disabled: true }, "Coming Soon"))),
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Privacy Policy"),
                        React.createElement(reactstrap_1.CardText, null, "To get a better idea of how this website is used and how it can be made better, we collect some information about what you do with this site."),
                        React.createElement(react_router_dom_1.Link, { to: "/Policies", className: "btn btn-secondary btn-block" }, "Find out More \u00BB"))))));
    };
    return Home;
}(React.Component));
Home = __decorate([
    mobx_react_1.inject("appStore"), mobx_react_1.observer
], Home);
exports.Home = Home;
},{"mobx-react":"mobx-react","react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],7:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var LoginBox = (function (_super) {
    __extends(LoginBox, _super);
    function LoginBox(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            username: "",
            password: ""
        };
        return _this;
    }
    LoginBox.prototype.updateUsername = function (event) {
        this.setState({ username: event.target.value });
    };
    LoginBox.prototype.updatePassword = function (event) {
        this.setState({ password: event.target.value });
    };
    LoginBox.prototype.submitForm = function (event) {
        event.preventDefault();
        this.props.onLogin(this.state.username, this.state.password);
    };
    LoginBox.prototype.render = function () {
        var _this = this;
        return (React.createElement("div", { className: "container" },
            React.createElement("div", { className: "d-flex justify-content-center" },
                React.createElement(reactstrap_1.Card, { className: "login-card" },
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement(reactstrap_1.CardTitle, null, "Log In"),
                        React.createElement(reactstrap_1.Form, null,
                            React.createElement(reactstrap_1.FormGroup, null,
                                React.createElement(reactstrap_1.InputGroup, null,
                                    React.createElement(reactstrap_1.InputGroupAddon, null,
                                        React.createElement("span", { className: "fa fa-fw fa-at" })),
                                    React.createElement(reactstrap_1.Input, { type: "email", name: "Email", id: "email", placeholder: "Email", value: this.state.username, onChange: function (e) { return _this.updateUsername(e); } }))),
                            React.createElement(reactstrap_1.FormGroup, null,
                                React.createElement(reactstrap_1.InputGroup, null,
                                    React.createElement(reactstrap_1.InputGroupAddon, null,
                                        React.createElement("span", { className: "fa fa-fw fa-lock" })),
                                    React.createElement(reactstrap_1.Input, { type: "password", name: "Password", id: "password", placeholder: "Password", value: this.state.password, onChange: function (e) { return _this.updatePassword(e); } }))),
                            React.createElement(reactstrap_1.Button, { type: "submit", className: "btn-block", onClick: function (e) { return _this.submitForm(e); } }, "Log in"),
                            React.createElement(react_router_dom_1.Link, { to: "/app/reset-password" }, "Forgotten your password?")))))));
    };
    return LoginBox;
}(React.Component));
exports.LoginBox = LoginBox;
},{"react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],8:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var login_box_1 = require("./login-box");
var mobx_react_1 = require("mobx-react");
var Login = (function (_super) {
    __extends(Login, _super);
    function Login() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Login.prototype.render = function () {
        var _this = this;
        return (React.createElement(login_box_1.LoginBox, { onLogin: function (u, s) { return _this.login(u, s); } }));
    };
    Login.prototype.login = function (username, password) {
        return __awaiter(this, void 0, void 0, function () {
            var headers, result, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        headers = new Headers();
                        headers.append("Content-Type", "application/json");
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 3, , 4]);
                        return [4 /*yield*/, fetch("/token", {
                                method: 'POST',
                                credentials: 'same-origin',
                                body: JSON.stringify({
                                    username: username, password: password
                                }),
                                headers: headers
                            })];
                    case 2:
                        result = _a.sent();
                        if (result.ok) {
                            this.props.appStore.user.checkAuthentication();
                            this.props.history.push("/");
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        err_1 = _a.sent();
                        this.props.appStore.showError("Could not contact server.  Are you online?");
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    return Login;
}(React.Component));
Login = __decorate([
    mobx_react_1.inject("appStore"), mobx_react_1.observer
], Login);
exports.Login = Login;
},{"./login-box":7,"mobx-react":"mobx-react","react":"react"}],9:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var react_router_dom_1 = require("react-router-dom");
var MainNav = (function (_super) {
    __extends(MainNav, _super);
    function MainNav(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            isOpen: false
        };
        return _this;
    }
    MainNav.prototype.toggle = function () {
        this.setState(function (prev, props) { return ({
            isOpen: !prev.isOpen
        }); });
    };
    MainNav.prototype.render = function () {
        var _this = this;
        var loginElement;
        if (this.props.authenticated) {
            loginElement = React.createElement(reactstrap_1.NavItem, { key: "hello" },
                React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/profile" },
                    "Hello ",
                    this.props.name));
        }
        else {
            loginElement = React.createElement(reactstrap_1.NavItem, null,
                React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/app/login" }, "Log in"));
        }
        var adminLinks;
        if (this.props.administrator) {
            adminLinks = React.createElement(reactstrap_1.NavItem, null,
                React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/app/admin" }, "Admin"));
        }
        return (React.createElement(reactstrap_1.Navbar, { color: "sja-dark-green", inverse: true, toggleable: true },
            React.createElement(reactstrap_1.NavbarToggler, { right: true, onClick: function () { return _this.toggle(); } }),
            React.createElement(reactstrap_1.NavbarBrand, { href: "/" }, "SJA Tracker"),
            React.createElement(reactstrap_1.Collapse, { isOpen: this.state.isOpen, navbar: true },
                React.createElement(reactstrap_1.Nav, { navbar: true },
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/" }, "Home")),
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/Map" }, "Map")),
                    React.createElement(reactstrap_1.NavItem, null,
                        React.createElement(react_router_dom_1.Link, { className: "nav-link", to: "/Contact" }, "Contact")),
                    adminLinks),
                React.createElement(reactstrap_1.Nav, { navbar: true, className: "ml-auto" }, loginElement))));
    };
    return MainNav;
}(React.Component));
exports.MainNav = MainNav;
},{"react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],10:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var navbar_1 = require("./navbar");
var home_1 = require("./home/home");
var admin_1 = require("./admin/admin");
var login_1 = require("./login/login");
var react_router_dom_1 = require("react-router-dom");
var mobx_react_1 = require("mobx-react");
var reactstrap_1 = require("reactstrap");
var loading_display_1 = require("./shared/loading-display");
var Root = (function (_super) {
    __extends(Root, _super);
    function Root(props) {
        var _this = _super.call(this, props) || this;
        _this.state = {
            loading: true
        };
        return _this;
    }
    Root.prototype.componentWillMount = function () {
        this.checkLogin();
    };
    Root.prototype.checkLogin = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.props.store.user.checkAuthentication(true)];
                    case 1:
                        _a.sent();
                        console.log("Authentication Returned, cancelling loading page.");
                        this.setState({
                            loading: false
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    Root.prototype.render = function () {
        var _this = this;
        var showError = this.props.store.error.length > 0;
        if (this.state.loading) {
            return React.createElement(loading_display_1.LoadingDisplay, null);
        }
        return (React.createElement(react_router_dom_1.BrowserRouter, null,
            React.createElement("div", null,
                React.createElement(navbar_1.MainNav, { name: this.props.store.user.name, authenticated: this.props.store.user.authenticated, administrator: this.props.store.user.administrator }),
                React.createElement(reactstrap_1.Container, null,
                    React.createElement(reactstrap_1.Alert, { isOpen: showError, color: "danger", toggle: function () { return _this.props.store.clearError(); } }, this.props.store.error)),
                React.createElement(react_router_dom_1.Route, { exact: true, path: '/', component: home_1.Home }),
                React.createElement(react_router_dom_1.Route, { exact: true, path: '/app/login', component: login_1.Login }),
                React.createElement(react_router_dom_1.Route, { exact: true, path: '/app/admin', component: admin_1.Admin }))));
    };
    return Root;
}(React.Component));
Root = __decorate([
    mobx_react_1.observer
], Root);
exports.Root = Root;
},{"./admin/admin":2,"./home/home":6,"./login/login":8,"./navbar":9,"./shared/loading-display":11,"mobx-react":"mobx-react","react":"react","react-router-dom":"react-router-dom","reactstrap":"reactstrap"}],11:[function(require,module,exports){
"use strict";
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var reactstrap_1 = require("reactstrap");
var LoadingDisplay = (function (_super) {
    __extends(LoadingDisplay, _super);
    function LoadingDisplay() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LoadingDisplay.prototype.render = function () {
        return (React.createElement(reactstrap_1.Row, { className: "waiting-display" },
            React.createElement(reactstrap_1.Col, { md: { size: 4, offset: 4 } },
                React.createElement(reactstrap_1.Card, null,
                    React.createElement(reactstrap_1.CardBlock, null,
                        React.createElement("div", { className: "text-center" },
                            "One moment please...",
                            React.createElement(reactstrap_1.Progress, { striped: true, animated: true, value: 100 })))))));
    };
    return LoadingDisplay;
}(React.Component));
exports.LoadingDisplay = LoadingDisplay;
},{"react":"react","reactstrap":"reactstrap"}],12:[function(require,module,exports){
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var mobx_1 = require("mobx");
var AdminStore = (function () {
    function AdminStore(parentStore) {
        var _this = this;
        this.loadingUsers = true;
        this.loadUsers = function () { return __awaiter(_this, void 0, void 0, function () {
            var result, _a, err_1;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        this.loadingUsers = true;
                        _b.label = 1;
                    case 1:
                        _b.trys.push([1, 5, , 6]);
                        return [4 /*yield*/, fetch("/api/user", {
                                method: "GET",
                                credentials: "same-origin"
                            })];
                    case 2:
                        result = _b.sent();
                        if (!result.ok) return [3 /*break*/, 4];
                        _a = this;
                        return [4 /*yield*/, result.json()];
                    case 3:
                        _a.users = (_b.sent());
                        _b.label = 4;
                    case 4:
                        this.loadingUsers = false;
                        return [3 /*break*/, 6];
                    case 5:
                        err_1 = _b.sent();
                        this._appStore.showError("Could not contact server.  Are you online?");
                        return [3 /*break*/, 6];
                    case 6: return [2 /*return*/];
                }
            });
        }); };
        this._appStore = parentStore;
    }
    return AdminStore;
}());
__decorate([
    mobx_1.observable
], AdminStore.prototype, "loadingUsers", void 0);
__decorate([
    mobx_1.observable
], AdminStore.prototype, "users", void 0);
__decorate([
    mobx_1.action
], AdminStore.prototype, "loadUsers", void 0);
exports.AdminStore = AdminStore;
},{"mobx":"mobx"}],13:[function(require,module,exports){
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var user_store_1 = require("./user-store");
var admin_store_1 = require("./admin-store");
var mobx_1 = require("mobx");
var AppStore = (function () {
    function AppStore() {
        var _this = this;
        this.user = new user_store_1.UserStore(this);
        this.error = "";
        this.admin = new admin_store_1.AdminStore(this);
        this.showError = function (msg) {
            _this.error = msg;
        };
        this.clearError = function () {
            _this.error = "";
        };
    }
    return AppStore;
}());
__decorate([
    mobx_1.observable
], AppStore.prototype, "user", void 0);
__decorate([
    mobx_1.observable
], AppStore.prototype, "error", void 0);
__decorate([
    mobx_1.observable
], AppStore.prototype, "admin", void 0);
__decorate([
    mobx_1.action
], AppStore.prototype, "showError", void 0);
__decorate([
    mobx_1.action
], AppStore.prototype, "clearError", void 0);
exports.AppStore = AppStore;
},{"./admin-store":12,"./user-store":14,"mobx":"mobx"}],14:[function(require,module,exports){
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;
    return { next: verb(0), "throw": verb(1), "return": verb(2) };
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
Object.defineProperty(exports, "__esModule", { value: true });
var mobx_1 = require("mobx");
var _ = require("lodash");
var UserStore = (function () {
    function UserStore(parentStore) {
        var _this = this;
        this.checkAuthentication = function (tryRefresh) {
            if (tryRefresh === void 0) { tryRefresh = false; }
            return __awaiter(_this, void 0, void 0, function () {
                var result, whoAmI;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, fetch('/api/account/whoami', {
                                credentials: 'same-origin'
                            })];
                        case 1:
                            result = _a.sent();
                            return [4 /*yield*/, result.json()];
                        case 2:
                            whoAmI = _a.sent();
                            this.authenticated = whoAmI.authenticated;
                            this.name = whoAmI.realName;
                            this.administrator = _.includes(whoAmI.role, "AdminUser");
                            if (!(!this.authenticated && tryRefresh)) return [3 /*break*/, 4];
                            return [4 /*yield*/, this.refreshAuthentication()];
                        case 3:
                            _a.sent();
                            _a.label = 4;
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        this.refreshAuthentication = function () { return __awaiter(_this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, fetch("/refreshToken", {
                            credentials: "same-origin",
                            method: "POST"
                        })];
                    case 1:
                        result = _a.sent();
                        return [4 /*yield*/, this.checkAuthentication()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); };
        this._appStore = parentStore;
    }
    return UserStore;
}());
__decorate([
    mobx_1.observable
], UserStore.prototype, "authenticated", void 0);
__decorate([
    mobx_1.observable
], UserStore.prototype, "name", void 0);
__decorate([
    mobx_1.observable
], UserStore.prototype, "administrator", void 0);
__decorate([
    mobx_1.action
], UserStore.prototype, "checkAuthentication", void 0);
__decorate([
    mobx_1.action
], UserStore.prototype, "refreshAuthentication", void 0);
exports.UserStore = UserStore;
},{"lodash":"lodash","mobx":"mobx"}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbW9ieC1yZWFjdC1kZXZ0b29scy9pbmRleC5qcyIsInNyYy9qcy9hZG1pbi9hZG1pbi50c3giLCJzcmMvanMvYWRtaW4vbmF2YmFyLnRzeCIsInNyYy9qcy9hZG1pbi91c2VyLXRhYmxlLnRzeCIsInNyYy9qcy9hcHAudHN4Iiwic3JjL2pzL2hvbWUvaG9tZS50c3giLCJzcmMvanMvbG9naW4vbG9naW4tYm94LnRzeCIsInNyYy9qcy9sb2dpbi9sb2dpbi50c3giLCJzcmMvanMvbmF2YmFyLnRzeCIsInNyYy9qcy9yb290LnRzeCIsInNyYy9qcy9zaGFyZWQvbG9hZGluZy1kaXNwbGF5LnRzeCIsInNyYy9qcy9zdG9yZS9hZG1pbi1zdG9yZS50c3giLCJzcmMvanMvc3RvcmUvYXBwLXN0b3JlLnRzIiwic3JjL2pzL3N0b3JlL3VzZXItc3RvcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0RBLDZCQUErQjtBQUcvQix5Q0FBMkU7QUFDM0UsbUNBQW9DO0FBRXBDLHlDQUE4QztBQUM5Qyw2REFBMkQ7QUFDM0QsMkNBQXlDO0FBT3pDLElBQWEsS0FBSztJQUFTLHlCQUF1QztJQUFsRTs7SUE0QkEsQ0FBQztJQTNCRyxrQ0FBa0IsR0FBbEI7UUFDSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztZQUNyRixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUMsQ0FBQztJQUNMLENBQUM7SUFFRCxpQ0FBaUIsR0FBakI7UUFDSSxJQUFJLENBQUMs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REFjTjtBQUVPO0lBQVAsYUFBTTt3REFPTjtBQWxDUSw4QkFBUyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwibW9ieFwiKSxyZXF1aXJlKFwibW9ieC1yZWFjdFwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJyZWFjdFwiLFwibW9ieFwiLFwibW9ieC1yZWFjdFwiXSx0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLm1vYnhEZXZ0b29scz10KHJlcXVpcmUoXCJyZWFjdFwiKSxyZXF1aXJlKFwibW9ieFwiKSxyZXF1aXJlKFwibW9ieC1yZWFjdFwiKSk6ZS5tb2J4RGV2dG9vbHM9dChlLlJlYWN0LGUubW9ieCxlLm1vYnhSZWFjdCl9KHRoaXMsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgcj1uW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gZVtvXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyx0KSxyLmxvYWRlZD0hMCxyLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuc2V0TG9nRW5hYmxlZD10LnNldEdyYXBoRW5hYmxlZD10LnNldFVwZGF0ZXNFbmFibGVkPXQuY29uZmlndXJlRGV2dG9vbD10LlVwZGF0ZXNDb250cm9sPXQuTG9nQ29udHJvbD10LkdyYXBoQ29udHJvbD10W1wiZGVmYXVsdFwiXT12b2lkIDA7dmFyIHI9bigxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbyhyKVtcImRlZmF1bHRcIl19fSk7dmFyIGk9bigxMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJHcmFwaENvbnRyb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbyhpKVtcImRlZmF1bHRcIl19fSk7dmFyIGE9bigxMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJMb2dDb250cm9sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8oYSlbXCJkZWZhdWx0XCJdfX0pO3ZhciB1PW4oMTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiVXBkYXRlc0NvbnRyb2xcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbyh1KVtcImRlZmF1bHRcIl19fSk7dmFyIGw9bigyOCkscz1vKGwpLGM9bigzKTtzW1wiZGVmYXVsdFwiXS5wb2x5ZmlsbCgpO3ZhciBkPXQuY29uZmlndXJlRGV2dG9vbD1mdW5jdGlvbihlKXt2YXIgdD1lLmxvZ0VuYWJsZWQsbj1lLnVwZGF0ZXNFbmFibGVkLG89ZS5ncmFwaEVuYWJsZWQscj1lLmxvZ0ZpbHRlcixpPXt9O3ZvaWQgMCE9PXQmJihpLmxvZ0VuYWJsZWQ9Qm9vbGVhbih0KSksdm9pZCAwIT09biYmKGkudXBkYXRlc0VuYWJsZWQ9Qm9vbGVhbihuKSksdm9pZCAwIT09byYmKGkuZ3JhcGhFbmFibGVkPUJvb2xlYW4obykpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJihpLmxvZ0ZpbHRlcj1yKSwoMCxjLnNldEdsb2JhbFN0YXRlKShpKX07dC5zZXRVcGRhdGVzRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZCh7dXBkYXRlc0VuYWJsZWQ6ZX0pfSx0LnNldEdyYXBoRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZCh7Z3JhcGhFbmFibGVkOmV9KX0sdC5zZXRMb2dFbmFibGVkPWZ1bmN0aW9uKGUpe3JldHVybiBkKHtsb2dFbmFibGVkOmV9KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLGw9bigyKSxzPW8obCksYz1uKDMpLGQ9big5KSxwPW8oZCksZj1uKDIyKSxnPW8oZiksaD1uKDI0KSxiPW8oaCkseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLGE7cih0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1pKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uc2V0U3RhdGUoKDAsYy5nZXRHbG9iYWxTdGF0ZSkoKSl9LG8uaGFuZGxlVG9nZ2xlR3JhcGg9ZnVuY3Rpb24oKXtvLnNldFN0YXRlKHtob3ZlckJveGVzOltdLGdyYXBoRW5hYmxlZDohby5zdGF0ZS5ncmFwaEVuYWJsZWR9KX0sYT1uLGkobyxhKX1yZXR1cm4gYSh0LGUpLHUodCxbe2tleTpcImNvbXBvbmVudFdpbGxNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSgoMCxjLmdldEdsb2JhbFN0YXRlKSgpKX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Yy5ldmVudEVtaXR0ZXIub24oXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2MuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUubm9QYW5lbCxuPWUuaGlnaGxpZ2h0VGltZW91dCxvPXRoaXMuc3RhdGUscj1vLnJlbmRlcmluZ0JveGVzLGk9by5ob3ZlckJveGVzO3JldHVybiBzW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsbnVsbCx0IT09ITAmJnNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQocFtcImRlZmF1bHRcIl0se3Bvc2l0aW9uOnRoaXMucHJvcHMucG9zaXRpb24saGlnaGxpZ2h0VGltZW91dDpufSksc1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChnW1wiZGVmYXVsdFwiXSx7Ym94ZXM6ci5jb25jYXQoaSl9KSxzW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGJbXCJkZWZhdWx0XCJdLG51bGwpKX19XSksdH0obC5Db21wb25lbnQpO3kucHJvcFR5cGVzPXtoaWdobGlnaHRUaW1lb3V0OmwuUHJvcFR5cGVzLm51bWJlcixwb3NpdGlvbjpsLlByb3BUeXBlcy5vYmplY3Qsbm9QYW5lbDpsLlByb3BUeXBlcy5ib29sfSx5LmRlZmF1bHRQcm9wcz17bm9QYW5lbDohMX0sdFtcImRlZmF1bHRcIl09eX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Ll9oYW5kbGVDbGljaz10Ll9oYW5kbGVNb3VzZU1vdmU9dC5yZXN0b3JlTG9nRnJvbUxvY2Fsc3RvcmFnZT10LnJlc3RvcmVVcGRhdGVzRnJvbUxvY2Fsc3RvcmFnZT10LmdldEdsb2JhbFN0YXRlPXQuc2V0R2xvYmFsU3RhdGU9dC5ldmVudEVtaXR0ZXI9dm9pZCAwO3ZhciByPW4oNCksaT1vKHIpLGE9big1KSx1PW8oYSksbD1uKDYpLHM9byhsKSxjPW4oNyksZD1vKGMpLHA9big4KSxmPW8ocCksZz1cIm1vYngtcmVhY3QtZGV2dG9vbF9fdXBkYXRlc0VuYWJsZWRcIixoPVwibW9ieC1yZWFjdC1kZXZ0b29sX19sb2dFbmFibGVkXCIsYj17dXBkYXRlc0VuYWJsZWQ6ITEsZ3JhcGhFbmFibGVkOiExLGxvZ0VuYWJsZWQ6ITEsaG92ZXJCb3hlczpbXSxyZW5kZXJpbmdCb3hlczpbXSxsb2dGaWx0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHk9dC5ldmVudEVtaXR0ZXI9bmV3IHNbXCJkZWZhdWx0XCJdO3kuc2V0TWF4TGlzdGVuZXJzKDEvMCk7dmFyIHY9dm9pZCAwLG09dC5zZXRHbG9iYWxTdGF0ZT1mdW5jdGlvbihlKXtiLmxvZ0VuYWJsZWQhPT1lLmxvZ0VuYWJsZWQmJihlLmxvZ0VuYWJsZWQ9PT0hMD8odiYmdigpLHY9aVtcImRlZmF1bHRcIl0uc3B5KGZ1bmN0aW9uKGUpe3JldHVybigwLGZbXCJkZWZhdWx0XCJdKShlLGIubG9nRmlsdGVyKX0pKTplLmxvZ0VuYWJsZWQ9PT0hMSYmdiYmdigpKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYWxTdG9yYWdlJiYoZS51cGRhdGVzRW5hYmxlZD09PSEwP3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShnLFwiWUVTXCIpOmUudXBkYXRlc0VuYWJsZWQ9PT0hMSYmd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGcpLGUubG9nRW5hYmxlZD09PSEwP3dpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShoLFwiWUVTXCIpOmUubG9nRW5hYmxlZD09PSExJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaCkpLGUuZ3JhcGhFbmFibGVkPT09ITEmJihlLmhvdmVyQm94ZXM9W10pLGI9T2JqZWN0LmFzc2lnbih7fSxiLGUpLHkuZW1pdChcInVwZGF0ZVwiKX0sST0odC5nZXRHbG9iYWxTdGF0ZT1mdW5jdGlvbigpe3JldHVybiBifSx0LnJlc3RvcmVVcGRhdGVzRnJvbUxvY2Fsc3RvcmFnZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhbFN0b3JhZ2Upe3ZhciBlPVwiWUVTXCI9PT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZyk7bSh7dXBkYXRlc0VuYWJsZWQ6ZX0pfX0sdC5yZXN0b3JlTG9nRnJvbUxvY2Fsc3RvcmFnZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhbFN0b3JhZ2Upe3ZhciBlPVwiWUVTXCI9PT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oaCk7bSh7bG9nRW5hYmxlZDplfSl9fSxmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxuPXZvaWQgMDt0Oyl7aWYobj11W1wiZGVmYXVsdFwiXS5jb21wb25lbnRCeU5vZGVSZWdpc3RlcnkuZ2V0KHQpKXJldHVybntjb21wb25lbnQ6bixub2RlOnR9O3Q9dC5wYXJlbnROb2RlfXJldHVybntjb21wb25lbnQ6dm9pZCAwLG5vZGU6dm9pZCAwfX0pO3QuX2hhbmRsZU1vdXNlTW92ZT1mdW5jdGlvbihlKXtpZihiLmdyYXBoRW5hYmxlZCl7dmFyIHQ9ZS50YXJnZXQsbj1JKHQpLm5vZGU7aWYobil7dmFyIG89bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTttKHtob3ZlckJveGVzOlt7aWQ6XCJ0aGUgaG92ZXJlZCBub2RlXCIsdHlwZTpcImhvdmVyXCIseDpvLmxlZnQseTpvLnRvcCx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCxsaWZlVGltZToxLzB9XX0pfX19LHQuX2hhbmRsZUNsaWNrPWZ1bmN0aW9uKGUpe2lmKGIuZ3JhcGhFbmFibGVkKXt2YXIgdD1lLnRhcmdldCxuPUkodCkuY29tcG9uZW50O2lmKG4pe2Uuc3RvcFByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBvPWlbXCJkZWZhdWx0XCJdLmV4dHJhcy5nZXREZXBlbmRlbmN5VHJlZShuLnJlbmRlci4kbW9ieCk7KDAsZFtcImRlZmF1bHRcIl0pKG8pLG0oe2RlcGVuZGVuY3lUcmVlOm8saG92ZXJCb3hlczpbXSxncmFwaEVuYWJsZWQ6ITF9KX19fX0sZnVuY3Rpb24oZSxuKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dGhpcy5fZXZlbnRzPXRoaXMuX2V2ZW50c3x8e30sdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX1mdW5jdGlvbiByKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZS5leHBvcnRzPW4sbi5FdmVudEVtaXR0ZXI9bixuLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxuLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMCxuLmRlZmF1bHRNYXhMaXN0ZW5lcnM9MTAsbi5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpfHwwPmV8fGlzTmFOKGUpKXRocm93IFR5cGVFcnJvcihcIm4gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sbi5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsdSxsLHM7aWYodGhpcy5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPXt9KSxcImVycm9yXCI9PT1lJiYoIXRoaXMuX2V2ZW50cy5lcnJvcnx8aSh0aGlzLl9ldmVudHMuZXJyb3IpJiYhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpe2lmKHQ9YXJndW1lbnRzWzFdLHQgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyB0O3Rocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKX1pZihuPXRoaXMuX2V2ZW50c1tlXSxhKG4pKXJldHVybiExO2lmKG8obikpc3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMTpuLmNhbGwodGhpcyk7YnJlYWs7Y2FzZSAyOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSk7YnJlYWs7Y2FzZSAzOm4uY2FsbCh0aGlzLGFyZ3VtZW50c1sxXSxhcmd1bWVudHNbMl0pO2JyZWFrO2RlZmF1bHQ6dT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbi5hcHBseSh0aGlzLHUpfWVsc2UgaWYoaShuKSlmb3IodT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscz1uLnNsaWNlKCkscj1zLmxlbmd0aCxsPTA7cj5sO2wrKylzW2xdLmFwcGx5KHRoaXMsdSk7cmV0dXJuITB9LG4ucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLHRoaXMuX2V2ZW50cy5uZXdMaXN0ZW5lciYmdGhpcy5lbWl0KFwibmV3TGlzdGVuZXJcIixlLG8odC5saXN0ZW5lcik/dC5saXN0ZW5lcjp0KSx0aGlzLl9ldmVudHNbZV0/aSh0aGlzLl9ldmVudHNbZV0pP3RoaXMuX2V2ZW50c1tlXS5wdXNoKHQpOnRoaXMuX2V2ZW50c1tlXT1bdGhpcy5fZXZlbnRzW2VdLHRdOnRoaXMuX2V2ZW50c1tlXT10LGkodGhpcy5fZXZlbnRzW2VdKSYmIXRoaXMuX2V2ZW50c1tlXS53YXJuZWQmJihyPWEodGhpcy5fbWF4TGlzdGVuZXJzKT9uLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhpcy5fbWF4TGlzdGVuZXJzLHImJnI+MCYmdGhpcy5fZXZlbnRzW2VdLmxlbmd0aD5yJiYodGhpcy5fZXZlbnRzW2VdLndhcm5lZD0hMCxjb25zb2xlLmVycm9yKFwiKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC5cIix0aGlzLl9ldmVudHNbZV0ubGVuZ3RoKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLnRyYWNlJiZjb25zb2xlLnRyYWNlKCkpKSx0aGlzfSxuLnByb3RvdHlwZS5vbj1uLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixuLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3RoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKSxyfHwocj0hMCx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciByPSExO3JldHVybiBuLmxpc3RlbmVyPXQsdGhpcy5vbihlLG4pLHRoaXN9LG4ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixhLHU7aWYoIW8odCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKCF0aGlzLl9ldmVudHN8fCF0aGlzLl9ldmVudHNbZV0pcmV0dXJuIHRoaXM7aWYobj10aGlzLl9ldmVudHNbZV0sYT1uLmxlbmd0aCxyPS0xLG49PT10fHxvKG4ubGlzdGVuZXIpJiZuLmxpc3RlbmVyPT09dClkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLHQpO2Vsc2UgaWYoaShuKSl7Zm9yKHU9YTt1LS0gPjA7KWlmKG5bdV09PT10fHxuW3VdLmxpc3RlbmVyJiZuW3VdLmxpc3RlbmVyPT09dCl7cj11O2JyZWFrfWlmKDA+cilyZXR1cm4gdGhpczsxPT09bi5sZW5ndGg/KG4ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6bi5zcGxpY2UociwxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KX1yZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cylcInJlbW92ZUxpc3RlbmVyXCIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihuPXRoaXMuX2V2ZW50c1tlXSxvKG4pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGlmKG4pZm9yKDtuLmxlbmd0aDspdGhpcy5yZW1vdmVMaXN0ZW5lcihlLG5bbi5sZW5ndGgtMV0pO3JldHVybiBkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXN9LG4ucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1tlXT9vKHRoaXMuX2V2ZW50c1tlXSk/W3RoaXMuX2V2ZW50c1tlXV06dGhpcy5fZXZlbnRzW2VdLnNsaWNlKCk6W119LG4ucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZXZlbnRzKXt2YXIgdD10aGlzLl9ldmVudHNbZV07aWYobyh0KSlyZXR1cm4gMTtpZih0KXJldHVybiB0Lmxlbmd0aH1yZXR1cm4gMH0sbi5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubGlzdGVuZXJDb3VudCh0KX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24gbyhlKXtpZihlLmRlcGVuZGVuY2llcyl7Zm9yKHZhciB0PWUuZGVwZW5kZW5jaWVzLmxlbmd0aC0xO3Q+PTA7dC0tKWZvcih2YXIgbj1lLmRlcGVuZGVuY2llc1t0XS5uYW1lLHI9dC0xO3I+PTA7ci0tKWlmKGUuZGVwZW5kZW5jaWVzW3JdLm5hbWU9PT1uKXtlLmRlcGVuZGVuY2llc1tyXS5kZXBlbmRlbmNpZXM9W10uY29uY2F0KGUuZGVwZW5kZW5jaWVzW3JdLmRlcGVuZGVuY2llc3x8W10sZS5kZXBlbmRlbmNpZXNbdF0uZGVwZW5kZW5jaWVzfHxbXSksZS5kZXBlbmRlbmNpZXMuc3BsaWNlKHQsMSk7YnJlYWt9ZS5kZXBlbmRlbmNpZXMuZm9yRWFjaChvKX19O3RbXCJkZWZhdWx0XCJdPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gcihlLHQpe209PT0hMSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmLTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikmJihjb25zb2xlLndhcm4oXCJUaGUgb3V0cHV0IG9mIHRoZSBNb2JYIGxvZ2dlciBpcyBvcHRpbWl6ZWQgZm9yIENocm9tZVwiKSxtPSEwKTt2YXIgbj1lLnNweVJlcG9ydFN0YXJ0PT09ITAsbz1lLnNweVJlcG9ydEVuZD09PSEwLHI9dm9pZCAwO2lmKDA9PT1JPyhyPXQoZSksbiYmIXImJih3PSEwKSk6byYmdyYmMT09PUk/KHI9ITEsdz0hMSk6cj13IT09ITAsciYmbylhKGUudGltZSk7ZWxzZSBpZihyKXt2YXIgaD1uP2k6dTtzd2l0Y2goZS50eXBlKXtjYXNlXCJhY3Rpb25cIjpoKFwiJWNhY3Rpb24gJyVzJyAlc1wiLFwiY29sb3I6ZG9kZ2VyYmx1ZVwiLGUubmFtZSxkKFwiKFwiLGcoZS50YXJnZXQpKSksdShlLmFyZ3VtZW50cykscygpO2JyZWFrO2Nhc2VcInRyYW5zYWN0aW9uXCI6aChcIiVjdHJhbnNhY3Rpb24gJyVzJyAlc1wiLFwiY29sb3I6Z3JheVwiLGUubmFtZSxkKFwiKFwiLGcoZS50YXJnZXQpKSk7YnJlYWs7Y2FzZVwic2NoZWR1bGVkLXJlYWN0aW9uXCI6aChcIiVjc2NoZWR1bGVkIGFzeW5jIHJlYWN0aW9uICclcydcIixcImNvbG9yOiMxMGEyMTBcIixwKGUub2JqZWN0KSk7YnJlYWs7Y2FzZVwicmVhY3Rpb25cIjpoKFwiJWNyZWFjdGlvbiAnJXMnXCIsXCJjb2xvcjojMTBhMjEwXCIscChlLm9iamVjdCkpLHMoKTticmVhaztjYXNlXCJjb21wdXRlXCI6aShcIiVjY29tcHV0ZWQgJyVzJyAlc1wiLFwiY29sb3I6IzEwYTIxMFwiLHAoZS5vYmplY3QpLGQoXCIoXCIsZyhlLnRhcmdldCkpKSxhKCk7YnJlYWs7Y2FzZVwiZXJyb3JcIjpoKFwiJWNlcnJvcjogJXNcIixcImNvbG9yOnRvbWF0b1wiLGUubWVzc2FnZSkscygpLGMoKTticmVhaztjYXNlXCJ1cGRhdGVcIjp2W1wiZGVmYXVsdFwiXS5pc09ic2VydmFibGVBcnJheShlLm9iamVjdCk/aChcInVwZGF0ZWQgJyVzWyVzXSc6ICVzICh3YXM6ICVzKVwiLHAoZS5vYmplY3QpLGUuaW5kZXgsZihlLm5ld1ZhbHVlKSxmKGUub2xkVmFsdWUpKTp2W1wiZGVmYXVsdFwiXS5pc09ic2VydmFibGVPYmplY3QoZS5vYmplY3QpP2goXCJ1cGRhdGVkICclcy4lcyc6ICVzICh3YXM6ICVzKVwiLHAoZS5vYmplY3QpLGUubmFtZSxmKGUubmV3VmFsdWUpLGYoZS5vbGRWYWx1ZSkpOmgoXCJ1cGRhdGVkICclcyc6ICVzICh3YXM6ICVzKVwiLHAoZS5vYmplY3QpLGUubmFtZSxmKGUubmV3VmFsdWUpLGYoZS5vbGRWYWx1ZSkpLGwoe25ld1ZhbHVlOmUubmV3VmFsdWUsb2xkVmFsdWU6ZS5vbGRWYWx1ZX0pLHMoKTticmVhaztjYXNlXCJzcGxpY2VcIjpoKFwic3BsaWNlZCAnJXMnOiBpbmRleCAlZCwgYWRkZWQgJWQsIHJlbW92ZWQgJWRcIixwKGUub2JqZWN0KSxlLmluZGV4LGUuYWRkZWRDb3VudCxlLnJlbW92ZWRDb3VudCksbCh7YWRkZWQ6ZS5hZGRlZCxyZW1vdmVkOmUucmVtb3ZlZH0pLHMoKTticmVhaztjYXNlXCJhZGRcIjpoKFwic2V0ICclcy4lcyc6ICVzXCIscChlLm9iamVjdCksZS5uYW1lLGYoZS5uZXdWYWx1ZSkpLGwoe25ld1ZhbHVlOmUubmV3VmFsdWV9KSxzKCk7YnJlYWs7Y2FzZVwiZGVsZXRlXCI6aChcInJlbW92ZWQgJyVzLiVzJyAod2FzICVzKVwiLHAoZS5vYmplY3QpLGUubmFtZSxmKGUub2xkVmFsdWUpKSxsKHtvbGRWYWx1ZTplLm9sZFZhbHVlfSkscygpO2JyZWFrO2Nhc2VcImNyZWF0ZVwiOmgoXCJzZXQgJyVzJzogJXNcIixwKGUub2JqZWN0KSxmKGUubmV3VmFsdWUpKSxsKHtuZXdWYWx1ZTplLm5ld1ZhbHVlfSkscygpO2JyZWFrO2RlZmF1bHQ6aChlLnR5cGUpLGwoZSl9fW4mJkkrKyxvJiZJLS19ZnVuY3Rpb24gaSgpe2NvbnNvbGVbeD9cImdyb3VwQ29sbGFwc2VkXCI6XCJsb2dcIl0uYXBwbHkoY29uc29sZSxhcmd1bWVudHMpLGorK31mdW5jdGlvbiBhKGUpe2otLSxcIm51bWJlclwiPT10eXBlb2YgZSYmdShcIiVjdG90YWwgdGltZTogJXNtc1wiLFwiY29sb3I6Z3JheVwiLGUpLHgmJmNvbnNvbGUuZ3JvdXBFbmQoKX1mdW5jdGlvbiB1KCl7Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfWZ1bmN0aW9uIGwoKXtjb25zb2xlLmRpci5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcygpe2NvbnNvbGUudHJhY2UoXCJzdGFja1wiKX1mdW5jdGlvbiBjKCl7Zm9yKHZhciBlPTAsdD1qO3Q+ZTtlKyspYSgpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gdD8oZXx8XCJcIikrdCsoQ1tlXXx8XCJcIik6XCJcIn1mdW5jdGlvbiBwKGUpe3JldHVybiB2W1wiZGVmYXVsdFwiXS5leHRyYXMuZ2V0RGVidWdOYW1lKGUpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGgoZSk/XCJzdHJpbmdcIj09dHlwZW9mIGUmJmUubGVuZ3RoPjEwMD9lLnN1YnN0cigwLDk3KStcIi4uLlwiOmU6ZChcIihcIixnKGUpKX1mdW5jdGlvbiBnKGUpe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lKXJldHVyblwiXCI7aWYoZSYmXCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9cInVuZGVmaW5lZFwiOmIoZSkpKXtpZihlJiZlLiRtb2J4KXJldHVybiBlLiRtb2J4Lm5hbWU7aWYoZS5jb25zdHJ1Y3RvcilyZXR1cm4gZS5jb25zdHJ1Y3Rvci5uYW1lfHxcIm9iamVjdFwifXJldHVyblwiXCIrKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBlP1widW5kZWZpbmVkXCI6YihlKSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gbnVsbD09PWV8fHZvaWQgMD09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBiPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2w/XCJzeW1ib2xcIjp0eXBlb2YgZX07dFtcImRlZmF1bHRcIl09cjt2YXIgeT1uKDQpLHY9byh5KSxtPSExLEk9MCx3PSExLHg9XCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5ncm91cENvbGxhcHNlZCxqPTAsQz17J1wiJzonXCInLFwiJ1wiOlwiJ1wiLFwiKFwiOlwiKVwiLFwiW1wiOlwiXVwiLFwiPFwiOlwiXVwiLFwiI1wiOlwiXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9bigyKSxjPXIocyksZD1uKDMpLHA9bigxMCksZj1yKHApLGc9bigxMSksaD1yKGcpLGI9bigxMikseT1yKGIpLHY9bigxNCksbT1yKHYpLEk9bigxNSksdz1vKEkpLHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxyO2kodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89YSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKHt9KX0scj1uLGEobyxyKX1yZXR1cm4gdSh0LGUpLGwodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtkLmV2ZW50RW1pdHRlci5vbihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7ZC5ldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJ1cGRhdGVcIix0aGlzLmhhbmRsZVVwZGF0ZSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5wb3NpdGlvbixuPWUuaGlnaGxpZ2h0VGltZW91dCxvPXt9O3JldHVybiB0PyhvLnRvcD10LnRvcCxvLnJpZ2h0PXQucmlnaHQsby5ib3R0b209dC5ib3R0b20sby5sZWZ0PXQubGVmdCk6KG8udG9wPVwiMHB4XCIsby5yaWdodD1cIjIwcHhcIiksY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLG51bGwsY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpPYmplY3QuYXNzaWduKHt9LHcucGFuZWwsbyl9LGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoeVtcImRlZmF1bHRcIl0se2hpZ2hsaWdodFRpbWVvdXQ6bn0sY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChtW1wiZGVmYXVsdFwiXSx7aWQ6XCJidXR0b25VcGRhdGVzXCJ9KSksY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChmW1wiZGVmYXVsdFwiXSxudWxsLGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQobVtcImRlZmF1bHRcIl0se2lkOlwiYnV0dG9uR3JhcGhcIn0pKSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KGhbXCJkZWZhdWx0XCJdLG51bGwsY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChtW1wiZGVmYXVsdFwiXSx7aWQ6XCJidXR0b25Mb2dcIn0pKSkpfX1dKSx0fShzLkNvbXBvbmVudCk7eC5wcm9wVHlwZXM9e2hpZ2hsaWdodFRpbWVvdXQ6cy5Qcm9wVHlwZXMubnVtYmVyfSx0W1wiZGVmYXVsdFwiXT14fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fWZ1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGkoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIrdHlwZW9mIHQpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKSxsPW4oMikscz1vKGwpLGM9big1KSxkPW8oYykscD1uKDMpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG4sbyxhO3IodGhpcyx0KTtmb3IodmFyIHU9YXJndW1lbnRzLmxlbmd0aCxsPUFycmF5KHUpLHM9MDt1PnM7cysrKWxbc109YXJndW1lbnRzW3NdO3JldHVybiBuPW89aSh0aGlzLChlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQobCkpKSxvLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiBvLnNldFN0YXRlKHt9KX0sby5oYW5kbGVUb2dnbGVHcmFwaD1mdW5jdGlvbigpe3ZhciBlPSgwLHAuZ2V0R2xvYmFsU3RhdGUpKCksdD1lLmdyYXBoRW5hYmxlZDsoMCxwLnNldEdsb2JhbFN0YXRlKSh7aG92ZXJCb3hlczpbXSxncmFwaEVuYWJsZWQ6IXR9KX0sYT1uLGkobyxhKX1yZXR1cm4gYSh0LGUpLHUodCxbe2tleTpcImNvbXBvbmVudFdpbGxNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZSh7fSl9fSx7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2RbXCJkZWZhdWx0XCJdLnRyYWNrQ29tcG9uZW50cygpLHAuZXZlbnRFbWl0dGVyLm9uKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHAuX2hhbmRsZU1vdXNlTW92ZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixwLl9oYW5kbGVDbGljaywhMCkpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtwLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixwLl9oYW5kbGVNb3VzZU1vdmUsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscC5faGFuZGxlTW91c2VNb3ZlLCEwKSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0oMCxwLmdldEdsb2JhbFN0YXRlKSgpLHQ9ZS5ncmFwaEVuYWJsZWQsbj10aGlzLnByb3BzLmNoaWxkcmVuO3JldHVybiBzW1wiZGVmYXVsdFwiXS5jbG9uZUVsZW1lbnQobix7b25Ub2dnbGU6dGhpcy5oYW5kbGVUb2dnbGVHcmFwaCxhY3RpdmU6dH0pfX1dKSx0fShsLkNvbXBvbmVudCk7dFtcImRlZmF1bHRcIl09Zn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksbD1uKDIpLHM9byhsKSxjPW4oMyksZD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLGE7cih0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1pKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7by5zZXRTdGF0ZSh7fSl9LG8uaGFuZGxlVG9nZ2xlTG9nPWZ1bmN0aW9uKCl7dmFyIGU9KDAsYy5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUubG9nRW5hYmxlZDsoMCxjLnNldEdsb2JhbFN0YXRlKSh7bG9nRW5hYmxlZDohdH0pfSxhPW4saShvLGEpfXJldHVybiBhKHQsZSksdSh0LFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2MuZXZlbnRFbWl0dGVyLm9uKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpLCgwLGMucmVzdG9yZUxvZ0Zyb21Mb2NhbHN0b3JhZ2UpKCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2MuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9KDAsYy5nZXRHbG9iYWxTdGF0ZSkoKSx0PWUubG9nRW5hYmxlZCxuPXRoaXMucHJvcHMuY2hpbGRyZW47cmV0dXJuIHNbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChuLHtvblRvZ2dsZTp0aGlzLmhhbmRsZVRvZ2dsZUxvZyxhY3RpdmU6dH0pfX1dKSx0fShsLkNvbXBvbmVudCk7dFtcImRlZmF1bHRcIl09ZH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBpKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksbD1uKDIpLHM9byhsKSxjPW4oMTMpLGQ9byhjKSxwPW4oMyksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLGE7cih0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1pKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uc2V0U3RhdGUoe30pfSxvLmhhbmRsZVRvZ2dsZVVwZGF0ZXM9ZnVuY3Rpb24oKXt2YXIgZT0oMCxwLmdldEdsb2JhbFN0YXRlKSgpLHQ9ZS51cGRhdGVzRW5hYmxlZDsoMCxwLnNldEdsb2JhbFN0YXRlKSh7dXBkYXRlc0VuYWJsZWQ6IXR9KX0sYT1uLGkobyxhKX1yZXR1cm4gYSh0LGUpLHUodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtwLmV2ZW50RW1pdHRlci5vbihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKTt2YXIgZT10aGlzLnByb3BzLmhpZ2hsaWdodFRpbWVvdXQ7dGhpcy5yZW5kZXJpbmdNb25pdG9yPW5ldyBkW1wiZGVmYXVsdFwiXSh7aGlnaGxpZ2h0VGltZW91dDplfSksKDAscC5yZXN0b3JlVXBkYXRlc0Zyb21Mb2NhbHN0b3JhZ2UpKCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3AuZXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpLHRoaXMucmVuZGVyaW5nTW9uaXRvci5kaXNwb3NlKCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0oMCxwLmdldEdsb2JhbFN0YXRlKSgpLHQ9ZS51cGRhdGVzRW5hYmxlZCxuPXRoaXMucHJvcHMuY2hpbGRyZW47cmV0dXJuIHNbXCJkZWZhdWx0XCJdLmNsb25lRWxlbWVudChuLHtvblRvZ2dsZTp0aGlzLmhhbmRsZVRvZ2dsZVVwZGF0ZXMsYWN0aXZlOnR9KX19XSksdH0obC5Db21wb25lbnQpO2YucHJvcFR5cGVzPXtoaWdobGlnaHRUaW1lb3V0OmwuUHJvcFR5cGVzLm51bWJlcn0sZi5kZWZhdWx0UHJvcHM9e2hpZ2hsaWdodFRpbWVvdXQ6MTUwMH0sdFtcImRlZmF1bHRcIl09Zn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLGE9big1KSx1PW8oYSksbD1uKDMpLHM9ZnVuY3Rpb24oZSl7c3dpdGNoKCEwKXtjYXNlIDI1PmU6cmV0dXJuXCJjaGVhcFwiO2Nhc2UgMTAwPmU6cmV0dXJuXCJhY2NlcHRhYmxlXCI7ZGVmYXVsdDpyZXR1cm5cImV4cGVuc2l2ZVwifX0sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dmFyIG49dGhpcyxvPXQuaGlnaGxpZ2h0VGltZW91dDtyKHRoaXMsZSksdGhpcy5fYm94ZXNSZWdpc3RyeT1cInVuZGVmaW5lZFwiIT10eXBlb2YgV2Vha01hcD9uZXcgV2Vha01hcDpuZXcgTWFwLHRoaXMuX3JlbmRlclJlcG9ydGVyRGlzcG9zZXI9dVtcImRlZmF1bHRcIl0ucmVuZGVyUmVwb3J0ZXIub24oZnVuY3Rpb24oZSl7aWYoKDAsbC5nZXRHbG9iYWxTdGF0ZSkoKS51cGRhdGVzRW5hYmxlZD09PSEwKXN3aXRjaChlLmV2ZW50KXtjYXNlXCJyZW5kZXJcIjppZighZS5ub2RlfHxpc05hTihlLnJlbmRlclRpbWUpKXJldHVybjt2YXIgdD1lLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1uLmdldEJveEZvck5vZGUoZS5ub2RlKTtyLnR5cGU9XCJyZW5kZXJpbmdcIixyLnk9dC50b3Asci54PXQubGVmdCxyLndpZHRoPXQud2lkdGgsci5oZWlnaHQ9dC5oZWlnaHQsci5yZW5kZXJJbmZvPXtjb3VudDpyLnJlbmRlckluZm8mJisrci5yZW5kZXJJbmZvLmNvdW50fHwxLHJlbmRlclRpbWU6ZS5yZW5kZXJUaW1lLHRvdGFsVGltZTplLnRvdGFsVGltZSxjb3N0OnMoZS5yZW5kZXJUaW1lKX0sci5saWZlVGltZT1vO3ZhciBpPSgwLGwuZ2V0R2xvYmFsU3RhdGUpKCkucmVuZGVyaW5nQm94ZXM7cmV0dXJuLTE9PT1pLmluZGV4T2YocikmJihpPWkuY29uY2F0KFtyXSkpLCgwLGwuc2V0R2xvYmFsU3RhdGUpKHtyZW5kZXJpbmdCb3hlczppfSksci5fdGltZW91dCYmY2xlYXJUaW1lb3V0KHIuX3RpbWVvdXQpLHZvaWQoci5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIG4ucmVtb3ZlQm94KGUubm9kZSwhMCl9LG8pKTtjYXNlXCJkZXN0cm95XCI6cmV0dXJuIG4ucmVtb3ZlQm94KGUubm9kZSksdm9pZCBuLl9ib3hlc1JlZ2lzdHJ5W1wiZGVsZXRlXCJdKGUubm9kZSk7ZGVmYXVsdDpyZXR1cm59fSl9cmV0dXJuIGkoZSxbe2tleTpcImdldEJveEZvck5vZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLl9ib3hlc1JlZ2lzdHJ5LmhhcyhlKSlyZXR1cm4gdGhpcy5fYm94ZXNSZWdpc3RyeS5nZXQoZSk7dmFyIHQ9e2lkOk1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzIpLnN1YnN0cigyKX07cmV0dXJuIHRoaXMuX2JveGVzUmVnaXN0cnkuc2V0KGUsdCksdH19LHtrZXk6XCJkaXNwb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJSZXBvcnRlckRpc3Bvc2VyKCl9fSx7a2V5OlwicmVtb3ZlQm94XCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5fYm94ZXNSZWdpc3RyeS5oYXMoZSkhPT0hMSl7dmFyIHQ9KDAsbC5nZXRHbG9iYWxTdGF0ZSkoKS5yZW5kZXJpbmdCb3hlcyxuPXQuaW5kZXhPZih0aGlzLl9ib3hlc1JlZ2lzdHJ5LmdldChlKSk7LTEhPT1uJiYodD10LnNsaWNlKDAsbikuY29uY2F0KHQuc2xpY2UobisxKSksKDAsbC5zZXRHbG9iYWxTdGF0ZSkoe3JlbmRlcmluZ0JveGVzOnR9KSl9fX1dKSxlfSgpO3RbXCJkZWZhdWx0XCJdPWN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdFtcImRlZmF1bHRcIl09ZSx0fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gdShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCkscz1uKDIpLGM9cihzKSxkPW4oMTUpLHA9byhkKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuLG8scjtpKHRoaXMsdCk7Zm9yKHZhciB1PWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheSh1KSxzPTA7dT5zO3MrKylsW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gbj1vPWEodGhpcywoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGwpKSksby5zdGF0ZT17aG92ZXJlZDohMX0sby5oYW5kbGVNb3VzZU92ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gby5zZXRTdGF0ZSh7aG92ZXJlZDohMH0pfSxvLmhhbmRsZU1vdXNlT3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG8uc2V0U3RhdGUoe2hvdmVyZWQ6ITF9KX0scj1uLGEobyxyKX1yZXR1cm4gdSh0LGUpLGwodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuYWN0aXZlLG49ZS5pZCxvPWUub25Ub2dnbGUscj10aGlzLnN0YXRlLmhvdmVyZWQsaT1mdW5jdGlvbigpe3N3aXRjaChuKXtjYXNlXCJidXR0b25VcGRhdGVzXCI6cmV0dXJuIHQ/cC5idXR0b25VcGRhdGVzQWN0aXZlOnAuYnV0dG9uVXBkYXRlcztjYXNlXCJidXR0b25HcmFwaFwiOnJldHVybiB0P3AuYnV0dG9uR3JhcGhBY3RpdmU6cC5idXR0b25HcmFwaDtjYXNlXCJidXR0b25Mb2dcIjpyZXR1cm4gdD9wLmJ1dHRvbkxvZ0FjdGl2ZTpwLmJ1dHRvbkxvZ319KCksYT1mdW5jdGlvbigpe3N3aXRjaChuKXtjYXNlXCJidXR0b25VcGRhdGVzXCI6cmV0dXJuXCJWaXN1YWxpemUgY29tcG9uZW50IHJlLXJlbmRlcnNcIjtjYXNlXCJidXR0b25HcmFwaFwiOnJldHVyblwiU2VsZWN0IGEgY29tcG9uZW50IGFuZCBzaG93IGl0cyBkZXBlbmRlbmN5IHRyZWVcIjtjYXNlXCJidXR0b25Mb2dcIjpyZXR1cm5cIkxvZyBhbGwgTW9iWCBzdGF0ZSBjaGFuZ2VzIGFuZCByZWFjdGlvbnMgdG8gdGhlIGJyb3dzZXIgY29uc29sZSAodXNlIEYxMiB0byBzaG93IC8gaGlkZSB0aGUgY29uc29sZSkuIFVzZSBDaHJvbWUgLyBDaHJvbWl1bSBmb3IgYW4gb3B0aW1hbCBleHBlcmllbmNlXCJ9fSgpLHU9T2JqZWN0LmFzc2lnbih7fSxwLmJ1dHRvbixpLHQmJnAuYnV0dG9uLmFjdGl2ZSxyJiZwLmJ1dHRvbi5ob3Zlcik7cmV0dXJuIGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6byx0aXRsZTphLHN0eWxlOnUsb25Nb3VzZU92ZXI6dGhpcy5oYW5kbGVNb3VzZU92ZXIsb25Nb3VzZU91dDp0aGlzLmhhbmRsZU1vdXNlT3V0fSl9fV0pLHR9KHMuQ29tcG9uZW50KTtmLnByb3BzPXtvblRvZ2dsZTpzLlByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsYWN0aXZlOnMuUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxuYW1lOnMuUHJvcFR5cGVzLm9uZU9mKFtcImJ1dHRvblVwZGF0ZXNcIixcImJ1dHRvbkdyYXBoXCIsXCJidXR0b25Mb2dcIl0pLmlzUmVxdWlyZWR9LHRbXCJkZWZhdWx0XCJdPWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt0LnBhbmVsPXtwb3NpdGlvbjpcImZpeGVkXCIsaGVpZ2h0OlwiMjZweFwiLGJhY2tncm91bmRDb2xvcjpcIiNmZmZcIixjb2xvcjpcInJnYmEoMCwgMCwgMCwgMC44KVwiLGJvcmRlclJhZGl1czpcIjAgMCAycHggMnB4XCIsYm9yZGVyU3R5bGU6XCJzb2xpZFwiLGJvcmRlcldpZHRoOlwiMCAxcHggMXB4XCIsYm9yZGVyQ29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMSlcIix6SW5kZXg6XCI2NTAwMFwiLGZvbnRGYW1pbHk6XCJIZWx2ZXRpY2EsIHNhbnMtc2VyaWZcIixkaXNwbGF5OlwiZmxleFwiLHBhZGRpbmc6XCIwIDVweFwifSx0LmJ1dHRvbj17b3BhY2l0eTouNDUsYmFja2dyb3VuZDpcInRyYW5zcGFyZW50IG5vbmUgY2VudGVyIC8gMTZweCAxNnB4IG5vLXJlcGVhdFwiLHdpZHRoOlwiMjZweFwiLG1hcmdpbjpcIjAgMTBweFwiLGN1cnNvcjpcInBvaW50ZXJcIixib3JkZXI6XCJub25lXCIsaG92ZXI6e29wYWNpdHk6Ljd9LGFjdGl2ZTp7b3BhY2l0eToxLFwiOmhvdmVyXCI6e29wYWNpdHk6MX19fSx0LmJ1dHRvbkxvZz17YmFja2dyb3VuZEltYWdlOlwidXJsKFwiK24oMTYpK1wiKVwifSx0LmJ1dHRvbkxvZ0FjdGl2ZT17YmFja2dyb3VuZEltYWdlOlwidXJsKFwiK24oMTcpK1wiKVwifSx0LmJ1dHRvblVwZGF0ZXM9e2JhY2tncm91bmRJbWFnZTpcInVybChcIituKDE4KStcIilcIn0sdC5idXR0b25VcGRhdGVzQWN0aXZlPXtiYWNrZ3JvdW5kSW1hZ2U6XCJ1cmwoXCIrbigxOSkrXCIpXCJ9LHQuYnV0dG9uR3JhcGg9e2JhY2tncm91bmRJbWFnZTpcInVybChcIituKDIwKStcIilcIn0sdC5idXR0b25HcmFwaEFjdGl2ZT17YmFja2dyb3VuZEltYWdlOlwidXJsKFwiK24oMjEpK1wiKVwifX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJpWVhObFVISnZabWxzWlQwaVltRnphV01pSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWlCb1pXbG5hSFE5SWpFMklpQjNhV1IwYUQwaU1UWWlQZ29nSUNBZ1BHY2djM1J5YjJ0bFBTSWpNREF3SWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVdGQybGtkR2c5SWpFaVBnb2dJQ0FnSUNBZ0lEeHdZWFJvSUdROUlrMHhNaTQxSURNdU5XZ3RPR010TVM0eElEQXRNaUF1T1MweUlESjJOV013SURFdU1TNDVJRElnTWlBeWFERjJNbXcxTFRKb01tTXhMakVnTUNBeUxTNDVJREl0TW5ZdE5XTXdMVEV1TVMwdU9TMHlMVEl0TW5vaUx6NEtJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5OU0EyTGpWb055SXZQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazAxSURrdU5XZzNJaTgrQ2lBZ0lDQThMMmMrQ2p3dmMzWm5QZ289XCJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCaVlYTmxVSEp2Wm1sc1pUMGlZbUZ6YVdNaUlHbGtQU0pNWVhsbGNsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpwWlhkQ2IzZzlJakFnTUNBeE5pQXhOaUlnYUdWcFoyaDBQU0l4TmlJZ2QybGtkR2c5SWpFMklqNEtJQ0FnSUR4bklITjBjbTlyWlQwaUl6RTNPREJtWVNJZ1ptbHNiRDBpYm05dVpTSWdjM1J5YjJ0bExYZHBaSFJvUFNJeExqSTFJajRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTVRJdU5TQXpMalZvTFRoakxURXVNU0F3TFRJZ0xqa3RNaUF5ZGpWak1DQXhMakV1T1NBeUlESWdNbWd4ZGpKc05TMHlhREpqTVM0eElEQWdNaTB1T1NBeUxUSjJMVFZqTUMweExqRXRMamt0TWkweUxUSjZJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRVZ05pNDFhRGNpTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk5TQTVMalZvTnlJdlBnb2dJQ0FnUEM5blBnbzhMM04yWno0S1wifSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QmlZWE5sVUhKdlptbHNaVDBpWW1GemFXTWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJaUJvWldsbmFIUTlJakUySWlCM2FXUjBhRDBpTVRZaVBnb2dJQ0FnUEdjZ2MzUnliMnRsUFNJak1EQXdJaUJtYVd4c1BTSnViMjVsSWlCemRISnZhMlV0ZDJsa2RHZzlJakVpUGdvZ0lDQWdJQ0FnSUR4amFYSmpiR1VnWTNnOUlqZ3VOU0lnWTNrOUlqZ3VOU0lnY2owaU5pSXZQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0TGpVZ01UQldOQ0l2UGdvZ0lDQWdQQzluUGdvZ0lDQWdQR2NnYzNSeWIydGxQU0p1YjI1bElpQm1hV3hzUFNJak1EQXdJajRLSUNBZ0lDQWdJQ0E4WTJseVkyeGxJR040UFNJNExqVWlJR041UFNJNExqVWlJSEk5SWpFaUx6NEtJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5OeTQxSURGb01uWXhMalZvTFRKNklpOCtDaUFnSUNBZ0lDQWdQSEJoZEdnZ1pEMGlUVEUwSURFdU5td3RMamN1Tnk0ekxqTXRMamN1T0M0M0xqY3VPQzB1Tnk0ekxqTXVOeTB1TjNvaUx6NEtJQ0FnSUR3dlp6NEtQQzl6ZG1jK0NnPT1cIn0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9XCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUJpWVhObFVISnZabWxzWlQwaVltRnphV01pSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZG1sbGQwSnZlRDBpTUNBd0lERTJJREUySWlCb1pXbG5hSFE5SWpFMklpQjNhV1IwYUQwaU1UWWlQZ29nSUNBZ1BHY2djM1J5YjJ0bFBTSWpNVGM0TUdaaElpQm1hV3hzUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRXVNalVpUGdvZ0lDQWdJQ0FnSUR4amFYSmpiR1VnWTNnOUlqZ3VOU0lnWTNrOUlqZ3VOU0lnY2owaU5pSXZQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazA0TGpVZ01UQldOQ0l2UGdvZ0lDQWdQQzluUGdvZ0lDQWdQR2NnYzNSeWIydGxQU0p1YjI1bElpQm1hV3hzUFNJak1UYzRNR1poSWo0S0lDQWdJQ0FnSUNBOFkybHlZMnhsSUdONFBTSTRMalVpSUdONVBTSTRMalVpSUhJOUlqRWlMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlERm9Nbll4TGpWb0xUSjZJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRFMElERXVObXd0TGpjdU55NHpMak10TGpjdU9DNDNMamN1T0MwdU55NHpMak11TnkwdU4zb2lMejRLSUNBZ0lEd3ZaejRLUEM5emRtYytDZz09XCJ9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCaVlYTmxVSEp2Wm1sc1pUMGlZbUZ6YVdNaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2RtbGxkMEp2ZUQwaU1DQXdJREUySURFMklpQm9aV2xuYUhROUlqRTJJaUIzYVdSMGFEMGlNVFlpUGdvZ0lDQWdQR2NnYzNSeWIydGxQU0lqTURBd0lpQm1hV3hzUFNKdWIyNWxJaUJ6ZEhKdmEyVXRkMmxrZEdnOUlqRWlQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB5TGpVZ01pNDFhRGwyTW1ndE9Yb2lMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlEY3VOV2czZGpKb0xUZDZJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjdU5TQXhNaTQxYURkMk1tZ3ROM29pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk5DNDFJRFF1TlhZNWFETWlMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlEZ3VOV2d0TXlJdlBnb2dJQ0FnUEM5blBnbzhMM04yWno0S1wifSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QmlZWE5sVUhKdlptbHNaVDBpWW1GemFXTWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SWdkbWxsZDBKdmVEMGlNQ0F3SURFMklERTJJaUJvWldsbmFIUTlJakUySWlCM2FXUjBhRDBpTVRZaVBnb2dJQ0FnUEdjZ2MzUnliMnRsUFNJak1UYzRNR1poSWlCbWFXeHNQU0p1YjI1bElpQnpkSEp2YTJVdGQybGtkR2c5SWpFdU1qVWlQZ29nSUNBZ0lDQWdJRHh3WVhSb0lHUTlJazB5TGpVZ01pNDFhRGwyTW1ndE9Yb2lMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlEY3VOV2czZGpKb0xUZDZJaTgrQ2lBZ0lDQWdJQ0FnUEhCaGRHZ2daRDBpVFRjdU5TQXhNaTQxYURkMk1tZ3ROM29pTHo0S0lDQWdJQ0FnSUNBOGNHRjBhQ0JrUFNKTk5DNDFJRFF1TlhZNWFETWlMejRLSUNBZ0lDQWdJQ0E4Y0dGMGFDQmtQU0pOTnk0MUlEZ3VOV2d0TXlJdlBnb2dJQ0FnUEM5blBnbzhMM04yWno0S1wifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHRbXCJkZWZhdWx0XCJdPWUsdH1mdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIHUoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpLHM9bigyKSxjPXIocyksZD1uKDIzKSxwPW8oZCksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIGkodGhpcyx0KSxhKHRoaXMsT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIHUodCxlKSxsKHQsW3trZXk6XCJjb21wb25lbnRXaWxsQXBwZWFyXCIsXG52YWx1ZTpmdW5jdGlvbihlKXt0aGlzLnByb3BzLndpbGxBcHBlYXIoZSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbExlYXZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnByb3BzLndpbGxMZWF2ZSgpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW59fV0pLHR9KHMuQ29tcG9uZW50KTtmLnByb3BUeXBlcz17d2lsbEFwcGVhcjpzLlByb3BUeXBlc1tcImZ1bmN0aW9uXCJdLHdpbGxMZWF2ZTpzLlByb3BUeXBlc1tcImZ1bmN0aW9uXCJdfSxmLmRlZmF1bHRQcm9wcz17d2lsbEFwcGVhcjpmdW5jdGlvbigpe30sd2lsbExlYXZlOmZ1bmN0aW9uKCl7fX07dmFyIGc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBpKHRoaXMsdCksYSh0aGlzLE9iamVjdC5nZXRQcm90b3R5cGVPZih0KS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiB1KHQsZSksbCh0LFt7a2V5OlwicmVuZGVyQm94XCIsdmFsdWU6ZnVuY3Rpb24oZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwicmVuZGVyaW5nXCI6dmFyIHQ9cC5yZW5kZXJpbmdbZS5yZW5kZXJJbmZvLmNvc3RdfHx7fTtyZXR1cm4gY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtrZXk6ZS5pZCxyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0JiYodC5zdHlsZS5vcGFjaXR5PTApfSxlLmxpZmVUaW1lLTUwMCl9LHN0eWxlOk9iamVjdC5hc3NpZ24oe30scC5ib3gscC5yZW5kZXJpbmcsdCx7bGVmdDplLngsdG9wOmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0pfSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTpPYmplY3QuYXNzaWduKHt9LHAudGV4dCx0LnRleHQpfSxlLnJlbmRlckluZm8uY291bnQsXCJ4IHwgXCIsZS5yZW5kZXJJbmZvLnJlbmRlclRpbWUsXCIgLyBcIixlLnJlbmRlckluZm8udG90YWxUaW1lLFwiIG1zXCIpKTtjYXNlXCJob3ZlclwiOnJldHVybiBjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2tleTplLmlkLHN0eWxlOk9iamVjdC5hc3NpZ24oe30scC5ib3gscC5ob3Zlcix7bGVmdDplLngsdG9wOmUueSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodH0pfSk7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3J9fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMuYm94ZXM7cmV0dXJuIGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIixudWxsLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLnJlbmRlckJveCh0KX0pKX19XSksdH0ocy5Db21wb25lbnQpO2cucHJvcFR5cGVzPXtib3hlczpzLlByb3BUeXBlcy5hcnJheU9mKHMuUHJvcFR5cGVzLnNoYXBlKHt0eXBlOnMuUHJvcFR5cGVzLm9uZU9mKFtcInJlbmRlcmluZ1wiLFwiaG92ZXJcIl0pLmlzUmVxdWlyZWQseDpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCx5OnMuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLHdpZHRoOnMuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLGhlaWdodDpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxyZW5kZXJJbmZvOnMuUHJvcFR5cGVzLnNoYXBlKHtjb3VudDpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxyZW5kZXJUaW1lOnMuUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLHRvdGFsVGltZTpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxjb3N0OnMuUHJvcFR5cGVzLm9uZU9mKFtcImNoZWFwXCIsXCJhY2NlcHRhYmxlXCIsXCJleHBlbnNpdmVcIl0pLmlzUmVxdWlyZWR9KSxsaWZlVGltZTpzLlByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZH0pKS5pc1JlcXVpcmVkfSx0W1wiZGVmYXVsdFwiXT1nfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3QuYm94PXtkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImZpeGVkXCIsekluZGV4OlwiNjQ5OThcIixtaW5XaWR0aDpcIjYwcHhcIixvdXRsaW5lOlwiM3B4IHNvbGlkXCIscG9pbnRlckV2ZW50czpcIm5vbmVcIix0cmFuc2l0aW9uOlwib3BhY2l0eSA1MDBtcyBlYXNlLWluXCJ9LHQudGV4dD17Zm9udEZhbWlseTpcInZlcmRhbmEsIHNhbnMtc2VyaWZcIixwYWRkaW5nOlwiMCA0cHggMnB4XCIsY29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuNilcIixmb250U2l6ZTpcIjEwcHhcIixsaW5lSGVpZ2h0OlwiMTJweFwiLHBvaW50ZXJFdmVudHM6XCJub25lXCIsXCJmbG9hdFwiOlwicmlnaHRcIixib3JkZXJCb3R0b21SaWdodFJhZGl1czpcIjJweFwiLG1heFdpZHRoOlwiMTAwJVwiLG1heEhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwiLHdoaXRlU3BhY2U6XCJub3dyYXBcIix0ZXh0T3ZlcmZsb3c6XCJlbGxpcHNpc1wifSx0LnJlbmRlcmluZz17Y2hlYXA6e291dGxpbmVDb2xvcjpcInJnYmEoMTgyLCAyMTgsIDE0NiwgMC43NSlcIix0ZXh0OntiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDE4MiwgMjE4LCAxNDYsIDAuNzUpXCJ9fSxhY2NlcHRhYmxlOntvdXRsaW5lQ29sb3I6XCJyZ2JhKDIyOCwgMTk1LCA2NiwgMC44NSlcIix0ZXh0OntiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDIyOCwgMTk1LCA2NiwgMC44NSlcIn19LGV4cGVuc2l2ZTp7b3V0bGluZUNvbG9yOlwicmdiYSgyMjgsIDE3MSwgMTcxLCAwLjk1KVwiLHRleHQ6e2JhY2tncm91bmRDb2xvcjpcInJnYmEoMjI4LCAxNzEsIDE3MSwgMC45NSlcIn19fSx0LmhvdmVyPXtvdXRsaW5lQ29sb3I6XCJyZ2JhKDEyOCwgMTI4LCAyNTUsIDAuNSlcIn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdFtcImRlZmF1bHRcIl09ZSx0fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gdShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCkscz1uKDIpLGM9cihzKSxkPW4oMjUpLHA9cihkKSxmPW4oMyksZz1uKDI3KSxoPW8oZyksYj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbixvLHI7aSh0aGlzLHQpO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGw9QXJyYXkodSkscz0wO3U+cztzKyspbFtzXT1hcmd1bWVudHNbc107cmV0dXJuIG49bz1hKHRoaXMsKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChsKSkpLG8uaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG8uc2V0U3RhdGUoe30pfSxvLmhhbmRsZUNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuKDAsZi5zZXRHbG9iYWxTdGF0ZSkoe2RlcGVuZGVuY3lUcmVlOnZvaWQgMH0pfSxyPW4sYShvLHIpfXJldHVybiB1KHQsZSksbCh0LFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2YuZXZlbnRFbWl0dGVyLm9uKFwidXBkYXRlXCIsdGhpcy5oYW5kbGVVcGRhdGUpfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtmLmV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcihcInVwZGF0ZVwiLHRoaXMuaGFuZGxlVXBkYXRlKX19LHtrZXk6XCJyZW5kZXJUcmVlSXRlbVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLm5hbWUscj1lLmRlcGVuZGVuY2llcyxpPXRoaXM7cmV0dXJuIGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7c3R5bGU6aC5pdGVtLGtleTpvfSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTpPYmplY3QuYXNzaWduKHt9LGguYm94LG4mJmguYm94LnJvb3QpfSxvKSxyJiZjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOmgudHJlZX0sci5tYXAoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5yZW5kZXJUcmVlSXRlbShlLHQ9PXIubGVuZ3RoLTEpfSkpLCFuJiZjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTpoLml0ZW1Ib3Jpc29udGFsRGFzaH0pLCFuJiZjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTpPYmplY3QuYXNzaWduKHt9LGguaXRlbVZlcmljYWxTdGljayx0JiZoLml0ZW1WZXJpY2FsU3RpY2tbXCJzaG9ydFwiXSl9KSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0oMCxmLmdldEdsb2JhbFN0YXRlKSgpLHQ9ZS5kZXBlbmRlbmN5VHJlZTtyZXR1cm4gY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChwW1wiZGVmYXVsdFwiXSx7b25PdmVybGF5Q2xpY2s6dGhpcy5oYW5kbGVDbG9zZX0sdCYmY1tcImRlZmF1bHRcIl0uY3JlYXRlRWxlbWVudChcImRpdlwiLHtzdHlsZTpoLmdyYXBofSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtzdHlsZTpoLmNsb3NlLG9uQ2xpY2s6dGhpcy5oYW5kbGVDbG9zZX0sXCLDl1wiKSxjW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOmgudHJlZX0sdGhpcy5yZW5kZXJUcmVlSXRlbSh0LCEwLCEwKSkpKX19XSksdH0ocy5Db21wb25lbnQpO3RbXCJkZWZhdWx0XCJdPWJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiYodFtuXT1lW25dKTtyZXR1cm4gdFtcImRlZmF1bHRcIl09ZSx0fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX1mdW5jdGlvbiBpKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gdShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCkscz1uKDIpLGM9cihzKSxkPW4oMjYpLHA9byhkKSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuLG8scjtpKHRoaXMsdCk7Zm9yKHZhciB1PWFyZ3VtZW50cy5sZW5ndGgsbD1BcnJheSh1KSxzPTA7dT5zO3MrKylsW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gbj1vPWEodGhpcywoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGwpKSksby5zdG9wUHJvcG9nYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCl9LHI9bixhKG8scil9cmV0dXJuIHUodCxlKSxsKHQsW3trZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5ib2R5LnBhcmVudE5vZGU7aWYoZS5jaGlsZHJlbiYmIXRoaXMucHJvcHMuY2hpbGRyZW4pdGhpcy5yaWdodE9mZnNldD0wLHQuc3R5bGUuYm9yZGVyUmlnaHQ9bnVsbCx0LnN0eWxlLm92ZXJmbG93PW51bGw7ZWxzZSBpZighZS5jaGlsZHJlbiYmdGhpcy5wcm9wcy5jaGlsZHJlbil7dmFyIG49dC5vZmZzZXRXaWR0aDt0LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCI7dmFyIG89dC5vZmZzZXRXaWR0aCxyPU1hdGgubWF4KDAsby1uKTt0LnN0eWxlLmJvcmRlclJpZ2h0PXIrXCJweCBzb2xpZCB0cmFuc3BhcmVudFwifX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNoaWxkcmVuLG49ZS5vbk92ZXJsYXlDbGljaztyZXR1cm4gdD9jW1wiZGVmYXVsdFwiXS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse3N0eWxlOnAub3ZlcmxheSxvbkNsaWNrOm59LGNbXCJkZWZhdWx0XCJdLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7a2V5OlwiY29udGVudFwiLHN0eWxlOnAubW9kYWwsb25DbGljazp0aGlzLnN0b3BQcm9wb2dhdGlvbn0sdCkpOm51bGx9fV0pLHR9KHMuQ29tcG9uZW50KTtmLnByb3BUeXBlcz17Y2hpbGRyZW46cy5Qcm9wVHlwZXMubm9kZSxvbk92ZXJsYXlDbGljazpzLlByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWR9LHRbXCJkZWZhdWx0XCJdPWZ9LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5vdmVybGF5PXtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjAsekluZGV4OjY2ZTMsb3ZlcmZsb3c6XCJhdXRvXCIsV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6XCJ0b3VjaFwiLG91dGxpbmU6MCxiYWNrZ3JvdW5kQ29sb3I6XCJyZ2JhKDQwLCA0MCwgNTAsIDAuNSlcIix0cmFuc2Zvcm1PcmlnaW46XCI1MCUgMjUlXCJ9LHQubW9kYWw9e3Bvc2l0aW9uOlwicmVsYXRpdmVcIix3aWR0aDpcImF1dG9cIixtYXJnaW46XCI1JSAxMCVcIix6SW5kZXg6MTA2MH19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dC5ncmFwaD17YmFja2dyb3VuZDpcIndoaXRlXCIscGFkZGluZzpcIjQwcHhcIn0sdC5jbG9zZT17Y29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuMilcIixmb250U2l6ZTpcIjM2cHhcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiNXB4XCIscmlnaHQ6XCI1cHhcIix3aWR0aDpcIjQwcHhcIixoZWlnaHQ6XCI0MHB4XCIsbGluZUhlaWdodDpcIjM0cHhcIix0ZXh0QWxpZ246XCJjZW50ZXJcIixjdXJzb3I6XCJwb2ludGVyXCIsXCI6aG92ZXJcIjp7Y29sb3I6XCJyZ2JhKDAsIDAsIDAsIDAuNSlcIn19LHQudHJlZT17cG9zaXRpb246XCJyZWxhdGl2ZVwiLHBhZGRpbmdMZWZ0OlwiMjVweFwifSx0Lml0ZW09e3Bvc2l0aW9uOlwicmVsYXRpdmVcIn0sdC5ib3g9e3BhZGRpbmc6XCI0cHggMTBweFwiLGJhY2tncm91bmQ6XCJyZ2JhKDAsIDAsIDAsIDAuMDUpXCIsZGlzcGxheTpcImlubGluZS1ibG9ja1wiLG1hcmdpbkJvdHRvbTpcIjhweFwiLGNvbG9yOlwiIzAwMFwiLHJvb3Q6e2ZvbnRTaXplOlwiMTVweFwiLGZvbnRXZWlnaHQ6XCJib2xkXCIscGFkZGluZzpcIjZweCAxM3B4XCJ9fSx0Lml0ZW1Ib3Jpc29udGFsRGFzaD17cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6XCItMTJweFwiLGJvcmRlclRvcDpcIjFweCBzb2xpZCByZ2JhKDAsIDAsIDAsIDAuMilcIix0b3A6XCIxNHB4XCIsd2lkdGg6XCIxMnB4XCIsaGVpZ2h0OlwiMFwifSx0Lml0ZW1WZXJpY2FsU3RpY2s9e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OlwiLTEycHhcIixib3JkZXJMZWZ0OlwiMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKVwiLGhlaWdodDpcIjEwMCVcIix3aWR0aDowLHRvcDpcIi04cHhcIixcInNob3J0XCI6e2hlaWdodDpcIjIzcHhcIn19fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgZmlyc3QgYXJndW1lbnQgdG8gb2JqZWN0XCIpO2Zvcih2YXIgbj1PYmplY3QoZSksbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspe3ZhciByPWFyZ3VtZW50c1tvXTtpZih2b2lkIDAhPT1yJiZudWxsIT09cilmb3IodmFyIGk9T2JqZWN0LmtleXMoT2JqZWN0KHIpKSxhPTAsdT1pLmxlbmd0aDt1PmE7YSsrKXt2YXIgbD1pW2FdLHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGwpO3ZvaWQgMCE9PXMmJnMuZW51bWVyYWJsZSYmKG5bbF09cltsXSl9fXJldHVybiBufWZ1bmN0aW9uIG8oKXtPYmplY3QuYXNzaWdufHxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LFwiYXNzaWduXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm59KX1lLmV4cG9ydHM9e2Fzc2lnbjpuLHBvbHlmaWxsOm99fV0pfSk7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rLCBSb3V0ZUNvbXBvbmVudFByb3BzIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcbmltcG9ydCB7IE5hdmJhciwgTmF2YmFyVG9nZ2xlciwgTmF2YmFyQnJhbmQsIENvbGxhcHNlIH0gZnJvbSAncmVhY3RzdHJhcCc7XHJcbmltcG9ydCB7IEZvcm0sIEZvcm1Hcm91cCwgSW5wdXRHcm91cCwgSW5wdXQsIENvbnRhaW5lciB9IGZyb20gJ3JlYWN0c3RyYXAnO1xyXG5pbXBvcnQgeyBBZG1pbk5hdiB9IGZyb20gXCIuL25hdmJhclwiO1xyXG5pbXBvcnQgeyBBcHBTdG9yZSB9IGZyb20gXCIuLi9zdG9yZS9hcHAtc3RvcmVcIjtcclxuaW1wb3J0IHsgaW5qZWN0LCBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XHJcbmltcG9ydCB7IExvYWRpbmdEaXNwbGF5IH0gZnJvbSBcIi4uL3NoYXJlZC9sb2FkaW5nLWRpc3BsYXlcIjtcclxuaW1wb3J0IHsgVXNlclRhYmxlIH0gZnJvbSBcIi4vdXNlci10YWJsZVwiO1xyXG5cclxuaW50ZXJmYWNlIElBZG1pblByb3BzIGV4dGVuZHMgUm91dGVDb21wb25lbnRQcm9wczxhbnk+IHtcclxuICAgIGFwcFN0b3JlOiBBcHBTdG9yZVxyXG59XHJcblxyXG5AaW5qZWN0KFwiYXBwU3RvcmVcIikgQG9ic2VydmVyXHJcbmV4cG9ydCBjbGFzcyBBZG1pbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJQWRtaW5Qcm9wcywgdW5kZWZpbmVkPiB7XHJcbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmFwcFN0b3JlLnVzZXIuYXV0aGVudGljYXRlZCB8fCAhdGhpcy5wcm9wcy5hcHBTdG9yZS51c2VyLmFkbWluaXN0cmF0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5oaXN0b3J5LnB1c2goXCIvYXBwL2xvZ2luXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcclxuICAgICAgICB0aGlzLnByb3BzLmFwcFN0b3JlLmFkbWluLmxvYWRVc2VycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBsZXQgY29udGVudDogYW55O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hcHBTdG9yZS5hZG1pbi5sb2FkaW5nVXNlcnMpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IDxMb2FkaW5nRGlzcGxheSAvPlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29udGVudCA9IDxVc2VyVGFibGUgdXNlcnM9e3RoaXMucHJvcHMuYXBwU3RvcmUuYWRtaW4udXNlcnN9IC8+XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgPEFkbWluTmF2IC8+XHJcbiAgICAgICAgICAgICAgICB7Y29udGVudH1cclxuICAgICAgICAgICAgPC9Db250YWluZXI+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsIu+7v2ltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTmF2YmFyLCBOYXZiYXJUb2dnbGVyLCBOYXZiYXJCcmFuZCwgQ29sbGFwc2UsIE5hdiwgTmF2SXRlbSwgTmF2TGluayB9IGZyb20gJ3JlYWN0c3RyYXAnO1xyXG5pbXBvcnQgeyBGb3JtLCBGb3JtR3JvdXAsIElucHV0R3JvdXAsIElucHV0R3JvdXBBZGRvbiwgSW5wdXQgfSBmcm9tICdyZWFjdHN0cmFwJztcclxuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xyXG5cclxuaW50ZXJmYWNlIElBZG1pbk5hdlByb3BzIHtcclxufVxyXG5cclxuaW50ZXJmYWNlIElBZG1pbk5hdlN0YXRlIHtcclxuICAgIGlzT3BlbjogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFkbWluTmF2IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElBZG1pbk5hdlByb3BzLCBJQWRtaW5OYXZTdGF0ZT4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElBZG1pbk5hdlByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBpc09wZW46IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGUoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgocHJldiwgcHJvcHMpID0+ICh7XHJcbiAgICAgICAgICAgIGlzT3BlbjogIXByZXYuaXNPcGVuXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPE5hdmJhciBjb2xvcj1cImZhZGVkXCIgbGlnaHQgdG9nZ2xlYWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8TmF2YmFyVG9nZ2xlciByaWdodCBvbkNsaWNrPXsoKSA9PiB0aGlzLnRvZ2dsZSgpfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxOYXZiYXJCcmFuZCBocmVmPVwiL2FwcC9hZG1pblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYW5hZ2VyIFVzZXJzXHJcbiAgICAgICAgICAgICAgICA8L05hdmJhckJyYW5kPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8Q29sbGFwc2UgaXNPcGVuPXt0aGlzLnN0YXRlLmlzT3Blbn0gbmF2YmFyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8TmF2IGNsYXNzTmFtZT1cIm1yLWF1dG9cIiBuYXZiYXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJuYXYtbGlua1wiIHRvPVwiL2FwcC9hZG1pbi9uZXdVc2VyXCI+TmV3IFVzZXI8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybSBpbmxpbmU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRHcm91cEFkZG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmEgZmEtZncgZmEtc2VhcmNoXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0lucHV0R3JvdXBBZGRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2hcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5wdXRHcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cclxuICAgICAgICAgICAgICAgIDwvTmF2YmFyPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsIu+7v2ltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgSVVzZXJTdW1tYXJ5IH0gZnJvbSBcIi4uL3N0b3JlL2FkbWluLXN0b3JlXCI7XHJcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSBcInJlYWN0c3RyYXBcIjtcclxuXHJcbmludGVyZmFjZSBJVXNlclRhYmxlIHtcclxuICAgIHVzZXJzOiBJVXNlclN1bW1hcnlbXVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElVc2VyVGFibGUsIHVuZGVmaW5lZD4ge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCByb3dzID0gdGhpcy5wcm9wcy51c2Vycy5zb3J0KChhLGIpPT5hLnJlYWxOYW1lLmxvY2FsZUNvbXBhcmUoYi5yZWFsTmFtZSkpLm1hcCh1ID0+IChcclxuICAgICAgICAgICAgPHRyIGtleT17dS5pZH0+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAge3UucmVhbE5hbWV9XHJcbiAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPlxyXG4gICAgICAgICAgICAgICAgICAgIHt1LmVtYWlsQWRkcmVzc31cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+XHJcbiAgICAgICAgICAgICAgICAgICAge3Uucm9sZX1cclxuICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoPFRhYmxlIHJlc3BvbnNpdmU+XHJcbiAgICAgICAgICAgIDx0aGVhZD5cclxuICAgICAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgICAgICBOYW1lXHJcbiAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgICAgIEVtYWlsXHJcbiAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgICAgIFJvbGVcclxuICAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgIHtyb3dzfVxyXG4gICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvVGFibGU+KVxyXG4gICAgfVxyXG59Iiwi77u/aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xyXG5pbXBvcnQgeyBSb290IH0gZnJvbSAnLi9yb290JztcclxuaW1wb3J0IHsgQXBwU3RvcmUgfSBmcm9tIFwiLi9zdG9yZS9hcHAtc3RvcmVcIjtcclxuaW1wb3J0IHsgUHJvdmlkZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xyXG5pbXBvcnQgRGV2VG9vbHMgZnJvbSBcIm1vYngtcmVhY3QtZGV2dG9vbHNcIjtcclxuXHJcbmNvbnN0IGFwcFN0b3JlID0gbmV3IEFwcFN0b3JlKCk7XHJcblxyXG5SZWFjdERPTS5yZW5kZXIoXHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxQcm92aWRlciBhcHBTdG9yZT17YXBwU3RvcmV9PlxyXG4gICAgICAgICAgICA8Um9vdCBzdG9yZT17YXBwU3RvcmV9IC8+XHJcbiAgICAgICAgPC9Qcm92aWRlcj5cclxuICAgICAgICA8RGV2VG9vbHMgLz5cclxuICAgIDwvZGl2PixcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb290JykpO1xyXG4iLCLvu79pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyBKdW1ib3Ryb24sIEJ1dHRvbiwgQ2FyZCwgQ2FyZEJsb2NrLCBDYXJkVGl0bGUsIENhcmRUZXh0LCBDYXJkRGVjaywgQ29udGFpbmVyIH0gZnJvbSAncmVhY3RzdHJhcCc7XHJcbmltcG9ydCB7IExpbmssIFJvdXRlQ29tcG9uZW50UHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgQXBwU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmUvYXBwLXN0b3JlXCI7XHJcbmltcG9ydCB7IGluamVjdCwgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xyXG5cclxuaW50ZXJmYWNlIElIb21lUHJvcHMgZXh0ZW5kcyBSb3V0ZUNvbXBvbmVudFByb3BzPGFueT4ge1xyXG4gICAgYXBwU3RvcmUgOiBBcHBTdG9yZVxyXG59XHJcblxyXG5AaW5qZWN0KFwiYXBwU3RvcmVcIikgQG9ic2VydmVyXHJcbmV4cG9ydCBjbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElIb21lUHJvcHMsIHVuZGVmaW5lZD4ge1xyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBqdW1wb0J1dHRvbiA9IHRoaXMucHJvcHMuYXBwU3RvcmUudXNlci5hdXRoZW50aWNhdGVkID9cclxuICAgICAgICAgICAgPExpbmsgdG89XCIvYXBwL21hcFwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGcgYnRuLXNqYS1kYXJrLWdyZWVuXCI+R28gdG8gTWFwIMK7PC9MaW5rPiA6XHJcbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL2FwcC9sb2dpblwiIGNsYXNzTmFtZT1cImJ0biBidG4tbGcgYnRuLXNqYS1kYXJrLWdyZWVuXCI+TG9nIGluIMK7PC9MaW5rPjtcclxuXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxDb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICA8SnVtYm90cm9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJkaXNwbGF5LTNcIj5TSkEgVHJhY2tlcjwvaDE+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibGVhZFwiPldlbGNvbWUgdG8gdGhlIFN0IEFtYnVsYW5jZSBTV1IgQ2VudHJhbCBEaXN0cmljdCBUcmFja2VyPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIHtqdW1wb0J1dHRvbn1cclxuICAgICAgICAgICAgICAgIDwvSnVtYm90cm9uPlxyXG5cclxuICAgICAgICAgICAgICAgIDxDYXJkRGVjayBjbGFzc05hbWU9XCJmcm9udC1wYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlPk5ldyBVc2VyczwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmIHlvdSBoYXZlIG5ldmVyIHVzZWQgdGhpcyBzaXRlIGJlZm9yZSwgeW91IHdpbGwgbmVlZCB0byBiZSBpc3N1ZWQgd2l0aCBhIHVzZXJuYW1lIGFuZCBwYXNzd29yZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89XCIvQ29udGFjdFwiIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1ibG9ja1wiPlJlcXVlc3QgQWNjb3VudCDCuzwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZT5HZXQgdGhlIFRyYWNrZXJzPC9DYXJkVGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlcmUgYXJlIGEgc2V0IG9mIGFwcHMgdG8gZW5hYmxlIHlvdXIgcGhvbmUgdG8gYmUgdHJhY2tlZCBmcm9tIHRoaXMgd2Vic2l0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgdG89XCJcIiBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tYmxvY2sgZGlzYWJsZWRcIiBkaXNhYmxlZD5Db21pbmcgU29vbjwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQmxvY2s+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZT5Qcml2YWN5IFBvbGljeTwvQ2FyZFRpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUZXh0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRvIGdldCBhIGJldHRlciBpZGVhIG9mIGhvdyB0aGlzIHdlYnNpdGUgaXMgdXNlZCBhbmQgaG93IGl0IGNhbiBiZSBtYWRlIGJldHRlciwgd2UgY29sbGVjdCBzb21lIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgeW91IGRvIHdpdGggdGhpcyBzaXRlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRleHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9Qb2xpY2llc1wiIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1ibG9ja1wiPkZpbmQgb3V0IE1vcmUgwrs8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgIDwvQ2FyZERlY2s+XHJcbiAgICAgICAgICAgIDwvQ29udGFpbmVyPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkQmxvY2ssIENhcmRUaXRsZSwgQnV0dG9uLCBGb3JtLCBGb3JtR3JvdXAsIExhYmVsLCBJbnB1dCwgSW5wdXRHcm91cCwgSW5wdXRHcm91cEFkZG9uLCB9IGZyb20gJ3JlYWN0c3RyYXAnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcblxyXG5pbnRlcmZhY2UgSUxvZ2luQm94U3RhdGUge1xyXG4gICAgdXNlcm5hbWU6IHN0cmluZztcclxuICAgIHBhc3N3b3JkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJTG9naW5Cb3hQcm9wcyB7XHJcbiAgICBvbkxvZ2luOiAodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luQm94IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElMb2dpbkJveFByb3BzLCBJTG9naW5Cb3hTdGF0ZT4ge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElMb2dpbkJveFByb3BzKSB7XHJcbiAgICAgICAgc3VwZXIocHJvcHMpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiBcIlwiLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVVc2VybmFtZShldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXNlcm5hbWU6IGV2ZW50LnRhcmdldC52YWx1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZVBhc3N3b3JkKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pikge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwYXNzd29yZDogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VibWl0Rm9ybShldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQ8SFRNTEZvcm1FbGVtZW50Pikge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMub25Mb2dpbih0aGlzLnN0YXRlLnVzZXJuYW1lLCB0aGlzLnN0YXRlLnBhc3N3b3JkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwibG9naW4tY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZT5Mb2cgSW48L0NhcmRUaXRsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0R3JvdXBBZGRvbj48c3BhbiBjbGFzc05hbWU9XCJmYSBmYS1mdyBmYS1hdFwiPjwvc3Bhbj48L0lucHV0R3JvdXBBZGRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiRW1haWxcIiBpZD1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIHZhbHVlPXt0aGlzLnN0YXRlLnVzZXJuYW1lfSBvbkNoYW5nZT17KGUpID0+IHRoaXMudXBkYXRlVXNlcm5hbWUoZSl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5wdXRHcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRHcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEdyb3VwQWRkb24+PHNwYW4gY2xhc3NOYW1lPVwiZmEgZmEtZncgZmEtbG9ja1wiPjwvc3Bhbj48L0lucHV0R3JvdXBBZGRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwiUGFzc3dvcmRcIiBpZD1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiIHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSBvbkNoYW5nZT17KGUpID0+IHRoaXMudXBkYXRlUGFzc3dvcmQoZSl9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5wdXRHcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBjbGFzc05hbWU9XCJidG4tYmxvY2tcIiBvbkNsaWNrPXsoZSkgPT4gdGhpcy5zdWJtaXRGb3JtKGUpfT5Mb2cgaW48L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayB0bz1cIi9hcHAvcmVzZXQtcGFzc3dvcmRcIj5Gb3Jnb3R0ZW4geW91ciBwYXNzd29yZD88L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTG9naW5Cb3ggfSBmcm9tICcuL2xvZ2luLWJveCc7XHJcbmltcG9ydCB7IFJvdXRlQ29tcG9uZW50UHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgQXBwU3RvcmUgfSBmcm9tIFwiLi4vc3RvcmUvYXBwLXN0b3JlXCI7XHJcbmltcG9ydCB7IGluamVjdCwgb2JzZXJ2ZXIgfSBmcm9tIFwibW9ieC1yZWFjdFwiO1xyXG5cclxuaW50ZXJmYWNlIElMb2dpblByb3BzIGV4dGVuZHMgUm91dGVDb21wb25lbnRQcm9wczxhbnk+IHtcclxuICAgIGFwcFN0b3JlIDogQXBwU3RvcmVcclxufVxyXG5cclxuQGluamVjdChcImFwcFN0b3JlXCIpIEBvYnNlcnZlclxyXG5leHBvcnQgY2xhc3MgTG9naW4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUxvZ2luUHJvcHMsIHVuZGVmaW5lZD4ge1xyXG4gICAgcHVibGljIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8TG9naW5Cb3ggb25Mb2dpbj17KHUsIHMpID0+IHRoaXMubG9naW4odSwgcyl9IC8+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGxvZ2luKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICAgICAgaGVhZGVycy5hcHBlbmQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChcIi90b2tlblwiLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLCBwYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5vaykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5hcHBTdG9yZS51c2VyLmNoZWNrQXV0aGVudGljYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhpc3RvcnkucHVzaChcIi9cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLmFwcFN0b3JlLnNob3dFcnJvcihcIkNvdWxkIG5vdCBjb250YWN0IHNlcnZlci4gIEFyZSB5b3Ugb25saW5lP1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsIu+7v2ltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgTmF2YmFyLCBOYXZiYXJUb2dnbGVyLCBOYXZiYXJCcmFuZCwgQ29sbGFwc2UsIE5hdiwgTmF2SXRlbSwgTmF2TGluayB9IGZyb20gJ3JlYWN0c3RyYXAnO1xyXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XHJcblxyXG5pbnRlcmZhY2UgSU1haW5OYXZQcm9wcyB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBhdXRoZW50aWNhdGVkOiBib29sZWFuO1xyXG4gICAgb25Mb2dvdXQ/OiAoKSA9PiB2b2lkO1xyXG4gICAgYWRtaW5pc3RyYXRvcjogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIElNYWluTmF2U3RhdGUge1xyXG4gICAgaXNPcGVuOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbk5hdiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJTWFpbk5hdlByb3BzLCBJTWFpbk5hdlN0YXRlPiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSU1haW5OYXZQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgaXNPcGVuOiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXYsIHByb3BzKSA9PiAoe1xyXG4gICAgICAgICAgICBpc09wZW46ICFwcmV2LmlzT3BlblxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGxvZ2luRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYXV0aGVudGljYXRlZCkge1xyXG4gICAgICAgICAgICBsb2dpbkVsZW1lbnQgPSA8TmF2SXRlbSBrZXk9XCJoZWxsb1wiPlxyXG4gICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9wcm9maWxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgSGVsbG8ge3RoaXMucHJvcHMubmFtZX1cclxuICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgPC9OYXZJdGVtPjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZ2luRWxlbWVudCA9IDxOYXZJdGVtPlxyXG4gICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9hcHAvbG9naW5cIj5Mb2cgaW48L0xpbms+XHJcbiAgICAgICAgICAgIDwvTmF2SXRlbT47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYWRtaW5MaW5rczogYW55O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wcy5hZG1pbmlzdHJhdG9yKSB7XHJcbiAgICAgICAgICAgIGFkbWluTGlua3MgPSA8TmF2SXRlbT5cclxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgdG89XCIvYXBwL2FkbWluXCI+QWRtaW48L0xpbms+XHJcbiAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxOYXZiYXIgY29sb3I9XCJzamEtZGFyay1ncmVlblwiIGludmVyc2UgdG9nZ2xlYWJsZT5cclxuICAgICAgICAgICAgICAgIDxOYXZiYXJUb2dnbGVyIHJpZ2h0IG9uQ2xpY2s9eygpID0+IHRoaXMudG9nZ2xlKCl9IC8+XHJcbiAgICAgICAgICAgICAgICA8TmF2YmFyQnJhbmQgaHJlZj1cIi9cIj5cclxuICAgICAgICAgICAgICAgICAgICBTSkEgVHJhY2tlclxyXG4gICAgICAgICAgICAgICAgPC9OYXZiYXJCcmFuZD5cclxuICAgICAgICAgICAgICAgIDxDb2xsYXBzZSBpc09wZW49e3RoaXMuc3RhdGUuaXNPcGVufSBuYXZiYXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPE5hdiBuYXZiYXI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9cIj5Ib21lPC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiB0bz1cIi9NYXBcIj5NYXA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTmF2SXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPE5hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJuYXYtbGlua1wiIHRvPVwiL0NvbnRhY3RcIj5Db250YWN0PC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L05hdkl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHthZG1pbkxpbmtzfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvTmF2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxOYXYgbmF2YmFyIGNsYXNzTmFtZT1cIm1sLWF1dG9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xvZ2luRWxlbWVudH1cclxuICAgICAgICAgICAgICAgICAgICA8L05hdj5cclxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XHJcbiAgICAgICAgICAgIDwvTmF2YmFyPik7XHJcbiAgICB9XHJcbn1cclxuIiwi77u/aW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBNYWluTmF2IH0gZnJvbSAnLi9uYXZiYXInO1xyXG5pbXBvcnQgeyBIb21lIH0gZnJvbSAnLi9ob21lL2hvbWUnO1xyXG5pbXBvcnQgeyBBZG1pbiB9IGZyb20gJy4vYWRtaW4vYWRtaW4nO1xyXG5pbXBvcnQgeyBMb2dpbiB9IGZyb20gJy4vbG9naW4vbG9naW4nO1xyXG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciwgUm91dGUsIFJvdXRlUHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0ICogYXMgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xyXG5pbXBvcnQgeyBBcHBTdG9yZSB9IGZyb20gXCIuL3N0b3JlL2FwcC1zdG9yZVwiO1xyXG5pbXBvcnQgeyBvYnNlcnZlciB9IGZyb20gXCJtb2J4LXJlYWN0XCI7XHJcbmltcG9ydCB7IEFsZXJ0LCBDb250YWluZXIgfSBmcm9tIFwicmVhY3RzdHJhcFwiO1xyXG5pbXBvcnQgeyBSb3V0ZUNvbXBvbmVudFByb3BzLCBSZWRpcmVjdCB9IGZyb20gXCJyZWFjdC1yb3V0ZXJcIjtcclxuaW1wb3J0IHsgTG9hZGluZ0Rpc3BsYXkgfSBmcm9tIFwiLi9zaGFyZWQvbG9hZGluZy1kaXNwbGF5XCI7XHJcblxyXG5pbnRlcmZhY2UgSVJvb3RQcm9wcyB7XHJcbiAgICBzdG9yZTogQXBwU3RvcmU7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJUm9vdFN0YXRlIHtcclxuICAgIGxvYWRpbmc6IGJvb2xlYW47XHJcbn1cclxuXHJcbkBvYnNlcnZlclxyXG5leHBvcnQgY2xhc3MgUm9vdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUm9vdFByb3BzLCBJUm9vdFN0YXRlPiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSVJvb3RQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgbG9hZGluZzogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tMb2dpbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNoZWNrTG9naW4oKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5wcm9wcy5zdG9yZS51c2VyLmNoZWNrQXV0aGVudGljYXRpb24odHJ1ZSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQXV0aGVudGljYXRpb24gUmV0dXJuZWQsIGNhbmNlbGxpbmcgbG9hZGluZyBwYWdlLlwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGxldCBzaG93RXJyb3IgPSB0aGlzLnByb3BzLnN0b3JlLmVycm9yLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmxvYWRpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDxMb2FkaW5nRGlzcGxheSAvPlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJvdXRlcj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPE1haW5OYXYgbmFtZT17dGhpcy5wcm9wcy5zdG9yZS51c2VyLm5hbWV9IGF1dGhlbnRpY2F0ZWQ9e3RoaXMucHJvcHMuc3RvcmUudXNlci5hdXRoZW50aWNhdGVkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdG9yPXt0aGlzLnByb3BzLnN0b3JlLnVzZXIuYWRtaW5pc3RyYXRvcn0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8Q29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWxlcnQgaXNPcGVuPXtzaG93RXJyb3J9IGNvbG9yPVwiZGFuZ2VyXCIgdG9nZ2xlPXsoKSA9PiB0aGlzLnByb3BzLnN0b3JlLmNsZWFyRXJyb3IoKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zdG9yZS5lcnJvcn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9BbGVydD5cclxuICAgICAgICAgICAgICAgICAgICA8L0NvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICA8Um91dGUgZXhhY3QgcGF0aD0nLycgY29tcG9uZW50PXtIb21lfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPScvYXBwL2xvZ2luJyBjb21wb25lbnQ9e0xvZ2lufSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3V0ZSBleGFjdCBwYXRoPScvYXBwL2FkbWluJyBjb21wb25lbnQ9e0FkbWlufSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvUm91dGVyPik7XHJcbiAgICB9XHJcbn1cclxuIiwi77u/aW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFByb2dyZXNzLCBSb3csIENvbCwgQ2FyZCwgQ2FyZEJsb2NrIH0gZnJvbSBcInJlYWN0c3RyYXBcIjtcclxuXHJcbmludGVyZmFjZSBJTG9hZGluZ0Rpc3BsYXkge1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTG9hZGluZ0Rpc3BsYXkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SUxvYWRpbmdEaXNwbGF5LCB1bmRlZmluZWQ+IHtcclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJ3YWl0aW5nLWRpc3BsYXlcIj5cclxuICAgICAgICAgICAgICAgIDxDb2wgbWQ9e3sgc2l6ZTogNCwgb2Zmc2V0OiA0IH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZEJsb2NrPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9uZSBtb21lbnQgcGxlYXNlLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzIHN0cmlwZWQgYW5pbWF0ZWQgdmFsdWU9ezEwMH0+PC9Qcm9ncmVzcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRCbG9jaz5cclxuICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgICAgICAgICA8L0NvbD5cclxuICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSIsIu+7v2ltcG9ydCB7IG9ic2VydmFibGUsIGFjdGlvbiB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgeyBBcHBTdG9yZSB9IGZyb20gXCIuL2FwcC1zdG9yZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlclN1bW1hcnkge1xyXG4gICAgcmVhbE5hbWU6IHN0cmluZztcclxuICAgIGVtYWlsQWRkcmVzczogc3RyaW5nO1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIHJvbGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFkbWluU3RvcmUge1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50U3RvcmU6IEFwcFN0b3JlKSB7XHJcbiAgICAgICAgdGhpcy5fYXBwU3RvcmUgPSBwYXJlbnRTdG9yZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9hcHBTdG9yZTogQXBwU3RvcmU7XHJcblxyXG4gICAgQG9ic2VydmFibGUgbG9hZGluZ1VzZXJzOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIEBvYnNlcnZhYmxlIHVzZXJzOiBJVXNlclN1bW1hcnlbXTtcclxuXHJcbiAgICBAYWN0aW9uIGxvYWRVc2VycyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICB0aGlzLmxvYWRpbmdVc2VycyA9IHRydWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKFwiL2FwaS91c2VyXCIsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzdWx0Lm9rKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJzID0gYXdhaXQgcmVzdWx0Lmpzb24oKSBhcyBJVXNlclN1bW1hcnlbXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVXNlcnMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICB0aGlzLl9hcHBTdG9yZS5zaG93RXJyb3IoXCJDb3VsZCBub3QgY29udGFjdCBzZXJ2ZXIuICBBcmUgeW91IG9ubGluZT9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsImltcG9ydCB7IFVzZXJTdG9yZSB9IGZyb20gXCIuL3VzZXItc3RvcmVcIjtcclxuaW1wb3J0IHsgQWRtaW5TdG9yZSB9IGZyb20gXCIuL2FkbWluLXN0b3JlXCI7XHJcbmltcG9ydCB7IG9ic2VydmFibGUsIGFjdGlvbiB9IGZyb20gJ21vYngnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcFN0b3JlIHtcclxuICAgIEBvYnNlcnZhYmxlIHVzZXI6IFVzZXJTdG9yZSA9IG5ldyBVc2VyU3RvcmUodGhpcyk7XHJcbiAgICBAb2JzZXJ2YWJsZSBlcnJvcjogc3RyaW5nID0gXCJcIjtcclxuICAgIEBvYnNlcnZhYmxlIGFkbWluOiBBZG1pblN0b3JlID0gbmV3IEFkbWluU3RvcmUodGhpcyk7XHJcblxyXG4gICAgQGFjdGlvbiBzaG93RXJyb3IgPSAobXNnOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLmVycm9yID0gbXNnO1xyXG4gICAgfVxyXG5cclxuICAgIEBhY3Rpb24gY2xlYXJFcnJvciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmVycm9yID0gXCJcIjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IG9ic2VydmFibGUsIGFjdGlvbiB9IGZyb20gJ21vYngnO1xyXG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcclxuaW1wb3J0IHsgQXBwU3RvcmUgfSBmcm9tIFwiLi9hcHAtc3RvcmVcIjtcclxuXHJcbmludGVyZmFjZSBJV2hvQW1JUmVzdWx0IHtcclxuICAgIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgICByZWFsTmFtZTogc3RyaW5nO1xyXG4gICAgcm9sZTogc3RyaW5nW107XHJcbiAgICB1c2VyTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlclN0b3JlIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudFN0b3JlOiBBcHBTdG9yZSkge1xyXG4gICAgICAgIHRoaXMuX2FwcFN0b3JlID0gcGFyZW50U3RvcmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfYXBwU3RvcmU6IEFwcFN0b3JlO1xyXG5cclxuICAgIEBvYnNlcnZhYmxlIGF1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgICBAb2JzZXJ2YWJsZSBuYW1lOiBzdHJpbmc7XHJcbiAgICBAb2JzZXJ2YWJsZSBhZG1pbmlzdHJhdG9yOiBib29sZWFuO1xyXG5cclxuICAgIEBhY3Rpb24gY2hlY2tBdXRoZW50aWNhdGlvbiA9IGFzeW5jICh0cnlSZWZyZXNoOiBib29sZWFuID0gZmFsc2UpID0+IHtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKCcvYXBpL2FjY291bnQvd2hvYW1pJywge1xyXG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgd2hvQW1JID0gYXdhaXQgcmVzdWx0Lmpzb24oKSBhcyBJV2hvQW1JUmVzdWx0O1xyXG5cclxuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSB3aG9BbUkuYXV0aGVudGljYXRlZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSB3aG9BbUkucmVhbE5hbWU7XHJcbiAgICAgICAgdGhpcy5hZG1pbmlzdHJhdG9yID0gXy5pbmNsdWRlcyh3aG9BbUkucm9sZSwgXCJBZG1pblVzZXJcIik7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5hdXRoZW50aWNhdGVkICYmIHRyeVJlZnJlc2gpXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVmcmVzaEF1dGhlbnRpY2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgQGFjdGlvbiByZWZyZXNoQXV0aGVudGljYXRpb24gPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKFwiL3JlZnJlc2hUb2tlblwiLCB7XHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcInNhbWUtb3JpZ2luXCIsXHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCJcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5jaGVja0F1dGhlbnRpY2F0aW9uKCk7XHJcbiAgICB9XHJcbn0iXX0=
